2012-03-12 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSKeyValueBinding.h,
	* Source/externs.m: Additional binding names.
	* Source/GSBindingHelpers.h,
	* Source/NSKeyValueBinding.m: Additional helper methods.
	* Source/NSObjectController.m: Use helper methods.
	* Source/NSArrayController.m: Signal when the arranged objects change.
	* Source/NSTableColumn.m,
	* Source/NSTableView.m: First attempt at support for content binding.

2012-03-09  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSTableView.m:
	* Source/GSNibLoading.m: Move -[coder setClassName: @"_NSCornerView"
	forClass: [GSTableCornerView class]] call from
	-[NSTableView initWithCoder:] to GSNibLoading, because corner views
	can be encountered before hitting -[NSTableView initWithCoder:]

2012-03-09  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSClipView.m: Re-enable copy-on-scroll

2012-03-09  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSWindow.m: Only invoke -prepareForDragOperation: if the
	most recent -draggingEntered: or -draggingUpdated: call returned
	something other than NSDragOperationNone.
	* Source/NSOutlineView.m (-draggingUpdated:): Save the drag operation
	value returned from the data source in a static variable.
	Previously it was fetched once and then discarded, so all drags were
	being mistakenly permitted.

2012-03-08 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSObjectController.m: Complete encoding/decoding methods.
	* Headers/AppKit/NSArrayController.h,
	* Source/NSArrayController.m: Add some implementation to this
	class.

2012-03-05  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSMenuItemCell.m (-titleRectForBounds:): Attempted fix
	for bug 35702.
	Don't use [_menuView imageAndTitleWidth] or
	_titleWidth in calculating the size to put the title in. In other
	words, -titleRectForBounds: will now return the available space
	for the title, rather than the rect that the title text is
	predicted to use up.

2012-02-29 10:31-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/AppKit/NSTreeController.h
	* Headers/AppKit/NSTreeNode.h
	* Source/NSTreeController.m: Add tree controller skeleton.

2012-02-29 10:25-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/GNUmakefile: Add GSXibLoading.m file to GNUmakefile.
	* Source/GSXibLoading.m: Add some classes which I found
	are relevant to Xib loading: IBAccessibilityAttribute,
	IBUserDefinedRuntimeAttributesPlaceholder.

2012-02-28  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSPrintPanel.m: Add file type chooser (PDF, PostScript)
	to save panel

2012-02-27  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSMenuItemCell.m (-titleRectForBounds:): Keep title rect
	inside cell bounds, to prevent drawing text outside of a
	NSPopUpButtonCell which has a label that is too long to fit.

2012-02-27 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindowController.m (-initWithWindow:): Set the owner to
	self and only call setDocument: if we have an actual window.

2012-02-24  Eric Wasylishen  <ewasylishen@gmail.com>

	* Headers/AppKit/NSImageRep.h: Add comment clarifying that -draw
	is a primitive method which subclasses should override.

2012-02-20 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow.m (-setFrameFromString:): Correct bug in
	handling of in-window menus.

2012-02-19  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSOpenPanel.m (-beginSheetForDirectory:...,
	-beginForDirectory:...): Replace calls to -_setupForTypes: by
	-setAllowedFileTypes:, as the former was removed from the super
	class NSSavePanel.

2012-02-19  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSMenu.m (-performActionForItemAtIndex:): Revert change
	from r34642. The action of a pop up menu item once again is chosen
	in preference to the action of the pop up button itself. This is
	how it has always worked on OS X.

	* Source/NSPopUpButtonCell.m (_popUpItemAction): Fix sender of the
	pop up button's action. It is now the pop up button itself and not
	the pop up button cell.

2012-02-18 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSGraphicsContext.h: Extend the enumerator
	NSCompositingOperation with the GNUstep specifc value
	GSCompositeHighlight.
	* Source/Functions.m (NSHighlightRect): Use GSCompositeHighlight
	instead of NSCompositeHighlight.

2012-02-16  Eric Wasylishen  <ewasylishen@gmail.com>

	* Headers/AppKit/NSGraphics.h: Add missing declaration for
	NSFrameRectWithWidthUsingOperation

2012-02-15 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBitmapImageRep.m
	(-_convertToFormatBitsPerSample:...bitsPerPixel:): Correct
	handling of black data.

2012-02-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPasteboard.m: Use an NSMapTable to store pasteboards so we
	don't have to do the nasty retain count hack to deallocate them.
	Fix encoding so that filter meta-pasteboards are sent to gpbs by
	reference rather than bycopy.  Add special proxy to avoid data objects
	being copied to/from pasteboard server when created by filters.
	* Tools/make_services.m: Fix buggy initialisation of 'verbose' setting.
	Add check/warning if filter service has non-filename send types.

2012-02-08 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPasteboard.m (+pasteboardByFilteringFile:): Correct
	typo in Richard's change.
	* Source/NSPasteboard.m (-pasteboard:provideDataForType:): Use the
	file name directly instead of reading the file contents.
	* Source/NSImageRep.m (+imageRepsWithContentsOfFile:, +imageFileTypes):
	Start working on filter service support for images.

2012-02-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPasteboard.m: ([+pasteboardByFilteringFile:]) fixed to
	specify source as file names, not file contents.

2012-02-03  Adam Fedor  <fedor@gnu.org>

	* Bump version

2012-02-03  Eric Wasylishen  <ewasylishen@gmail.com>

	* Headers/AppKit/NSOutlineView.h:
	* Source/NSOutlineView.m: Add support for
	outlineView:dataCellForTableColumn:item: delegate method
	* Headers/AppKit/NSTableView.h:
	* Source/NSTableView.m: Add support for
	tableView:dataCellForTableColumn:row: delegate method

2012-02-03  Adam Fedor  <fedor@gnu.org>

	* Version 0.22.0
	* Update release notes

2012-02-01 Riccardo Mottola <rm@gnu.org>

	* Source/GSThemePanel:
	centerScanRect button to avoid blurring

2012-02-01 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSThemeInspector.m: Add missing include.

2012-02-01 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBitmapImageRep.m (-initWithFocusedViewRect:): Return
	nil if the image data is empty. This could lead to an exception
	alter on.
	* Source/NSImage.m (-TIFFRepresentationUsingCompression:factor:,
	-TIFFRepresentation): Deal with -initWithFocusedViewRect: returning nil.

2012-02-01 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMenu.m (-setMain:): Rearrange code to avoid duplicate
	menu for in-window menu themes.

2012-02-01 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSThemeInspector.m (-update:): Don't get the frame from a
	non-existing view.

2012-01-30 Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSImageCell.m (-drawInteriorWithFrame:inView:): Only
	draw at 50% opacity if no bezel is set for cocoa compatibility.

2012-01-30 Eric Wasylishen  <ewasylishen@gmail.com>

	* Images/common_ToolbarClippedItemsMark.tiff: Revert to older
	version because 48x48 scaled version looks too big. Also add
	high-DPI version.

2012-01-30 Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/GNUmakefile: Remove GSGhostscriptImageRep from the build
	* Source/NSImageRep.m: Remove GSGhostscriptImageRep
	* configure.ac: Disable ImageMagic by default
	* configure: Regenerate

2012-01-28 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMenu.m (-setMain:): Remove the in-window menu when
	switching to a theme without that.

2012-01-27 Fred Kiefer <FredKiefer@gmx.de>

	* Images/common_ToolbarClippedItemsMark.tiff: Revert to an older
	version, scaled up to 48x48.

2012-01-26 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMenu.m (-performActionForItemAtIndex:): Check for the
	popup button cell and its action, before checking for the item
	action. This caused a problem due to NIB decoding changes.

2012-01-26 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTextView.m (-updateRuler): Replace last change with one
	that checks whether the text view is the client view of the ruler
	and only sets the markers in that case.

2012-01-25 Doug Simons  <doug.simons@testplant.com>

	* Source/NSTextView.m (-updateRuler): Call setClientView: before
	calling setMarkers: to fix a problem when a textView's text is
	set or changed when the textView is not the first responder,
	such as at windowControllerDidLoadNib: time.

2012-01-25  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSImage.m (+imageNamed:): Don't try to look up path
	if called with nil (just return nil).

2012-01-25  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSClipView.m: Disable copy-on-scroll until after release

2012-01-25  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSClipView.m (-constrainScrollPoint:): Revert last change
	until after the release.

2012-01-24 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSSecureTextField.m: Add GSSimpleSecureGlyphGenerator and
	use this to generate the bullet glyphs.

2012-01-23 Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSClipView.m (-constrainScrollPoint:): Restore old code
	which correctly rounded the scroll point to an integer point in
	device-space. It seems the correct code was commented out in 2002,
	perhaps as a performance optimisation?

2012-01-23 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSToolbarFrameworkPrivate.h,
	* Headers/AppKit/NSMatrix.h: Remove duplicated method declarations.
	* TextConverters/RTF/RTFProducer.h: Change docDict to NSDictionary.
	* Source/GSTheme.m,
	* Source/GSWindowDecorationView.m: Add missing type cast.
	* Headers/AppKit/NSCell.h,
	* Source/NSCell.m,
	* Source/NSButtonCell.m: Change _contents to id.
	* Source/GSNibLoading.m: Add missing import.
	* Source/NSPasteboard.m: Declare release as oneway.
	* Source/GSNibLoader.m: Change class to NSKeyedUnarchiver.
	* Source/GSXibLoader.m: Use correct printf type specifier.
	* Headers/AppKit/NSBitmapImageRep.h,
	* Source/NSBitmapImageRep.m: Change _imageData to NSData.
	Fix clang compiler warnings as reported by Sebastian Reitenbach
	<sebastia@l00-bugdead-prods.de>.

2012-01-21 Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSView.m (-setBounds:, -setBoundsOrigin:, -setBoundsSize:):
	Revert a portion of r32955 which I committed last april but I now
	see was a mistake, and I just discovered is breaking the  copy-on-scroll
	behaviour of NSClipView - we end up always redrawing the entire visible
	portion of the document view right now.

	In r32955 I added [self setNeedsDisplay: YES] calls to these methods
	even though these are documented explicitly as not marking the view for
	needing display. Approved by Fred for commit during the code freeze.

2012-01-20 German Arias <german@xelalug.org>

	* Source/GSInfoPanel.m (-initWithDictionary:): Fix bug #35335.

2012-01-19 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSCell.m (-setStringValue:, setObjectValue:): Always use
	ASSIGNCOPY for the contents. This fixes memory leak of last
	commit.

2012-01-19 Riccardo Mottola <rm@gnu.org>

	*Source/NSCell.m:
	Add missing autoreleases.

2012-01-19 Riccardo Mottola <rm@gnu.org>

	*Source/NSCell.m:
	Copy contents before setting it [setObjectValue]

2012-01-18 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSImageView.h,
	* Source/NSImageView.m: Protect image drag with new ivar that gets
	set via a new GNUstep extension method.

2012-01-15  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSImageCell.m (-drawInteriorWithFrame:inView:):
	Draw image with 50% opacity if the cell is disabled

2012-01-15  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSTableColumn.m (-initWithIdentifier:): Make data
	cell editable by default.

2011-01-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTheme.m:
	* Source/NSImage.m:
	Attempt to get image support working as documented again ... restore
	code in GSTheme to set up new named images on activation and restore
	originals on deactivation (rather than doing everything in a
	notification handler at the wrong point).
	Honor +imageClass as the class to load new images again.
	Hopefully this will get the windows and gnome
	themes working again (though I dn't use either).

2011-01-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTheme.m: Clean up and simplify theme switching based on
	defaults system values.

2012-01-12 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSStandardWindowDecorationView.m (-mouseDown:): Pass the
	event on to the super implementation if we don't handle it.

2012-01-11 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSImage.m (+_clearFileTypeCaches): Use DESTROY instead
	of RELEASE.
	Patch by Philippe Roussel <p.o.roussel@free.fr>.

2012-01-10  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSImage.m: Remove duplicate #import
	* Source/NSImage.m: Correct _clearFileTypeCaches notification
	method to take a NSNotification* parameter.
	* Soure/NSImage.m (themeDidActivate:): Move to a class method,
	and move the GSThemeDidActivateNotification subscription
	to +[NSImage initialize]. Now the +_themeDidActivate: updates
	all images by looking at all the values in nameDict. This should
	function exactly the same as before, but seems to be quite a bit
	faster due to fewer notifications being sent (?)
	* Source/NSImage.m (+imageNamed:): Remove redundant fetch from
	nameDict pointed out by Fred

2012-01-10  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSImage.m (+pathForImageNamed:): Add underscore and
	move to private category. Also remove use of lock as it is
	unnecessary
	* Source/NSImage.m: (-themeDidActivate:): Extract method
	_resetAndUseFromFile:. Don't reset _size if
	flags.sizeWasExplicitlySet was true.

2012-01-10  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSOpenPanel.m: Rewrite/simplify selection handling,
	fix bug reported by Riccardo where OK button is disabled when
	selecting directories after selecting a file.

2012-01-10  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/GSGhostscriptImageRep.m: Add missing ASSIGN

2012-01-09  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/GSTheme.m: Remove code which sets and unsets images
	on theme activation/deactivation.
	* Source/NSImage.m (+imageNamed:): Factor out code for finding
	the path for a name to a separate method, +pathForImageNamed.
	The code is unchanged otherwise, except for fixing the retrieval
	of images from the theme bundle, which was broken.
	* Source/NSImage.m (-setName:): Remove code for creating theme
	proxy. Subscribe/unscribe to theme change notification when
	the receiver is added/removed from the name dictionary.
	* Source/NSImage.m (-themeDidActivate:): Method called in
	response to a GSThemeDidActivateNotification on images with
	a name set. It does a path lookup in the same way that
	+imageNamed: would, and checks if the path has changed due
	to the theme change. If it has, all reps are discarded and
	the image at the new path is loaded. This avoids the need for
	the theme proxy objects.

2012-01-09 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSImage.m (+imageUnfilteredFileTypes, +imageFileTypes,
	+imageUnfilteredPasteboardTypes, +imagePasteboardTypes,
	+initialize, +_clearFileTypeCaches): Cache the file type results
	for the image reps and clear the cache when these change.

2012-01-03 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPrinter.m (-loadPPDAtPath:...inclusionSet:): Raise an
	exception if PPD file cannot be read.

2012-01-01  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSLayoutManager.m (-characterIndexMoving:...): Fix two
	incorrect comparisons which were causing range exceptions when
	moving the cursor up in the first line and down in the last line
	of a NSTextView, respectively.

2011-12-31  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSPrintOperation.m (_print): Fix read of uninitialized
	variable, which was breaking printing of wrap-to-page mode in
	TextEdit. TODO: Run the printing code through valgrind, there is
	a lot of suspicious code.

2011-12-29  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextView.m(-initWithFrame:textContainer:,
	-setFieldEditor:): Change the default text container inset to
	(0,0) to reduce blank space around text.

2011-12-29  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSLayoutManager.m (-_insertionPointRectFor...,
	-insertionPintRect...): Get the insertion point rectangle right
	for character index 0.

2011-12-29  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextView.m (-resizeSubviewsWithOldSize:): Adjust
	minimum and maximum sizes to ensure that the minimum size is not
	greater than the current size and the maximum size is not smaller
	than the current size.

2011-12-27 German Arias <german@xelalug.org>

	* Resources/Spanish.lproj/Localizable.strings: Update.

2011-12-22 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTextView.m (-setFieldEditor:): Use different values for
	both cases.

2011-12-22  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSSavePanel.m (-browser:createRowsForColumn:inMatrix:):
	Set icon size based on cell's cellSize

2011-12-22 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPrintOperation.m (-_print): Remove unused variable.
	* Source/GSLayoutManager.m (-_generateRunsToCharacter:): Remove
	unused variable.
	* Source/NSToolbar.m (-initWithCoder:): Don't call non-exisiting
	super method.
	* Source/GSNibLoading.m (-nibInstantiate): Add type cast for toolbar.
	* TextConverters/RTF/RTFProducer.m (-_addAttributesString:): Use
	destString instead of dest when writing the NSLinkAttributeName.

2011-12-20  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSBrowserCell.m (-drawInteriorWithFrame:inView:):
	Restore code to draw the background when the cell is highligted

2011-12-18  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSSavePanel.m (-browser:createRowsForColumn:inMatrix:):
	Set file icons on browser cells in the open/save panels.

2011-12-18  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSBrowserCell.m (-drawInteriorWithFrame:inView:):
	When highlighted, use -image if -alternateImage is nil.

2011-12-18  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSTableView.m (-_isCellEditableColumn:row:): Tweak
	criteria for determining cell editability::
	- the delegate (if present) must say YES
	- and the cell itself must return YES for isEditable
	- and the table column must return YES for isEditable
	Previously you could edit cells that returned NO for
	isEditable if the column they were in was editable.

2011-12-18  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSTableHeaderView.m (-initWithCoder:): Remove unneeded
	"_tableView = nil" which was causing a problem with my xib file.

2011-12-18  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSBrowserCell.m (-image, -setImage:): Override NSCell
	implementation so these methods work without requiring the
	cell to be an image cell.
	* Source/NSBrowserCell.m (-drawInteriorWithFrame:inView:): Don't
	draw background. Remove -(void) isOpaque { return YES; }. Also
	pixel-align images and use modern -drawInRect: method.

2011-12-18 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSOutlineView.m (-_openItem:): Changed i fron NSUInteger
	to NSInteger.

2011-12-17 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSSliderCell.h
	* Headers/AppKit/NSLevelIndicator.h
	* Headers/AppKit/NSButtonCell.h
	* Headers/AppKit/NSButton.h
	* Headers/AppKit/NSMenuItem.h
	* Headers/AppKit/NSLevelIndicatorCell.h
	* Headers/AppKit/NSSlider.h
	* Headers/AppKit/NSTabView.h
	* Headers/AppKit/NSCell.h
	* Headers/AppKit/NSDrawer.h
	* Source/NSSliderCell.m
	* Source/NSLevelIndicator.m
	* Source/NSButtonCell.m
	* Source/NSButton.m
	* Source/NSMenu.m
	* Source/NSMenuItem.m
	* Source/NSLevelIndicatorCell.m
	* Source/NSComboBoxCell.m
	* Source/NSToolbarItem.m
	* Source/NSSlider.m
	* Source/NSTabView.m
	* Source/NSCell.m
	* Source/NSWindow.m
	* Source/NSDocumentController.m
	* Source/NSTableView.m
	* Source/NSOutlineView.m
	* Source/NSParagraphStyle.m
	* Source/NSPopUpButtonCell.m
	* Source/NSView.m
	* Source/NSDrawer.m
	* Source/GSNibLoading.m
	* Source/GSXibLoader.m
	* Source/GSToolbarView.m
	* Source/GSTheme.m
	* Source/GSThemeDrawing.m
	* ColorPickers/GSNamedColorPicker.m:
	Replace some occurences of int with NSInteger
	and unsigned with NSUInteger. This allows to recompile gui on 64
	bit systems after the change to NSNotFound in base.

2011-12-16 Riccardo Mottola <rm@gnu.org>

	* Panels/English.lproj/GSPrintPanel.gorm
	Tweaked positions and removed fractionary ones.

2011-12-15  Eric Wasylishen  <ewasylishen@gmail.com>

	* Headers/AppKit/NSTextView.h: Change _dragTargetLocation to NSUInteger
	because NSNotFound no longer fits in unsigned int on 64-bit

2011-12-15  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSPrintPanel.m:
	Move _finalWritePrintInfo: call to the end of _pickedButton:. This
	fixes the save and preview buttons for me.

2011-12-14  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSPrinter.m:
	* Source/NSPrintOperation.m:
	* Source/NSPageLayout.m:
	* Source/NSPrintInfo.m:
	* Headers/AppKit/NSPrintInfo.h: Migrate printing code to CGFloat
	or double.
	* Source/NSTextView.m: Rewrite -adjustPageHeightNew:top:bottom:limit:

2011-12-14  Eric Wasylishen  <ewasylishen@gmail.com>

       * Source/NSImageCell.m: if drawing on a view use -centerScanRect:
	to pixel align the drawing rect.

2011-12-02 German Arias <german@xelalug.org>

	* Source/NSAlert.m (-_setupPanel): Verify if there is error
	information to be displayed.

2011-12-02  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextView.m (-buildUpTextNetwork:):
	* Source/NSTextContainer.m (-initWithContainerSize):
	* Source/NSStringDrawing.m (init_string_drawing):
	Reinstate Fred's change with the additional correction to the
	string drawing code he proposed on the mailing list.

2011-12-01  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSTextView.m
	(-_scheduleTextCheckingInVisibleRectIfNeeded): Check for
	nil before sending -rectValue to avoid crash

2011-11-28 Gregory Casamento <greg.casamento@gmail.com>

	* Source/NSTextView.m (-buildUpTextNetwork:):
	* Source/NSTextContainer.m (-initWithContainerSize:):
	revert previous change by Fred since it was causing labels
	and textfields to also be shifted which is not correct.

2011-11-28 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPopUpButtonCell.m (-initWithCoder:): If no selection
	index is given select the first item. This should fix bug #34923.

2011-11-28 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTextView.m (-buildUpTextNetwork:): Move setting the
	default line framgent padding from here ...
	* Source/NSTextContainer.m (-initWithContainerSize:): ... to here.

2011-11-28 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSOpenGLView.m (-_frameChanged:): Don't send -reshape
	before -prepareOpenGL.
	Patch by Julian Mayer <julian@corecode.at>.

2011-11-28 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/AppKit.h: Add NSColorSpace.h. This fixes bug #34913.

2011-11-28 Gregory Casamento <greg.casamento@gmail.com>

	* Source/NSTextView.m: Add code to set the default
	of 5.0 in the -buildUpTextNetwork method.
	* Source/NSTextContainer.m: In -lineFragmentForProposedRect:...
	add _lineFragmentPadding to min and subtract from max to
	shift the line fragment rectangle.
	* Source/NSLayoutManager.m: In -insertionPointRectForCharacterIndex:..
	add the padding to the initial position of the insertion point
	so that before there is anything in the text container, the cursor
	is sitting at the correct position.

2011-11-25 20:27  theraven

	* libs/gui/trunk/Headers/AppKit/NSApplication.h: NSAutoreleasePool*
	  -> id in NSApplication.h, so the header can be used in ARC code
	  (which prohibits explicit references to NSAutoreleasePool).

2011-11-18  Eric Wasylishen  <ewasylishen@gmail.com>

	* Images/nsmapping.strings: Add a few more mappings, including
	toolbar images

2011-11-18  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/GSNibLoading.m:
	* Source/NSToolbar.m:
	* Source/GSToolbarCustomizationPalette.m:
	* Source/GSToolbarView.m:
	* Source/NSToolbarItem.m:
	* Source/NSToolbarFrameworkPrivate.h:
	* Headers/AppKit/NSToolbar.h: Implement -initWithCoder: for
	NSToolbar. This required a bit more work that usual because
	toolbars created with -initWithCoder can operate without a delegate.

2011-11-17 Riccardo Mottola <rm@gnu.org>

	* Source/NSButtonCell.m:
	Minor compiler compatibility.

2011-11-16  Quentin Mathe <quentin.mathe@gmail.com>

	Improved the menu theming to support some common menu look variations.
	Fixed bug #34792 too.
	* Headers/Additions/GNUstepGUI/GSTheme.h
	* Source/GSThemeDrawing.m 
	(-menuBackgroundColor, -menuItemBackgroundColor, -menuBorderColor
	-menuBorderColorForEdge:isHorizontal:, 
	-drawsBorderForMenuItemCell:state:isHorizontal:, 
	-drawTitleForMenuItemCell:withFrame:inView:state:isHorizontal:, 
	-menuSeparatorInset): Added.
	(-menuBarBackgroundColor, -menuBarBorderColor): Added but not yet used.
	(-menuSeparatorColor): Renamed -menuSeparatorItemColor.
	* Source/NSMenuItemCell.m 
	(-backgroundColor:): Changed to get the background color from 
	-menuItemBackgroundColor.
	(-themeControlState): Added.
	(-drawTitleWithFrame:inView:): Moved drawing code to GSTheme.
	Made separator menu item themable, by moving the drawing code from
	NSMenuItemCell to a new method in GSThemeDrawing.

2011-11-13 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSImage.m (-bestRepresentationForDevice:): Fix last
	change for the case where there are no representations for the image.

2011-11-13 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSUserDefaultsController.m
	([GSUserDefaultsHelper-valueForKey:]) Use a marker for values
	being nil. This should fix bug #34790.

2011-11-11  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSImage.m (-bestRepresentationForDevice:): When
	all other matching criteria fail, use the first image instead
	of the last (arbitrary, but seems to match cocoa.)

2011-11-11  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSAlert.m: Use NSImageScaleProportionallyUpOrDown on
	app icon button cell.

2011-11-11  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSImage.m (-setScalesWhenResized:): Disable this method
	as it is currently broken on the cairo backend.
	* Source/NSApplication.m (-setApplicationIconImage:): Don't
	use call -setScalesWhenResized:, because if it worked as it is
	supposed to, it would scale all icon reps down to 48x48,
	making large icon sizes useless.

2011-11-11  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/GSInfoPanel.m: Fix app icon button size at 48x48 and use
	NSImageScaleProportionallyUpOrDown.
	This prevents icons with large sizes (e.g. 512x512 pixel) from
	making the info panel really big.

2011-11-11  Eric Wasylishen  <ewasylishen@gmail.com>

	* Headers/AppKit/NSImageCell.h:
	* Headers/AppKit/NSCell.h: Move NSImageScaling constants to NSCell
	* Source/NSImageCell.m:
	* Source/NSCell.m: Refactor the image scaling logic to a private
	method in NSCell, -_scaleImageWithSize:toFitInSize:scalingType:
	which can be share by NSImageCell, NSButtonCell, and any other
	cell classes that need it.
	* Source/NSButtonCell.m:
	* Headers/AppKit/NSButtonCell.h: Implement -imageScaling and
	-setImageScaling methods. 
	* Source/GSThemeDrawing.m:
	* Headers/Additions/GNUstepGUI/GSTheme.h: Remove the
	-drawImage:inButtonCell:withFrame:position: API intended
	to let themes substitute images right before drawing,
	as IMHO it's the wrong place to hook in new images (by
	the time this method was caleld, sizing/positionging
	was already done).

2011-11-11 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSXibLoader.m: Better handling for flattened properties
	to set the tool tips of an object.

2011-11-07 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSKeyValueBinding.m
	([GSKeyValueBinding-transformValue:withOptions:]): Don't use @""
	when no null placeholder is defined.

2011-11-07 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSColorWell.m (-objectValue, -setObjectValue:,
	-takeObjectValueFrom:): Add these missing methods.

2011-11-06  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSBitmapImageRep+PNG.m:
	HACK: PNG can not represent 72DPI exactly. If the pixels-per-meter value is
	near 72DPI, assume it is exactly 72 DPI. Note that the same problem occurrs
	at 144DPI, or 288DPI... so don't use PNG for resolution independent graphics.

2011-11-06 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPopUpButtonCell.m (-insertItemWithTitle:atIndex:): Set
	the action on the menu item to -_popUpItemAction:.

2011-11-05 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSXibLoading.h,
	* Source/GSXibLoader.m: Add decoding of class IBInitialTabViewItemAttribute.

2011-11-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSInfoPanel.m: Tolerate 'Authors' being a string containing
	a single author as well as an array.

2011-11-03 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTabView.m: Add some bindings for NSTabView.

2011-11-01  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSColorPanel.m: Always send action and colorChanged: when
	the color changes. NSColorPanel is always "continuous" for now...
	to support -isContinuous == NO, we need to augment the API between
	the color panel and the pickers so they can send a message when
	the mouse is released.
	* Source/NSTextView.m: Change typing attributes in response to
	colorChanged:

2011-11-01  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSView.m: centerScanRect patch from Sebastian Reitenbach.
	Note that this makes the NSView autoresizing and rounding test pass,
	but the new centerScanRect test I just added fail.

2011-11-01  Eric Wasylishen  <ewasylishen@gmail.com>

	* Tests/gui/NSView/NSView_autoresize_and_rounding.m: Add
	centerScanRect test

2011-10-31 Fred Kiefer <FredKiefer@gmx.de>

	* Tests/gui/NSSavePanel/setDelegate_reload.m: Switch the save panel to
	not show hidden files and remove ".svn" from the expected
	results. This file was never present in an exported directory and
	will no longer exist with SVN 1.7.

2011-10-31 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPopUpButtonCell.m (-_popUpItemAction:): Inform bindings
	of the control view that the value has changed.

2011-10-31 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSNibLoading.m ([NSNibConnector-nibInstantiate]): Add
	this method.
	* Source/GSXibLoader.m ([IBBindingConnection-nibInstantiate):
	Instantiate the connector.

2011-10-31 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPopUpButton.m,
	* Source/NSMatrix.m,
	* Source/NSControl.m: Remove useless KVB code.

2011-10-31 Gregory Casamento <greg.casamento@gmail.com>

	* Source/NSTableColumn.m: (+initialize, -initWithCoder:,
	-encodeWithCoder:): Updated version to 3.  Added encoding for
	sort descriptor in encodeWithCoder:, added decoding for version 3
	to initWithCoder:

2011-10-28  Quentin Mathe <quentin.mathe@gmail.com>

	* Headers/Additions/GNUstepGUI/GSTheme.h:
	* Source/GSTheme.m:
	* Source/GSThemeDrawing.m (-menuSeparatorItemColor,
	-drawSeparatorItemForMenuItemCell:withFrame:inView:isHorizontal:):
	* Source/NSMenuItemCell.m (-drawSeparatorItemWithFrame:inView:):
	Made separator menu item themable, by moving the drawing code from
	NSMenuItemCell to a new method in GSThemeDrawing.

2011-10-27 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBitmapImageRep.m (+imageRepWithData:): Add missing AUTORELEASE.

2011-10-26  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSCell.m: Read/write NSLineBreakMode from the bits masked off
	by 0xE00 in NSCellFlags2. The previous location they were being
	read/written from was giving bogus values such as 7.

2011-10-25  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/GSThemeDrawing.m: Draw a question mark centered in the bezel
	for NSHelpButtonBezelStyle

2011-10-25  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSBitmapImageRep.m:
	* Source/NSColor.m:
	* Source/GSThemeTools.m:
	* Source/NSGraphicsContext.m:
	* Headers/AppKit/NSColor.h:
	* Headers/AppKit/NSGraphicsContext.h:
	* ColorPickers/GSGrayColorPicker.m:
	* ColorPickers/GSCMYKColorPicker.m:
	* ColorPickers/GSWheelColorPicker.m:
	* ColorPickers/GSRGBColorPicker.m:
	* ColorPickers/GSHSBColorPicker.m: Migrate float to CGFloat in
	NSColor

2011-10-25 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSXibLoading.h,
	* Source/GSXibLoader.m: Integrate method used in Gorm.

2011-10-24 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBox.m (-initWithCoder:): Rearrange order of keyed
	decoding.
	* Source/GSNibLoading.m: Warn about missing custom resources.
	* Headers/Additions/GNUstepGUI/GSXibLoading.h: Add class IBToolTipAttribute.
	* Source/GSXibLoader.m: Add decoding of type "boolean". Fix
	decoding of "real", "integer" and "dictionary". Add handling of
	flattenedProperties to determine which windows should be visible.
	Store all top level obejcts in array.

2011-10-17 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSXibLoader.m (-objectForXib:): Add type "real" and
	handle empty strings.

2011-10-15 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSScrollView.m (-encodeWithCoder:, -initWithCoder:):
	Correct keyed encoding and decoding of flags. NIB files created
	from GNUstep will need to be recreated.
	Should fix bug #34498.

2011-10-11 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSColor.m: Add alpha handling to keyed-coding/decoding.
	Should fix bug #34501.

2011-10-11 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTextView.m(currentVersion, -encodeWithCoder:,
	-initWithCoder:): Archive missing attributes in non-keyed
	mode. This required updating the NSTextView version to 4.
	Should fix bug #33884.

2011-10-06 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSImage.m (-lockFocusOnRepresentation:): Draw the
	representation into the new cache. Use NSRectFillUsingOperation
	instead of PScompositerect.
	* Source/NSImage.m (-drawRepresentation:inRect:): Use DPS
	operations instead of PS operations.

2011-10-06 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSProgressIndicator.m (-encodeWithCoder:, initWithCoder:)
	The flag isDisplayedWhenStopped is stored negated.

2011-10-04 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSBezierPath.h,
	* Source/NSBezierPath.m: Rewrote NSBezierPath to allow subclasses.

2011-10-04 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSApplication.h,
	* Headers/AppKit/NSPasteboard.h,
	* Headers/AppKit/NSInterfaceStyle.h,
	* Headers/AppKit/NSGraphics.h: Bracket in 'extern "C"' for C++.
	Patch by Julian Mayer <julian@corecode.at>.

2011-10-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/AppKit/NSPanel.h: Bracket in 'extern "C"' for C++

2011-10-03 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-initWithCoder:): Don't decode super view.
	* Headers/Additions/GNUstepGUI/GSXibLoading.h: Add class IBBindingConnection.
	* Source/GSXibLoader.m: Implement IBBindingConnection.
	* Source/GSXibLoader.m (-objectForXib:): Return a previously
	decoded object instead of a new one if available.

2011-10-01 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMenuView.m (-_trackWithEvent:startingMenuView:,
	-trackWithEvent:): Started rewrite that simplifies menu tracking code.

2011-10-01 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMenuView.m,
	* Source/GSThemeMenu.m,
	* Source/GSWindowDecorationView.m: Rewrite of the in-window menu handling.

2011-09-12 German Arias <german@xelalug.org>

	* Source/GSThemeMenu.m (-setMenu:forWindow:): Improvements to
	menu in window.

2011-09-12 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSControl.m (+initialize, -valueForKey:,
	-setValue:forKey:): Add support for the bindings NSFontNameBinding
	and NSFontSizeBinding.

2011-09-09  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSImage.m (_cacheForRep:): Don't assume rep is non-nil. This should fix
	locking focus on an image with no representations.

2011-09-08  Gregory Casamento <greg.casamento@gmail.com>

	* Source/NSImage.m: Correction for call to function NSEqualSizes.
	It was mistyped as "NSSizesEqual" which was producing a link-time
	error.

2011-09-08  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSImage.m: Throw an exception if you attempt to lock focus on an image with
	size (0, 0)
	* Source/NSCachedImageRep.m: Throw an exception if you attempt to create a cached
	image rep with a size of (0, 0).

2011-09-07  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSFontPanel.m: Add a tooltip on the character panel button

2011-09-07  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSSpellChecker.m: Use NSLog rather than a popup alert when the spell
	server can't be contacted; otherwise the user may be spammed with a series
	of popups if automatic spellchecking (underlining) is turned on, but
	the current language isn't set.

2011-09-07  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/GSCharacterPanel.m: Implement -[NSApplication orderFrontCharacterPalette:]
	* Source/NSFontPanel.m: Use NSApplication method to order front character palette

2011-09-07  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSImageCell.m (-drawInteriorWithFrame:inView:): Simplify a bit
	bit by using
	-[NSImage drawInRect:fromRect:operation:fraction:respectFlipped:hints:]
	* Source/NSCell.m (-drawInteriorWithFrame:inView:): Switch from
	-[NSImage compositeToPoint...] to
	-[NSImage drawInRect:fromRect:operation:fraction:respectFlipped:hints:]

2011-09-07  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSOpenPanel.m: Use the NSSavePanel _allowedFileTypes ivar
	in place of the _fileTypes ivar. Replace calls to _setupForTypes: with
	-setAllowedFileTypes:.
	* Headers/AppKit/NSOpenPanel.h: Remove now unused _fileTypes ivar
	* Source/NSSavePanel.m: Treat directories whose names have extensions
	in the _allowedFileTypes array as file packages.
	Previously, we only relied on -[NSWorkspace isFilePackageAtPath:],
	to determine if a director is a file package, which only considers the
	info.plists of installed applications.

2011-09-06  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSView.m (_setNeedsDisplayInRect_real:): Enlarge
	(if necessary) _invalidRect so it lies on integral device pixels.

2011-08-31 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSApplication.m (-setApplicationIconImage): Ignore this
	call when the image is nil.

2011-08-29  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSCachedImageRep.m: Restore the implementation of -draw
	because libart/xlib need it.

2011-08-28 Christopher Armstrong <carmstrong@fastmail.com.au>
	* Source/GSHorizontalTypesetter.m: Split declaration of struct
	GSHorizontalTypesetter_glyph_cache_s and struct
	GSHorizontalTypesetter_line_frag_s from their typedefs to compile
	under clang.

2011-08-26 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSImage.m ( _loadFromFile): Correct last commit.
	* Source/NSImage.m ( _loadFromData): Use similar check here.

2011-08-25 Riccardo Mottola <rm@gnu.org>

	* Source/NSImage.m ( _loadFromFile):
	Check that the array of reps is populated, not just non-nil.

2011-08-20  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSImage.m (-setSize:): Don't invalidate the cache anymore,
	because we now cache the entire representation and not the rep scaled
	to the image's size.

2011-08-19  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSImage.m: Reinstate use of the cached image rep, but only
	on backends supporting GSdraw: (cairo).  This means we don't have to
	create a window for every call to draw an image, and gives me a 5-10x
	speedup for image drawing.
	* Source/NSCachedImageRep.m: Implement private method
	-nativeDrawInRect:.. which is called by NSImageRep's
	-drawInRect:fromRect:..., and efficiently draw the cached rep
	using GSdraw:. Also make some changes so cached image reps can have a
	DPI != 72.
	* Headers/AppKit/NSCachedImageRep.h: New private init method that lets
	you specify diferent pixel size and point size.

2011-08-18  Eric Wasylishen  <ewasylishen@gmail.com>

	* Headers/AppKit/NSImageRep.h: Add
	-drawInRect:fromRect:operation:fraction:respectFlipped:hints: method
	* Source/NSImage.m:
	* Source/NSImageRep.m: Refactor drawing code from NSImage to NSImageRep.
	This should cause no functionlity change, but it lets NSImageRep
	subclasses implement more efficient versions of -drawInRect:fromRect:...
	method that don't involve the wasteful drawing the image in a temporary
	offscreen window and then drawing from there on to the destination surface.

2011-08-17  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/Functions.m (NSDrawNinePartImage): Pixel-align drawing rect using
	-[NSView centerScanRect]

2011-08-15  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/Functions.m (NSDrawNinePartImage): Bugfix when drawing with
	not enough space

2011-08-15  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/Functions.m (NSDrawNinePartImage): Bugfix in flipped drawing code

2011-08-15  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/Functions.m:
	* Headers/AppKit/NSGraphics.h: NSDrawNinePartImage implementation

2011-08-15  Eric Wasylishen  <ewasylishen@gmail.com>

	* Headers/Additions/GNUstepGUI/GSTheme.h: New GSThemeMargins struct.
	Rename buttonBorderForCell:style:state: to buttonMarginsForCell:style:state:
	and return the top/bottom/left/right margins instead of just two values.
	(This is a theme API break.)
	* Source/GSThemeDrawing.m: Implement buttonMarginsForCell:style:state:.
	Also reduce the top and left margin of the default button by 1 pt, to
	better reflect the button's appearance.
	* Source/GSGuiPrivate.h: Add a GSRoundTowardsNegativeInfinity function
	* Source/NSButtonCell.m (-drawImage:withFrame:inView:): Round the image
	position down and to the right, as this seems to look the best.
	* Source/NSButtonCell.m (-cellSize): Call new buttonMarginsForCell: method
	* Source/NSButtonCell.m (-drawingRectForBounds:): Call new
	buttonMarginsForCell: method

2011-08-15  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSImage.m (GSResolutionOfImageRep): Specify behaviour when the
	rep has a size of zero, or is a vector rep. Prevent division by 0.

2011-08-15  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSImage.m (-nativeDrawInRect:...): Deal with a zero rep size
	* Source/NSCustomImageRep.m:
	- Don't retain the delegate (matching OS X)
	- Remove unnecessary flip checks from -drawAtPoint: and -drawInRect:
	  to match the code in NSImageRep
	- Fix a mistake when setting the ctm scale factor

2011-08-11 10:57  theraven

	* libs/gui/trunk/Tools/speech/GSSpeechEngine.h: Move the
	  +defaultSpeechServer method into a category interface, to silence
	  a clang warning.

2011-08-11 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-setBoundsSize:): Adjust the origin as well.

2011-08-04 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMenu.m (+initialize): Don't create the default menu
	zone as we never use it and a change in base made this an
	expensive operation.

2011-08-02  Eric Wasylishen  <ewasylishen@gmail.com>

	* Images/common_RadioOn.tiff:
	* Images/common_RadioOff.tiff: Add high-dpi versions

2011-08-02  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/GSLayoutManager.m:
	* Source/GSHorizontalTypesetter.m:
	* Headers/Additions/GNUstepGUI/GSLayoutManager_internal.h:
	* Headers/Additions/GNUstepGUI/GSLayoutManager.h: Store
	glyph advances in the runs in GSLayoutManager. Extend the
	NSGlyphStorage protocol to support a case where the glyph
	generator provides the glyph advances.

	I'm hoping to use this in the future to implement (optional)
	glyph generators which are wrappers around HarfBuzz or the ICU
	OpenType layout engine.

2011-08-02  Eric Wasylishen  <ewasylishen@gmail.com>

	* Images/common_SwitchOff.tiff:
	* Images/common_SwitchOn.tiff:
	* Images/common_2DCheckMark.tiff: Add a few more high-res images

2011-08-01  Eric Wasylishen  <ewasylishen@gmail.com>

	* Documentation/news.texi:
	* Documentation/ReleaseNotes.gsdoc: Add some documentation on
	new features in gui

2011-07-30 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSScreen.m (-userSpaceScaleFactor): Use the DPI
	from the display server instead of ignoring it and assuming 72.

	The X11 server was changed to always return 72 for now, so there
	is no change in behaviour on X.

	On Windows we do use the system DPI/scale factor now.

2011-07-25 Riccardo Mottola <rm@gnu.org>

	* configure.ac:
	* configure:
	Check for png with CHECK and not SEARCH lib to avoid position problems
	in the linker flags (windows is sesnitive)

2011-07-24 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSAnimation.m (NSViewAnimation -dealloc): Use DESTROY
	instead of RELEASE as _viewAnimationDesc to prevent segmentation
	fault in super call.
	* Source/NSWindow.m (-setFrame:display:animate:): Use
	NSViewAnimation instead of local blocking code.
	* Source/NSWindow.m (-animationResizeTime:): Use abs() in all directions.

2011-07-23 Fred Kiefer <FredKiefer@gmx.de>

	* Tests/gui/NSView/NSView_visibleRect.m: New test.
	* Tests/gui/NSView/scrollRectToVisible.m: Use an NSWindow.

2011-07-23 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (autoresize): Handle negative flexible space.
	Patch by Tim Schmielau <gnustep@chmielau.orangehome.co.uk>
	* Tests/gui/NSView/NSView_bounds_scale.m: More detailed testing.
	* Source/NSMenuItem.m,
	* Source/NSPageLayout.m,
	* Source/NSTextField.m,
	* Source/NSViewController.m: Add missing #import.
	* Source/NSSegmentedCell.m: Declare missing methods.

2011-07-21  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/GSToolTips.m (-_timedOut:): Guard against nil tooltip string

2011-07-21  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSButtonCell.m (-title): Return @"" instead of nil
	* Source/NSButtonCell.m (-alternateTitle): Return @"" instead of nil
	* Source/NSButtonCell.m (-attributedAlternateTitle): Use
	[self alternateTitle] instead of accessing _altContents directly to guard
	against _altContents being nil
	* Source/NSButtonCell.m (-attributedTitle): Don't return nil. Use
	[self title] instead of accessing _contents directly to guard against
	_contents being nil
	* Source/NSButtonCell.m (-keyEquivalent): Return @"" instead of nil
	* Source/NSButtonCell.m (-encodeWithCoder):
	For keyEquivelant and alternateTitle, now that the methods never return
	nil, instead of checking if they return nil to decide whether to encode them,
	check if the string length is > 0.
	* Source/NSToolbarItem.m (-label): Return @"" instead of nil.
	* Source/NSCell.m (-stringValue): Return @"" instead of nil
	* Source/NSCell.m (-attributedStringValue): Don't return nil. Use
	[self stringValue] instead of accessing _contents directly to guard against
	_contents being nil.

2011-07-20  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSTextView.m (-view:stringForToolTip:point:userData:):
	Ensure this returns an NSString, even if NSToolTipAttributeName
	is set to something else (it calls -description on the value).

2011-07-19  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/GSGhostscriptImageRep.m: Search for gs by enumerating directories
	in PATH rather than calling 'which'. Also search for gswin32c.exe for
	Windows.

2011-07-15  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSImage.m: Implement
	-[NSImage drawInRect:fromRect:operation:fraction:respectFlipped:hints:]

2011-07-15  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSImage.m (-nativeDrawInRect:...): Fix two bugs
	demonstrated in GSTest:
	- drawing an image in a flipped view with -drawInRect:... wasn't
	  working, and
	- drawing a vector rep in a dest rect larger than the point
	  size of the rep was resulting in blurry output.

2011-07-15  Eric Wasylishen  <ewasylishen@gmail.com>

	* configure.ac:
	* configure: Fix the ICU test so the library search path and
	flags are added to GRAPHIC_LFLAGS; this fixes the build on
	Windows

2011-07-15  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSColorPanel.m: Remove code for generating a dynamic
	magnifying glass cursor; it flickers on X11.

2011-07-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSGuiPrivate.h: remove reference to obsolete preface.h

2011-07-14  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSOutlineView.m: Allow collapsing or expanding multiple
	rows at a time using the arrow keys

2011-07-14 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSSound.m
	* Source/GSWindowDecorationView.m
	* Source/NSMatrix.m
	* Source/NSBitmapImageRep.m
	* Source/NSForm.m
	* Source/GSHorizontalTypesetter.m
	* Source/NSMovie.m
	* Source/NSFontDescriptor.m
	* Source/NSImage.m
	* Source/NSScrollView.m
	* Source/NSCell.m
	* Source/NSBrowserCell.m
	* Source/GSDragView.m
	* Source/NSDocument.m: Replace direct use of the isa pointer with
	a call to object_getClass().

2011-07-13  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSColorPanel.m: Make a magnifying glass cursor when using
	the magnifying glass color picker. back/x11 isn't displaying
	the cursor at the moment.

2011-07-13 German Arias <german@xelalug.org>

	* Resources/Spanish.lproj/Localizable.strings: More strings.
	* Source/GSCharacterPanel.m: Added missign internationalization.

2011-07-12  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/GSImageMagickImageRep.m: Don't call DestroyImage on a
	NULL image

2011-07-12  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/GSImageMagickImageRep.m: Log warnings from ImageMagick
	instead of giving up.

2011-07-12  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/GSGuiPrivate.h: New rounding rounding function
	GSRoundTowardsInfinity which is simply floor(x+0.5)
	* Source/NSBrowser.m:
	* Source/NSSliderCell.m:
	* Source/NSButtonCell.m:
	* Source/NSClipView.m:
	* Source/NSOutlineView.m:
	* Source/NSRulerView.m:
	Switch rint[f] to GSRoundTowardsInfinity

2011-07-11  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/GSGhostscriptImageRep.m: Only invoke 'which' once.

2011-07-11  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/GSGhostscriptImageRep.m: Change to NSLog, only log
	a warning the first time invoking ghostscript throws an exception,
	and log a message if it returns a nonzero exit status.

2011-07-11  Eric Wasylishen  <ericw@new-host-2.home>

	* Source/GSGhostscriptImageRep.m: Add NSWarnLog to execption
	handlers to print a message when finding or invoking Ghostscript
	fails.

2011-07-11 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSImage.m (-nativeDrawInRect:...): Compute the rep size
	after the nil test.

2011-07-11 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSDocumentController.m (-dealloc),
	* Source/NSWindow.m (-dealloc),
	* Source/NSLayoutManager.m (-dealloc): Unbind key bindings.

2011-07-11  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSColorPanel.m (-_magnify:): Preliminary implementation

2011-07-10  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSMenuView.m (-_trackWithEvent:): Fix for the bug where
	the highlighted menu item can be offset from the mouse pointer
	location when menu windows are moved by the window manager. See
	detailed comment in the code for more info.

2011-07-10  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/GSGhostscriptImageRep.m: Remove hardcoded path to gs
	executable. First try GSGhostscriptExecutablePath default, then
	try running "$SHELL -c which gs" to get the path.

2011-07-08  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSView.m (-resizeWithOldSuperviewSize:): Factor out
	autoresizing logic into a function. Add an extra code path to handle
	when the flexible space is 0, which behaves like the old version
	of the code (it divides the available space evenly).

2011-07-08  Eric Wasylishen  <ewasylishen@gmail.com>

	* Tests/gui/NSView/NSView_autoresize_and_rounding.m: Tweak the test
	so it doesn't try to set the window size to {0,0}

2011-07-08  Eric Wasylishen  <ewasylishen@gmail.com>

	* Tests/gui/NSView/NSView_autoresize_and_rounding.m: Add some more
	test cases for when the view's width is 0

2011-07-07  Eric Wasylishen  <ewasylishen@gmail.com>

	* Headers/AppKit/NSView.h:
	* Source/NSView.m (-resizeWithOldSuperviewSize): Pixel-align
	view frame when autoresizing.

2011-07-03 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-resizeWithOldSuperviewSize): Reimplement to
	resize proportionally as Cocoa does.

2011-07-07  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/GSCharacterPanel.m: Double click inserts character into
	main window

2011-07-07  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/GSCharacterPanel.m (-characterForRow:): Fix off-by-1 error

2011-07-06  Eric Wasylishen  <ewasylishen@gmail.com>

	* Tests/gui/NSView/NSView_autoresize_and_rounding.m:
	More autoresizing test cases

2011-07-06  Eric Wasylishen  <ewasylishen@gmail.com>

	* Tests/gui/NSView/NSView_autoresize_and_rounding.m:
	Add a test for NSView autoresizing and rounding

2011-07-06  Eric Wasylishen  <ewasylishen@gmail.com>

	* configure:
	* Source/NSFontPanel.m:
	* Source/GNUmakefile:
	* Source/GSCharacterPanel.m:
	* configure.ac:
	* Headers/Additions/GNUstepGUI/GSCharacterPanel.h:
	* Headers/Additions/GNUstepGUI/config.h.in:
	* ChangeLog:
	* config:
	* config/icu.m4:
	Add a new character picker panel. It's accessible
	via a button in the font panel.

2011-07-03  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/GSDisplayServer.m:
	* Headers/Additions/GNUstepGUI/GSDisplayServer.h: Add a new API for taking
	screenshots: -contentsOfScreen:inRect:

2011-07-03  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSTextView.m: Use respectFraction: YES when deciding whether
	to do a word selection upon a right click

2011-07-03  Eric Wasylishen  <ewasylishen@gmail.com>

	* TextConverters/RTF/RTFProducer.m: Writing of NSLinkAttributeName; reading
	is still to be implemented.

2011-07-03  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSMenuView.m: Allow any mouse up (left/right/other)
	to choose a menu item.

2011-07-02  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSTextView.m (-_updateState:): Invalidate cursor rects
	so the cursor rects over links, for example, are updated when
	text is edited.

2011-07-03 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSLayoutManager.m (-drawGlyphsForGlyphRange:atPoint:,
	-drawUnderlineForGlyphRange:...:): Add support for for link attributes.

2011-07-03 Riccardo Mottola <rm@gnu.org>

	* Source/NSSliderCell.m:
	Circular sliders never return the maximum value, tested on Apple.

2011-07-02 15:33-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSTableView.m: Modifications to initWithCoder: and
	encodeWithCoder: to handle _sortDescriptors in .gorm files.

2011-07-02 Riccardo Mottola <rm@gnu.org>

	* Source/NSSliderCell.m:
	Fix tick marks with circular sliders.

2011-06-29  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSOutlineView.m: Implement left arrow key moving selection
	to parent node when the current item is collapsed.

2011-06-29 15:41 David Chisnall <theraven@gna.org>

	* libs/gui/trunk/Source/GSTextStorage.m,
	  libs/gui/trunk/Source/NSBitmapImageRep.m: Small GC fixups. Make
	  sure that we're actually using GC-tracked memory when we think
	  that we are.

2011-06-29 15:39 David Chisnall <theraven@gna.org>

	* libs/gui/trunk/Headers/AppKit/NSEvent.h,
	  libs/gui/trunk/Headers/AppKit/NSMatrix.h: Fix AppKit headers to
	  allow inclusion in ARC mode. Since ARC requires the non-fragile
	  ABI, a better solution would be to simply not expose any of these
	  ivars with the non-fragile ABI.

2011-06-28  Eric Wasylishen  <ewasylishen@gmail.com>
	
	* Headers/Additions/GNUstepGUI/GSImageMagickImageRep.h:
	* Source/GNUmakefile:
	* Source/NSImageRep.m:
	* Source/GSImageMagickImageRep.m:
	* configure.ac: New ImageMagick-based NSBitmapImageRep subclass

2011-06-28 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSDragView.m (-init): Set the window background colour to clear.
	* Headers/AppKit/NSAffineTransform.h,
	* Headers/AppKit/NSView.h,
	* Source/NSAffineTransform.m,
	* Source/NSPrintOperation.m,
	* Source/NSView.m: Use CGFlaot instead of float.
	* Tests/gui/NSView/NSView_bounds_scale.m: New test file that
	currently fails.

2011-06-26  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/GSGhostscriptImageRep.m:
	* Headers/Additions/GNUstepGUI/GSGhostscriptImageRep.h:
	* Source/GNUmakefile:
	* Source/NSImageRep.m: New image rep which attempts to
	invoke Ghostscript to rasterize PS/EPS/PDF images. It needs
	some polishing but basically works.

2011-06-26  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextView_actions.m (-deleteToEndOfParagraph:):
	Implement method, which was introduced in OS X 10.3.

2011-06-26  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextView_actions.m (-deleteToEndOfLine:): Fix
	implementation to work in the same way as under Emacs and OS X.
	In particular, the action now deletes the newline character when
	the insertion point is at the end of a line.

2011-06-22 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSPrintPanel.h: Add missing APPKIT_EXPORT for new
	strings.
	Bug point out by Bluna Ratimonkey <object@gmail.com>.

2011-06-19 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSOpenPanel.h
	* Headers/AppKit/NSSavePanel.h
	* Source/NSSavePanel.m
	* Source/NSOpenPanel.m: Change all the runModal:... methods to
	return an NSInteger.

2011-06-19  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSTextView.m (-scrollRangeToVisible:): Fix to support scrolling
	to the empty range at the end of a document (i.e. {[string length], 0}).
	This fixes the scrolling when you repeatedly hit RETURN in TextEdit to
	create new pages (in wrap to page mode).

2011-06-19 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSButtonCell.m (-setTitle:, -setAttributedTitle:,
	-setAlternateImage:, -setImagePosition:): Update the control to
	reflect the changes.

2011-06-19 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSDocumentController.m (-_openRecentDocument:): Use most
	current method to display document.

2011-06-19 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-setBounds:, -setBoundsSize:): Rewrite of this
	methods plus a few helpers. We pass now all the frame/bounds test cases.
	* Source/NSView.m (-_viewWillMoveToWindow:): Move the invalidation of the
	coordinate transformations and the cursor rects before the window
	test. Remove calls to coordinate invalidation from other places.

2011-06-16  Eric Wasylishen  <ewasylishen@gmail.com>

	* common_ArrowDown.tiff:
	* common_ArrowRight.tiff:
	* common_ArrowUp.tiff:
	* common_3DArrowDown.tiff:
	* common_ArrowDownH.tiff:
	* common_ArrowLeft.tiff:
	* common_ArrowLeftH.tiff:
	* common_3DArrowLeft.tiff:
	* common_ArrowUpH.tiff:
	* common_3DArrowUp.tiff:
	* common_ArrowRightH.tiff:
	* common_3DArrowRight.tiff: Ensure both sub-images have the same
	colorspace

2011-06-16  Eric Wasylishen  <ewasylishen@gmail.com>

	* Images/common_3DArrowRightH.tiff: Add high-res version

2011-06-15  Eric Wasylishen  <ewasylishen@gmail.com>

	* Headers/AppKit/NSImageCell.h:
	* Source/NSImageCell.m: Add support for NSImageScaleProportionallyUpOrDown

2011-06-14  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSImage.m: Use -bestRepresentationForRect:context:hints: in
	-guiDrawInRect:... as well.

2011-06-15 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSSegmentedCell.m (-initWithCoder:): Protect against
	selected segment being -1.

2011-06-14  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSImage.m: Implement -bestRepresentationForRect:context:hints:,
	which chooses the smallest rep larger than or equal to the provided size.

	Modify -nativeDrawInRect:... to use the above method for choosing a rep.

2011-06-14  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSImage.m (-guiDrawInRect:...): Handle dstRect with a zero size

2011-06-14  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSImage.m: Remove unnecessary DPSgsave/DPSgrestore I added
	earlier in -nativeDrawInRect:... and replace them with saving/restoring
	the transformation matrix. The DPSgsave/DPSgrestore were causing problems
	when drawing images with a non-rectangular clipping area.

2011-06-14  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSImage.m: Tidy the -composite*/-dissolve* methods

2011-06-13  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSTextView.m (-scrollRangeToVisible:): Work with ranges
	outside the receiver (in a situation with multiple NSTextView's
	connected to a layout manager)

2011-06-13  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSView.m (-scrollRectToVisible:): Work when the receiver
	isn't partially visible in the clip view.

2011-06-13  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSImage.m: Completely overhaul the best rep selection.
	It should now be very close to the algorithm described in the cocoa
	drawing guide, and fixes numerous bugs with the old code.

2011-06-14 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSFileWrapper.m: Add keyed coding.

2011-06-13  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSBitmapImageRep.m: Reduce floating-point error in the
	expression which computes image point size using DPI and pixel size
	(for TIFF images.)

2011-06-13  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSImageRep.m (-description): Implement -description to
	aid debugging.

2011-06-13 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPrintInfo.m: Add keyed coding.

2011-06-13 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTextView.m: Add methods -_becomeRulerClient and
	-_resignRulerClient to set self as the ruler client and to resign
	from that. These get called when self becomes first responder or
	resigns from first responder.

2011-06-11 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSPrintInfo.h,
	* Source/externs.m: Add new MacOSX strings for NSPrintInfo.

2011-06-11 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSWorkspace.h,
	* Source/NSWorkspace.m: Add a few MacOSX methods with dummy implementations.
	* Source/externs.m: Add new notification strings for NSWorkspace.

2011-06-11 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSKeyValueBinding.h
	* Source/NSPopUpButton.m
	* Source/NSMatrix.m
	* Source/NSLayoutManager.m
	* Source/NSTextView.m
	* Source/NSDocumentController.m
	* Source/externs.m: Add a few key value bindings.

2011-06-10 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBitmapImageRep+ICNS.m: Remove comment about libicns
	being GPL, it is now LGPL 2.1.

2011-06-10 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTextView_actions.m (-moveLeftAndModifySelection:,
	-moveRightAndModifySelection:, -moveWordLeft:,
	-moveWordLeftAndModifySelection:, -moveWordRight:,
	-moveWordRightAndModifySelection:, -setBaseWritingDirection:range:):
	Add basic implementation for these methods.

2011-06-09 13:49-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/GSTheme.m: Move notifications handling code to
	setTheme: instead and add code which deactivates the notifications
	and then starts listening again after activate is called.

2011-06-09 13:43-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/GSTheme.m: Move call to listen to default changes to
	activate instead of +initialize.

2011-06-07 07:40-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSMenuItem.m: Remove temporary fix.

2011-06-06 Fred Kiefer <FredKiefer@gmx.de>

	* Source/externs.m: Correct the strings for NSPrintPanel.
	* Source/NSAttributedString.m (-setBaseWritingDirection:range:):
	Add proper implementation for this method.
	* Source/NSTextView_actions.m (-insertContainerBreak:)
	(-insertLineBreak): Add this methods.

2011-06-05 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSPrintPanel.h,
	* Source/NSPrintPanel.m: Add newer methods and ivars for these.
	* Source/NSPrintOperation.m: User newer NSPrintPanel interfaces.
	* Source/externs.m: Define a few strings for NSPrintPanel.

2011-06-04  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSApplication.m (-_init, -finishLaunching): Create the
	app icon in NSApplication -_init as suggested by Fred.

2011-06-04  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/Functions.m (NSApplicationMain):
	* Source/NSApplication.m (-finishLaunching): Revert to creating
	the app icon in finishLaunching, since existing applications that
	do not use NSApplicationMain otherwise won't get an app icon.

2011-06-03 00:55-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/GSThemeMenu.m: Revert last change, since it will,
	per discussion with Fred, cause issues.
	* Source/NSMenuItem.m: Temporary fix for crash.

2011-06-02 16:17-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/GSThemeMenu.m: Use NSArchiver to copy menu instead of
	copy.  Add comment to explain why this is done.  The
	copy method causes all of the NSMenu instances to share
	NSMenuItems.  This appears to be causing a crash when the
	menu updates.

2011-06-02  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSApplication.m (-finishLaunching): Move creation of the
	app icon from here ...
	* Source/NSApplication.m (-_appIconInit):
	* Source/Functions.m (NSApplicationMain): ... to here so that
	applications get a proper app icon under WindowMaker even when
	their main nib contains visible at launch time windows.

2011-05-31 Riccardo Mottola <rm@gnu.org>

	* Images/common_Miniaturize.tiff
	Revert image but with correct dpi of 72.

2011-05-31  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSWindow.m (-orderWindow:relativeTo:): Take care of hide
	on deactivate windows.
	* Source/NSWindow.m (-setHidesOnDeactivate:): Hide/unhide receiver
	when the flag is changed and the application is not active.

	* Source/NSWindow.m (-_isWindowInactive:, _setWindow:inactivate:):
	New private NSApplication category to support management of hide
	on deactivate windows.

	* Source/NSApplication.m (-deactivate): Fix order of actions when
	hiding inactive windows.

2011-05-31  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSImage.m (-bestRepresentationForDevice): Prefer
	returning an image representation whose size matches the image
	size exactly.

	* Source/NSImage.m (-_bestRep:withBpsMatch:): Fix test confusing
	bits per sample and bits per pixel.

2011-05-29 20:34-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/GNUmakefile: Remove NSManagedObjectContext.[hm] from compile
	* Source/NSManagedObjectContext.h
	* Source/NSManagedObjectContext.m: Delete
	* Source/NSObjectController.m: Remove #import and add @class
	declaration.

2011-05-29 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSButtonCell.m (-drawImage:withFrame:inView:): Use rint
	instead of round.

2011-05-27 14:08  David Chisnall <theraven@gna.org>

	* libs/gui/trunk/Source/NSMenu.m:
	Don't create a zone in GC mode (detected at run time). This avoids a
	warning when starting GUI apps in GC mode, but should have no real effect
	on functionality.

2011-05-27 12:42  David Chisnall <theraven@gna.org>

	* Source/Functions.m,
	* Source/NSAnimation.m,
	* Source/NSApplication.m,
	* Source/NSAttributedString.m,
	* Source/NSBitmapImageRep.m,
	* Source/NSComboBoxCell.m,
	* Source/NSFileWrapper.m,
	* Source/NSInputManager.m,
	* Source/NSPrinter.m,
	* Source/NSProgressIndicator.m,
	* Source/NSWindow.m,
	* TextConverters/RTF/RTFProducer.m,
	* Tools/GSspell.m,
	* Tools/make_services.m,
	* Tools/set_show_service.m:
	Turn release messages sent to autorelease pools into drain messages. No
	functionality change in non-GC mode, in GC mode it invokes a quick GC pass
	to try to delete the short-lived objects.

	Also deleted some [pool release] lines just before exit() or
	return-from-main statements. These cause objects to be swapped in and
	destructors to be run to no benefit (the OS will reclaim this memory
	without requiring stuff to be swapped in when the process exits).

2011-05-27 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSSplitView.h
	* Source/NSSplitView.m: Declare a few MacOSX 10.5 methods and make
	the background transparent by default.

2011-05-26  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSImage.m (-nativeDrawInRect:...): Fix drawing images
	with a source rect smaller than the entire image. This was a mistake
	left by my last commit to this method.

2011-05-25  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSLayoutManager.m:
	* Source/NSGraphicsContext.m:
	* Headers/AppKit/DPSOperators.h:
	* Headers/AppKit/NSGraphicsContext.h:
	* Headers/Additions/GNUstepGUI/GSMethodTable.h:
	New GSShowGlyphsWithAdvances, which replaces
	GSShowGlyphs as the primitive text drawing method.
	(used by -[NSLayoutManager drawGlyphsForGlyphRange:atPoint:])

	Requires r33121 in -back.

	Note that the advances aren't actually used by -back yet so
	text output should be unchanged.

2011-05-25  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSComboBoxCell.m: Correct positioning of popup window when
	a scale factor is in use.

2011-05-25  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSLayoutManager.m: Add a FIXME note

2011-05-25 11:19 David Chisnall <theraven@gna.org>

	* libs/gui/trunk/Source/NSBezierPath.m,
	  libs/gui/trunk/Source/NSFont.m,
	  libs/gui/trunk/Source/NSParagraphStyle.m:
	 Change direct references to the isa pointer to calls to
	 object_getClass(). In discussion with Steve Naroff (before he left Apple)
	 it was decided that the isa pointer should be regarded as an
	 implementation detail and not part of the language, so direct references
	 to it are deprecated (on OS X).  This gives the runtime a bit more
	 freedom to do secret isa-swizzling tricks.

2011-05-23 Fred Kiefer <FredKiefer@gmx.de>

	* Tools/say/GNUmakefile
	* Tools/say/say.m: Clean these up a bit to correctly compile wiht
	gcc 4.6.

2011-05-22 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSControl.h:
	* Source/NSControl.m (-takeIntegerValueFrom:, -setIntegerValue:)
	(-integerValue): Add OSX 10.5 methods.

2011-05-19 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSView.h,
	* Source/NSView.m (-setSubviews:): New method.
	Code by Banlu Kemiyatorn <object@gmail.com>.

2011-05-18 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBitmapImageRep+ICNS.h
	* Source/NSBitmapImageRep+ICNS.m: New method to load all the
	images from file. Plus a few additional changes.
	* Source/NSBitmapImageRep.m (+imageRepsWithData:): Use new ICNS
	method to get all images from file.
	* Source/NSBitmapImageRep.m (+imageRepWithData:): Use
	-initWithData: instead of +imageRepsWithData:.

2011-05-15 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-removeFromSuperview): Use
	removeFromSuperviewWithoutNeedingDisplay.
	* Source/GSWindowDecorationView.m: Add method [NSWindow
	-_clearContentView] to avoid recursion when removing the content view.
	* Source/GSWindowDecorationView.m: Replace the method
	-removeSubview: with -willRemoveSubview:.
	* Source/NSScrollView.m: Dito.
	* Source/NSClipView.m (-initWithCoder:): Use -removeFromSuperview
	instead of -removeSubview:.
	* Source/NSMenu.m (-setMenuRepresentation:): Dito.
	* Source/NSColorPanel.m (-setAccessoryView:): Dito.

2011-05-15  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSTextView.m: Use pointing hand cursor for links

2011-05-14  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSTableHeaderView.m: Use resize cursors

2011-05-14  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSTextView.m: Use IBeam cursor if selectable

2011-05-14  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSSplitView.m: Use resize cursors

2011-05-14 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPrintOperation.m: Add an extra context save and restore
	at the sheet level. This is a partial fix for bug #32845.

2011-05-12 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSXibLoader.m: Add support for the "array" and
	"dictionary" elements found in newer XIB files (Version >= 8).

2011-05-11  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/Functions.m: For functions which set the fill or stroke
	color as part of their implementation, save/restore the graphics
	state so that the user's fill/stroke color isn't overwritten.
	See the PixelExactDrawing test in GSTest for an example.

2011-05-07  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSButtonCell.m (-drawImage:withFrame:inView:): Align
	the point at which the image is drawn to the nearest pixel.

	r32895 which reimplemented -[NSImage composite..] methods
	on top of -[NSImage draw...] methods means that drawing
	images with -compositeToPoint: no longer pixel-aligns
	the image automatically. The new behaviour matches
	Cocoa, however.

011-05-07  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSView.m (-convertPoint:toView:): Correct this
	method; it was applying the transforms backwards :-(

2011-05-05  Eric Wasylishen  <ewasylishen@gmail.com>

	* Tests/gui/NSView/NSView_frame_bounds.m: Add some more tests
	of setBoundsSize:. They are currently failing (but pass on
	OS X).

2011-05-04  Eric Wasylishen  <ewasylishen@gmail.com>

	* Images: Add a few more high-res images (arrows)

2011-05-03  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSScreen.m: Use -userSpaceScaleFactor to calculate
	NSDeviceResolution
	* Source/NSImage.m: Implement -_bestRep:withResolutionMatch:
	* Images/common_Dimple.tiff:
	* Images/common_3DArrowRight.tiff: Add to these images
	a second 'page' at 4x the original resolution which I drew.

	If you use GSScaleFactor > 1 then the high resolution version
	of these images should be used.

2011-05-01  Eric Wasylishen  <ewasylishen@gmail.com>

	* Images: Ensure all images have their DPI metadata set to 72.

2011-05-01  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSLayoutManager.m
	(-characterIndexMoving:fromCharacterIndex:originalCharacterIndex:distance:):
	Rework this method to suport moving the insertion point between text
	containers, for both left/right and up/down movements. However, it will
	only have this behaviour when distance == 0.

	This is part of what is needed to support moving the insertion point
	between text views in, e.g., TextEdit when using the multi-page view.

2011-04-30  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSView.m (-updateBoundsMatrix):
	Fix a bug where updateBoundsMatrix would refuse to restore a
	view's scale to its original value, after a modified bounds rect
	had been set.
	* Source/NSView.m (-setBounds:, -setBoundsOrigin:, -setBoundsSize:):
	Call [self setNeedsDisplay: YES]; at the ends of these methods.
	While the Cocoa docs explicitly say that calling these methods
	won't mark the view as needing redisplay, this doesn't seem to
	be true in practice.

2011-04-29  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSOutlineView.m: Implement -keyDown: to expand/contract
	items.

2011-04-29  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSTextView.m (-mouseDown:):
	Add support for making selections with the mouse which span multiple
	text views
	* Source/NSTextView.m (-setSelectedRange:affinity:stillSelecting:):
	Replace the complex display invalidation code with two calls to
	-[NSLayoutManager invalidateDisplayForCharacterRange:], which will
	take care to invalidate all necessary text views.

2011-04-29  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSTextView.m (-setTypingAttributes:) Guard against
	nil layout manager

2011-04-28  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSPopUpButtonCell.m: Override -representedObject and
	-setRepresentedObject: with implementations that delegate the
	call to [self selectedItem] (the NSMenuItem).

2011-04-27  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSTextView.m (-selectionRangeForProposedRange:granularity:):
	Remove a special case which caused this method to refuse to
	expand a range {[string length], 0}.
	This was why the align left/center/right menu items didn't work
	in Ink when the insertion point was at the end of a document.
	The behaviour should match OS X now.

2011-04-26  Eric Wasylishen  <ewasylishen@gmail.com>

	* Headers/AppKit/NSSavePanel.h:
	* Source/NSSavePanel.m: Implement -setNameFieldStringValue:,
	-nameFieldStringValue, -setNameFieldLabel:, -nameFieldLabel.

2011-04-26  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSTextView.m (-setRulersVisible:): Create a horizontal ruler on
	the scroll view if needed - this seems to be the OS X behaviour.

2011-04-21  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSImage.m (-nativeDrawInRect:...): Fix a bug in my recent change
	here which mis-positioned images.

2011-04-21  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/tiff.m:
	* Source/nsimage-tiff.h:
	* Source/NSBitmapImageRep.m: Read DPI metadata in TIFF files and use this
	to set the point size of the image rep

2011-04-20  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSImage.m (-nativeDrawInRect:...): Make the cache window
	large enough so that detail is preserved when drawing using a scale factor
	larger than 1. This change should only improve output quality but not
	affect image drawing otherwise.

2011-04-20  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSBitmapImageRep+PNG.m: Read DPI metadata in PNG files
	and use this to set the point size of the image rep

2011-04-19  Eric Wasylishen  <ewasylishen@gmail.com>

	* ColorPickers/GSWheelColorPicker.m: Choose the color wheel bitmap size
	by converting the bounds rect to window base coordinates

2011-04-19  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSScreen.m: Read -userSpaceScaleFactor from the GSScaleFactor
	user default.
	* Source/GSWindowDecorationView.m: Apply -[NSScreen userSpaceScaleFactor]
	in +frameRectForContentRect and +contentRectForFrameRect, as well as
	setting a scaled bounds size in -layout.

2011-04-18  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSWindow.m: Remove unnecessary FIXMEs related to
	user space scale factor
	* Source/NSAppliation.m: Correct app icon sizing which was
	mixing up window frame coordinates and user space coordinates
	* Source/NSCachedImageRep.m: Add NSUnscaledWindowMask to the
	window used internally

2011-04-18  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSScreen.m (-userSpaceScaleFactor):
	Temporarily fix the scale factor at 1.0 until the remaining parts
	of the high DPI patch are committed.

2011-04-18  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSImage.m (-compositeToPoint:fromRect:operation:fraction:):
	New simple implementation which calls
	-drawAtPoint:fromRect:operation:fraction:.
	Also respects the user space scale factor.
	* Source/NSImage.m (-guiDrawInRect:fromRect:operation:fraction):
	Remove a special case which called -compositeToPoint:..., which would
	cause an infinite loop when combined with the above change.

	Also avoid using -drawRepresentation:inRect: because -drawInRect:...
	is supposed to fill the destination rect regardless of the setting
	of -scalesWhenResized. This is a change borrowed from
	-nativeDrawInRect:...

2011-04-19 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMenu.m (-_organizeMenu): Move some code around to avoid
	a compiler warning.

2011-04-19 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSViewController.m (-loadView): Retain the topLevelObjects.

2011-04-18  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSMenuView.m (-setWindowFrameForAttachingToRect:...):
	This method mixed user space and window base coordinates in some
	places, which I fixed.

2011-04-18  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSView.m (-_rebuildCoordinates): Remove assumption that
	the window content view's superview's transformation matrix is
	the identity matrix.
	* Source/NSView.m (-convertPoint..., convertRect..., convertSize...):
	Rewrite these methods to remove the same assumption as above, and
	also call -_matrixToWindow/-_matrixFromWindow rather than accessing
	ivars directly.

2011-04-18  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/GSStandardWindowDecorationView.m: Use bounds rect instead
	of frame rect when laying out the window parts (title bar, etc).

2011-04-18 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSXibLoader.m: Rewrote the handling of the data
	element. This no longer gets treated as the "root" element of the
	XIB file. Correct reference handling. A reference may now be
	decoded before the actual object.

2011-04-17  Eric Wasylishen  <ewasylishen@gmail.com>

	* configure.ac: Copy the -Wdeclaration-after-statement test from
	base. Also adds -Wall.

2011-04-14  Adam Fedor  <fedor@gnu.org>

	* Version: Bump version.

2011-04-14  Adam Fedor  <fedor@gnu.org>

	* Version 0.20.0

2011-04-10 04:45-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/GSThemeMenu.m: added method - (BOOL) menuShouldShowIcon
	* Source/NSMenu.m: Call menuShouldShowIcon so that the theme
	can determine if it should show the app icon.
	* Headers/Additions/GNUstepGUI/GSTheme.m: add declaration for
	menuShouldShowIcon.

2011-04-09 Fred Kiefer <FredKiefer@gmx.de>

	* Source/tiff.m,
	* Source/NSLayoutManager.m: Replace objc_free and objc_realloc
	with free and realloc.
	* Source/NSToolbar.m [-_build]: Correct type cast.
	* Source/GSTextFinder.m [-performFindPanelAction:withTextView:]:
	Use correct format for NSInteger.
	Fixes warnings reported by clang.

2011-04-08  Nicola Pero  <nicola.pero@meta-innovation.com>

	* GNUmakefile (SUBPROJECTS): Added Tests, so that 'make check'
	top-level does run the tests.
	* Tests/GNUmakefile: Use rules.make instead of test-tool.make.
	(TEST_TOOL_NAMES): Variable removed.

2011-03-31 Riccardo Mottola <rm@gnu.org>

	* Source/NSWorkspace.m
	Redefine statfs only for netbsd >= 3

2011-03-30 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSTableView.h,
	* Headers/AppKit/NSOutlineView.h,
	* Source/NSOutlineView.m
	(-namesOfPromisedFilesDroppedAtDestination:): Correct declaration
	of data source methods and the implementation in NSOutlineView.

2011-03-29 Riccardo Mottola <rm@gnu.org>

	* Source/NSParagraphStyle.m
	* Source/NSMatrix.m
	Added missing import.

2011-03-29 German Arias <german@xelalug.org>

	* Source/NSApplication.m (-hide:): Minimize all windows if
	the AppIcon is suppressed.

2011-03-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTextStorage.m:
	Use pointer sized integers in union for 64bit safety.

2011-03-28 Fred Kiefer <FredKiefer@gmx.de>

	* Tests/gui/NSSavePanel/setDelegate_reload.m: Switch the save
	panel to show hidden files as this is no longer the default.
	* Tests/gui/NSCell/basic.m: Basic create, coding and copy tests
	copied from base.

2011-03-28 Riccardo Mottola <rm@gnu.org>

	* Source/NSSearchFieldCell.m,
	* Source/NSTextView.m:
	Remove c99-ism

	* Source/NSSpeechSynthesizer.m:
	Add missing import

2011-03-25 German Arias <german@xelalug.org>

	* Panels/Spanish.lproj/GSDataLinkPanel.gorm:
	* Panels/Spanish.lproj/GSPageLayout.gorm:
	* Panels/Spanish.lproj/GSToolbarCustomizationPalette.gorm:
	* Panels/Spanish.lproj/GSPrintPanel.gorm:
	* Panels/Spanish.lproj/GSFindPanel.gorm: Tweak size of some
	elements for improve the presentation.

2011-03-19  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSPrintPanel.m:
	* Panels/Spanish.lproj/GSPrintPanel.gorm:
	* Panels/English.lproj/GSPrintPanel.gorm: Tweak the print panel to
	allow the user to choose the printer

2011-03-18  Nicola Pero  <nicola.pero@meta-innovation.com>

	* Documentation/GNUmakefile (DOCUMENT_TEXT_NAME, TOP_DOC_FILES):
	Fixed names of files to generate; for example, INSTALL instead of
	install.

2011-03-17  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMenuView.m (-_trackWithEvent:): Use _trackWithEvent:
	instead of trackWithEvent: to have just one mouse capture call.

2011-03-17  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSOutlineView.m (-namesOfPromisedFilesDroppedAtDestination:),
	* Source/NSTableView.m
	(-namesOfPromisedFilesDroppedAtDestination:): Implement this drag
	and drop support method.

2011-03-16  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSComboBoxCell.m: Correct imports.

2011-03-16  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSOutlineView.m (-_didChangeSortDescriptors:),
	* Source/NSTableView.m (-_didChangeSortDescriptors:): Send the
	message to the data source not the delegate.

2011-03-16 06:30-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/GSThemeMenu.m: Use copy in setMenu:forWindow: instead of
	NSArchiver.

2011-03-14  Fred Kiefer <FredKiefer@gmx.de>

	* ColorPickers/GSNamedColorPicker.m
	* Source/NSBrowser.m
	* Source/NSPanel.m
	* Source/NSOpenPanel.m
	* Source/GSDisplayServer.m
	* Source/NSFormCell.m
	* Source/NSBitmapImageRep.m
	* Source/NSForm.m
	* Source/GSVbox.m
	* Source/NSSavePanel.m
	* Source/GSMemoryPanel.m
	* Source/NSScroller.m
	* Source/NSMenuView.m
	* Source/NSSecureTextField.m
	* Source/NSHelpPanel.m
	* Source/NSSegmentedCell.m
	* Source/NSStepperCell.m
	* Source/NSColorPanel.m
	* Source/NSDataLinkPanel.m
	* Source/GSTable.m
	* Source/NSBrowserCell.m
	* Source/GSHbox.m: Correct issues with missing or incorrect self
	tests in initXXX methods pointed out by static analyser.

2011-03-14  Fred Kiefer <FredKiefer@gmx.de>

	* Printing/GSCUPS/GSCUPSPrinter.m (+printerWithName:) Autorelease
	the dummy printer.
	* Source/NSWorkspace.m (-iconForFile:): Remove unused code.
	* Source/NSComboBoxCell.m: Remove the old browser based
	implementation after testing the new one for seven years.

2011-03-14  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSMenuItemCell.m: Add missing -retain for key
	equivalent modifier strings

2011-03-14  Eric Wasylishen  <ewasylishen@gmail.com>

	* Headers/AppKit/NSSavePanel.h: Add OS 10.6 #ifdef around
	new showsHiddenFiles methods

2011-03-14  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSTextView.m: Add a message in the context menu
	if there are no spelling suggestions

2011-03-14  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMenuItemCell.m: Make key equivalent modifier string
	user adjustable by getting them from the defaults.
	* Documentation/GuiUser/DefaultsSummary.gsdoc: Document the new
	equivalent modifier strings and remove the now obsolete
	documentation for GSFileBrowserHideDotFiles.

2011-03-14  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSSavePanel.m (-_initWithoutGModel): Use an image view
	instead of a button to display the application icon. That way
	icons get scaled correctly.
	Patch by Philippe Roussel <p.o.roussel@free.fr>.

2011-03-14  Nicola Pero  <nicola.pero@meta-innovation.com>

	* Resources/GNUmakefile
	(gui-resources_RESOURCE_FILES_INSTALL_DIR): Removed.
	* Source/GNUmakefile
	(libgui-resources_RESOURCE_FILES_INSTALL_DIR): Removed.

2011-03-14  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSLayoutManager.m: Don't draw spelling underlines
	when printing

2011-03-14  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSTextView.m: Attempt to add pagination support
	so lines aren't cut in half when printing

2011-03-13  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSTextView.m: Tweaks to last commit

2011-03-13  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSLayoutManager.m: Clear temporary attributes
	on the modified range when informed of a change in the text
	storage
	* Source/NSTextView.m: Add a context menu with spelling
	suggestions and cut/copy/paste

2011-03-13  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSSavePanel.m:
	* Headers/AppKit/NSSavePanel.h: Implement -showsHiddenFiles
	and -setShowsHiddenFiles:. Add a context menu to the browser
	to allow toggling this setting.

	NOTE: It defaults to not showing hidden files, and no longer
	uses the GSFileBrowserHideDotFiles user default.

2011-03-13  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSPrintPanel.m:
	* Printing/GSCUPS/GSCUPSPrintOperation.m:
	* Printing/GSLPR/GSLPRPrintOperation.m: Allow saving a print
	job as a PDF.

2011-03-13  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSSpellChecker.m (-_findNext:, -_learn:, -_forget:,
	-_ignore:, -_guess:, -_correct:, -_switchDictionary:,
	-_highlightGuess:): Change action methods to return no result.

2011-03-13  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSSpellChecker.m (-init, -dealloc): Fix nasty
	retain/release error, which could crash applications after
	changing the spell checker language in the spelling panel.

2011-03-13 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWorkspace.m (-iconForFile:): Remove unused local variable.
	* Source/GSGormLoading.m (gmodel_class): Remove useless assignment.
	* Source/NSTextBlock.m
	(-drawBackgroundWithFrame:...layoutManager:): Use the correct variables.
	* Source/NSRulerMarker.m (-trackMouse:adding:): Remove unused variable.
	* ColorPickers/GSNamedColorPicker.m (-setColor:): Add missing
	implementation.
	* ColorPickers/GSStandardColorPicker.m (-_showNewPicker:),
	* Source/GSToolbarCustomizationPalette.m (-layout),
	* Source/NSTableView.m (-sizeToFit),
	* Source/NSApplication.m (-finishLaunching),
	* Source/GSGormLoading.m (GSNibContainer-awakeWithContext:),
	* Source/NSMenu.m (-sizeToFit),
	* Source/NSSplitView.m (-mouseDown:),
	* Source/NSBrowser.m (-setLastColumn:),
	* Source/NSPrintOperation.m (-deliverResult):
	Removed dead assignments found by static code analyser.

2011-03-12 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMatrix.m (_shiftModifier:): Use correct column index
	for old cell.
	* Headers/AppKit/NSCursor.h
	* gui/Source/NSCursor.m: Add Mac 10.6 methods and implement keyed
	coding/decoding properly.
	* Images/nsmapping.strings: Add mappings for some new cursors.

2011-03-11  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSLayoutManager.m:
	* Source/externs.m:
	* Source/NSTextView.m:
	* Headers/AppKit/NSAttributedString.h:
	* Headers/AppKit/NSTextView.h: Implement continuous spell checking

2011-03-11 Fred Kiefer <FredKiefer@gmx.de>

	* ColorPickers/GSStandardColorPicker.m
	* Source/GSToolbarCustomizationPalette.m
	* Source/GSServicesManager.m
	* Source/NSSpellChecker.m: Fix dead initialisation found by static
	analyser.

2011-03-10 Fred Kiefer <FredKiefer@gmx.de>

	* TextConverters/RTF/RTFConsumer.m
	* Source/GSNibLoading.m
	* Source/NSInputManager.m
	* Source/NSEPSImageRep.m
	* Model/GMArchiver.m
	* Tools/set_show_service.m
	* Tools/GSspell.m: Fix memory leaks found by static analyser.

2011-03-10 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSTitleView.h,
	* Headers/AppKit/NSProgressIndicator.h: Remove unused ivars found
	by static analyser.

2011-03-09  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSPopUpButtonCell.m (-dealloc): Stop observing
	notifications from the button's menu to prevent obscure crashes
	later.

2011-03-09  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSMatrix.m (_altModifier:): Fix swapped macro arguments,
	which could lead to a wrong selection and potentially a crash when
	extending the selection with the alt modifier key.

2011-03-09  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTableHeaderCell.m (-initTextCell:): Don't wrap text in
	table view headers by default. This partially fixes #30020.

2011-03-08  Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSLayoutManager.m: Implement temporary attributes
	* Header/AppKit/NSLayoutManager.h: Add a _temporaryAttributes ivar

2011-03-07 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSGraphicsContext.m (+saveGraphicsState): Release the
	stack, as it is retained in the thread dictionary.
	Leak found by static code analyser.

2011-03-07 Fred Kiefer <FredKiefer@gmx.de>

	* gui/Headers/Additions/GNUstepGUI/GSDisplayServer.h
	* gui/Source/GSDisplayServer.m
	* gui/Source/NSCursor.m: Change the way the image for the cursor
	gets passed on to the backend. The old way could only work for 8
	bit data.

2011-03-07 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSKeyValueBinding.h
	* Source/externs.m: Add a few more binding names.
	* Source/NSPopUpButton.m: Implement NSSelectedTagBinding.

2011-03-07 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow.m
	* Source/NSObjectController.m
	* Source/NSControl.m
	* Source/NSMenuItem.m
	* Source/NSKeyValueBinding.m
	* Source/NSTextField.m
	* Source/NSView.m: Release the key value binding as it will be
	retained in the binding table.
	Leak found by static code analyser.

2011-03-06 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMatrix.m (-_privateFrame:...numberOfColumns): Change
	the init helper method to conform with the Objective-C conventions,
	* Source/GSGormLoading.m (GSNibItem-initWithCoder:): Retain the
	shared application before returning it.
	* Source/NSDataLink.m: Correct the init methods to return a
	retained object.
	* Source/NSAnimation.m: Implement the copy and coding methods.
	* Source/NSImageView.m (-cut:): Use the correct copy method.
	Fixed issues spotted by the static code analysis.

2011-03-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSHelpManager.m:
	* Source/GSServicesManager.m:
	* Source/NSBundleAdditions.m:
	* Source/NSSpellChecker.m:
	Avoid calls to non-standard method.

2011-03-05 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSNibLoading.m (NSCustomView): Correct implementation of
	-initWithCoder: and remove -awakeAfterUsingCoder:.
	* Source/NSSound.m: Remove method -awakeAfterUsingCoder:.
	* Source/NSWindow.m (-_captureMouse:, -_releaseMouse:) Add some
	debug log code here to simplify debugging these methods.

2011-03-04 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/PSOperators.h
	* Source/NSFontPanel.m
	* Source/NSSound.m
	* Source/NSTextAttachment.m
	* Source/NSOpenGLPixelFormat.m
	* Source/GSThemeOpenSavePanels.m
	* Source/NSTableHeaderCell.m
	* Source/GSTypesetter.m
	* Source/NSAlert.m
	* Source/NSOpenPanel.m
	* Source/NSImageCell.m
	* Source/NSManagedObjectContext.h
	* Source/GSGormLoader.m
	* Source/NSText.m
	* Source/NSTokenField.m
	* Source/NSParagraphStyle.m
	* Source/NSManagedObjectContext.m
	* Source/GNUmakefile
	* Source/NSTableHeaderView.m
	* Source/NSTextTable.m
	* Source/NSTextBlock.m
	* Source/NSFontManager.m
	* Source/NSFormCell.m
	* Source/NSLevelIndicator.m
	* Source/NSMatrix.m
	* Source/NSTextTableBlock.m
	* Source/NSObjectController.m
	* Source/NSOpenGLView.m
	* Source/NSDataLinkManager.m
	* Source/GSThemeInspector.m
	* Source/GSStandardWindowDecorationView.m
	* Source/NSInputServer.m
	* Source/NSSplitView.m
	* Source/NSImageRep.m
	* Source/NSBezierPath.m
	* Source/GSTextStorage.h
	* Source/GSNibLoading.m
	* Source/NSResponder.m
	* Source/NSColorWell.m
	* Source/GSTextStorage.m
	* Source/NSForm.m
	* Source/NSApplication.m
	* Source/GSGuiPrivate.h
	* Source/NSComboBox.m
	* Source/NSMovieView.m
	* Source/NSSavePanel.m
	* Source/NSMovie.m
	* Source/GSThemeMenu.m
	* Source/NSMenuItemCell.m
	* Source/NSPrinter.m
	* Source/NSPasteboard.m
	* Source/NSTextContainer.m
	* Source/NSButtonImageSource.h
	* Source/GSToolbarCustomizationPalette.h
	* Source/NSFontDescriptor.m
	* Source/GSTrackingRect.m
	* Source/NSCursor.m
	* Source/NSPrintOperation.m
	* Source/GSSlideView.h
	* Source/NSControl.m
	* Source/NSInterfaceStyle.m
	* Source/NSDocumentFrameworkPrivate.h
	* Source/NSTokenFieldCell.m
	* Source/GSSlideView.m
	* Source/NSOpenGLContext.m
	* Source/NSInputManager.m
	* Source/NSRulerMarker.m
	* Source/NSToolbarItemGroup.m
	* Source/NSProgressIndicator.m
	* Source/NSLevelIndicatorCell.m
	* Source/NSTextStorage.m
	* Source/NSFileWrapper.m
	* Source/NSDocumentController.m
	* Source/NSDrawer.m
	* Source/NSCustomImageRep.m
	* Source/NSMenuView.m
	* Source/NSHelpPanel.m
	* Source/NSComboBoxCell.m
	* Source/NSSegmentedCell.m
	* Source/NSStepperCell.m
	* Source/NSDataLink.m
	* Source/tiff.m
	* Source/NSScrollView.m
	* Source/NSEPSImageRep.m
	* Source/NSUserDefaultsController.m
	* Source/NSSegmentedControl.m
	* Source/GSTable.m
	* Source/NSKeyValueBinding.m
	* Source/NSTextList.m
	* Source/NSEvent.m
	* Source/NSController.m
	* Source/NSSelection.m
	* Source/NSTextField.m
	* Source/GSToolTips.h
	* Source/NSToolbarFrameworkPrivate.h
	* Source/NSAnimation.m
	* Source/NSSpeechSynthesizer.m: Replace #include -> #import
	* Source/NSParagraphStyle.m: Use GSClassSwizzle.

2011-03-02 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSImage.m: Remove the -awakeAfterUsingCoder: method as
	this method was incorrectly implemented and
	* Source/NSTextAttachment.m (NSTextAttachmentCell-setAttachment:):
	Release the created icon after setting it as image.

2011-02-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBitmapImageRep.m:
	* Source/NSBitmapImageRep+GIF.m:
	* Source/NSBitmapImageRep+JPEG.m:
	* Source/tiff.m:
	Avoid obsolete OBJC_... macros

2011-02-28 Riccardo Mottola <rm@gnu.org>

	* Source/GSLayoutManager.m
	* Source/GSKeyBindingTable.m
	Replace objc_malloc with malloc for structures.

2011-02-24 13:15  David Chisnall <theraven@gna.org>

	* libs/gui/trunk/Source/NSDocumentController.m: Comment out unused
	  function.
	* libs/gui/trunk/Source/NSFontManager.m: Change unsigned int ->
	  int, so that loops terminate with termination condition, rather
	  than SegV
	* libs/gui/trunk/Source/NSLayoutManager.m: Remove some tests that
	  are always true (NSRange.length > 0 - NSUIntegers are always >
	  0).
	* libs/gui/trunk/Source/NSTextBlock.m: Remove some more comparisons
	  testing unsigned values are < 0.
	* libs/gui/trunk/Source/GSServicesManager.m: get_imp() ->
	  class_getMethodImplementation() (GCC runtime function -> standard
	  runtime function)
	* libs/gui/trunk/Source/GSTheme.m: More unsigned < 0 tests.
	* libs/gui/trunk/Source/NSTextView.m: Rename HUGE -> GSHUGE to
	  remove conflict with standard library #define.
	* libs/gui/trunk/Model/IMLoading.m: Add __attribute__((unused)) on
	  __dummyFunctionForLinking().

2011-02-22  Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSMenuView.m (-_trackWithEvent:): Quick fix for recent
	menu tracking changes: release the mouse before invoking
	the menu's action.

2011-02-22  Eric Wasylishen <ewasylishen@gmail.com>

	* Source/externs.m:
	* Headers/AppKit/NSAttributedString.h: Add
	NSStrikethroughStyleAttributeName
	* TextConverters/RTF: Add support for reading and writing
	underline and strikethrough.

2011-02-22  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSLayoutManager.m:
	* Headers/AppKit/NSLayoutManager.h: Preliminary implementation of
	underlining

2011-02-21 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMenuView.m (-trackWithEvent:): Rewrite that uses mouse
	capture to ensure we get mouse events outside our windows.
	Patch by Christopher Armstrong <carmstrong@fastmail.com.au>

2011-02-20 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow.m,
	* Source/NSControl.m,
	* ColorPickers/GSStandardColorPicker.m,
	* ColorPickers/GSWheelColorPicker.m,
	* Source/GSXibLoader.m: Fix memory leaks found by analyser.

2011-02-20 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSFusedSilica.h,
	* Source/GSFusedSilicaContext.h,
	* Source/GSFusedSilicaContext.m,
	* Source/GSFusedSilica.m: Remove these files as they are obsolete
	now. The Opal library is a more complete replacement for CoreGraphics.
	* Source/GNUmakefile,
	* Source/DocMakefile,
	* Source/NSFont.m: Remove references to GSFusedSilica.

2011-02-20 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSScreen.m,
	* Source/NSWindow.m,
	* Source/NSToolbar.m,
	* Source/NSScroller.m,
	* Source/NSTextView.m: Remove direct usage of isa.
	* Source/GSBindingHelpers.h: Replace #include with #import.

2011-02-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Tests/GNUmakefile: Run/clean tests
	* Tests/gui: Imported from testsuite

2011-02-15 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSDisplayServer.h,
	* Source/GSDisplayServer.m (-recolorcursor:::, -recolorcursor:::)
	(-setcursor:, -freecursor:): New backend methods replacing
	-setcursorcolor:::.
	* Source/NSCursor.m,
	* Source/GSDragView.m: Use new cursor methods.

2011-02-15 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow.m (-setContentView:): Revert Wolfgangs change
	and add a different solution as explained in his mail.

2011-02-14  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSApplication.m (-_initDefaults):
	* Source/NSWindow.m (-_initDefaults):
	Add user default to allow placing app icons and mini windows at
	normal window level. This is particularly convenient with some
	window managers (*cough*, kwin) where application and pop up menus
	are obscured by dock level windows.

2011-02-14  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSWindow.m (-setContentView:): Fix bug where a stray view
	could leak when changing the content view of a window. This view
	then could make the title bar buttons inaccessible when -gui
	handles window decorations.

2011-02-14  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTabViewItem.m (-init, -initWithItemIdentifier:):
	Create a default content view for new tab view items. Compatible
	with Apple.

2011-02-14 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSOutlineView.m (-editColumn:...select:): Bring closer to
	the new code in [-drawRow:clipRect:].
	* Source/GSInfoPanel.m (-initWithDictionary:): Protect against
	icon being nil.

2011-02-14 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSCursor.m,
	* Source/GSDragView.m,
	* Source/GSMemoryPanel.m: Fix Use-after-release found by static analyser.

2011-02-10 German Arias <german@xelalug.org>

	* Source/GSGormLoader.m (+initialize): Load the app icon here, at launch
	time, since GSGormLoader is initialized before call -finishLaunching
	in NSApp (In non document-based apps that load a gorm file at launch).
	So the windows and panels at initial gorm file don't show the app
	icon (bug #31039).

2011-02-10 German Arias <german@xelalug.org>

	* Source/GSGormLoading.m (-awakeWithContext:): Call directly the method
	-orderFront: on visible windows, since this works fine here, instead
	put these windows into _inactive list. This solve the problem of menu
	in window in non document-based apps and the problem with the outlet
	"initialFirstResponder" on gorm files.

2011-02-09 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSInfoPanel.m,
	* Source/GSTextStorage.m,
	* Source/GSThemeInspector.m,
	* Source/NSBrowser.m,
	* Source/NSImage.m,
	* Source/NSMenuView.m,
	* Source/NSPageLayout.m,
	* Source/NSSpellChecker.m,
	* Source/NSStringDrawing.m,
	* Source/NSTableHeaderView.m,
	* Source/NSTableView.m,
	* Source/NSWindow.m,
	* Tools/gclose.m,
	* Tools/make_services.m: Remove dead assignments found by static code analysis.

2011-02-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSEvent.m: Avoid unneccessary creation/destruction of NSDate
	instances during periodic events.

2011-02-08 Riccardo Mottola <rm@gnu.org>

	* Source/NSBitmapImageRep+PNG.m:
	Tweak png.h header order to avoid problems on some systems.

2011-02-08 Riccardo Mottola <rm@gnu.org>

	* Source/NSBitmapImageRep+PNG.m:
	Cleaned up includes so that compilation without PNG works again.

	* configure.ac:
	Use libpng-config to determine the correct includes and libraries.

	* configure: regenerated.

2011-02-07 Fred Kiefer <FredKiefer@gmx.de>

	* Printing/*: Clean up all the header includes.

2011-01-31 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSBrowser.h,
	* Source/NSBrowser.m: Add method -scrollRowToVisible:inColumn:

2011-01-29 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBitmapImageRep+PNG.m (_initBitmapFromPNG:): Use
	function to check whether gamma is valid.
	Patch by Thomas Klausner.

2011-01-27  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSApplication.m (-terminate:): Send message to the
	document controller to let the user review any unsaved changes in
	its managed documents before asking the application delegate
	whether its okay to terminate the application. This matches
	Cocoa's documented and implemented behavior.

	* Source/NSApplication.m (-terminate): Move call to GSRemoveIcon
	from here ...
	* Source/NSApplication.m (-replyToApplicationShouldTerminate:):
	... to here to ensure that the app icon is removed from the icon
	manager even when the delegate delays application termination.

2011-01-26  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Headers/AppKit/NSWindow.h: Add missing declaration of the
	-isZoomed method.

2011-01-24  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSWindowController.m (-_windowDidLoad): Move code to set
	the autosave name of the window's frame from here ...

	* Source/NSWindowController.m (-setWindow:): ... to here to match
	Cocoa behavior (cf. Apple's AppKit release notes for OS X 10.5).

2011-01-24  Doug Simons  <doug.simons@testplant.com>

	* Source/NSSearchFieldCell.m (-trackMouse:inRect:ofView:untilMouseUp:):
	Pass mouseDown event to the field editor when click is in the field, to
	select at the correct point in the text.

2011-01-24  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSWindow.m (-setFrameFromString:, -stringWithSavedFrame):
	Do not include an in-window menu in a window's saved frame either.

2011-01-24 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSViewController.h,
	* Source/NSViewController.m: Add loading of NIB.
	* Headers/AppKit/NSObjectController.h: Use version constant names.

2011-01-24  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSWindow.m (-setFrameFromString:, -stringWithSavedFrame):
	Merge change from the testplant_1 branch:
	Do not include the toolbar in a window's saved frame. Makes saving
	and restoring window frame sizes independent of whether the
	toolbar is present at the time when the frame is saved or restored.
	Patch by Doug Simons <doug.simons@@testplant.com>

2011-01-24 German Arias <german@xelalug.org>

	* Source/NSMenuView.m (-trackWithEvent:): Fixed problems with
	transient menus and PopUp (pulls-down) with Windows95 interface
	style.

2011-01-20  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSColorList.m (+availableColorLists): Make sure the
	system colors are set up properly before computing the available
	color lists. Fixes an issue where the returned list would either
	be empty or contain two instances of the system color list.

2011-01-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSWorkspace.m: check on-disk cache at regular intervals ...
	somehow that got lost at some point.  Also tidy up a few coding
	standards violations which crept in.

2011-01-19  Doug Simons  <doug.simons@testplant.com>

	* Source/NSSearchFieldCell.m
	(-_openPopup:): Switch to use an actual NSPopUpButtonCell when
	popping up the menu. Handle selected item in search menu properly.
	(-_searchForRecent:): Display and select search text after user
	selects a recent search term.
	(-drawWithFrame:inView:, -textDidChange:, -clearSearch:): Only show
	cancel button when field is not empty.

2011-01-17  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSApplication.m (-sendEvent:):
	* Source/NSMenu.m (-performKeyEquivalent:):
	Look up key equivalents in the Services menu only after traversing
	the rest of the main menu to avoid accidentally shadowing key
	equivalents in the application's own menus.

2011-01-17  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* ColorPickers/GSWheelColorPicker.m (-regenerateImage):
	Fix to correctly display color wheel image on big endian
	machines.

2011-01-16 00:32-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSApplication.m: Added overide for orderWindow:relativeTo:
	in NSIconWindow.  Check for GSSuppressAppIcon and order the window
	ONLY if the app icon window is supposed to be displayed, otherwise
	do not do anything with it.   I observed issues with this
	functionality while testing the GNOME theme the app icon would
	periodically show even when the default mentioned above was set to
	YES.

2011-01-15 23:50-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSMenuView.m: Fix to previous change to
	[NSMenuView trackWithEvent:].
	Assign attachedMenu to local variable and test for nil
	prior to entering the code to close the menu when tracking
	the mouse for normal menus.  Previous version of this code
	was causing menu items owned by pull downs (NSPopUpButton) to
	close prior to mouse up event.

2011-01-15 German Arias <german@xelalug.org>

	* Source/NSWindow.m:
	* Source/NSSavePanel.m:	Reverted latest changes.
	* Source/NSMenuView.m: Added the appropriate code to close
	the menu after select an option, but before do the
	instructions of the selected option.
	* Headers/AppKit/NSApplication.h:
	* Source/NSApplication.m: Save the main window when the
	app is hidden or when is deactivated.

2011-01-15  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSColorWell.m (-activate:): Deactivate an active color
	well when the user closes the color panel.

2011-01-15  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Headers/AppKit/NSColorList.h:
	* Headers/AppKit/NSColorPanel.h:
	* Source/NSColorList.m (-insertColor:key:atIndex:,
	-removeColorWithKey:, -setColorForKey:):
	* Source/NSColorPanel.m (-setColor:):
	* Source/NSColorWell.m (-activate:):
	* Source/NSWindow.m (-initWithContentRect:styleMask:backing:defer:):
	* Source/externs.m(NSColorListDidChangeNotification,
	NSColorPanelColorDidChangeNotification):
	Rename notifications to match Cocoa (and OpenStep).

2011-01-15  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSApplication.m (-rightMouseDown:):
	* Source/NSApplication.m (-_dockMenu):
	Provide a default context menu for application icons when using
	Macintosh or Windows 95 style menus. Inspired by OS X, the menu
	contains items to hide or show the application, to terminate the
	application, an item for each window present in the application's
	window menu, and the items of the dock menu returned by the
	application delegate.

	* Headers/AppKit/NSApplication.h:
	Update documentation to note that the -applicationDockMenu:
	delegate method now may be called on GNUstep.

	* Resources/English.lproj/Localizable.strings:
	* Resources/German.lproj/Localizable.strings:
	Update. Also add a few more German translations.

2011-01-15  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSApplication.m (-changeWindowsItem:title:filename):
	Insert window menu items strictly at the bottom of the menu,
	keeping only items with actions -performMiniaturize: and
	-performClose: beneath them. This allows having additional items
	at the top of the menu and works better for window menus that
	follow the Mac OS X UI guidelines and have miniaturize and zoom
	commands at the top and arrange in front below them.

2011-01-09 21:58-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSSavePanel.m: (-_initWithoutGModel): added
	code near the and to close the current menu when in Win95
	mode.  If this doesn't happen the menu remains open
	and allows the user to drag the window around while the
	menu remains in it's old position.

2011-01-09 German Arias <german@xelalug.org>

	* Source/NSApplication.m (-activateIgnoringOtherApps:):
	If we have menu in window, set a main window when unhide.
	* Source/NSWindow.m (-resignMainWindow): Close the menu
	in window if resign main window.

2011-01-08 German Arias <german@xelalug.org>

	* Source/NSMenuView.m (-trackWithEvent:):
	Close the menu in window if user press a modifier key.
	And improvements for don't lose the mouse tracking
	in a menu in window.

2011-01-06 German Arias <german@xelalug.org>

	* Source/NSMenuView.m (-locationForSubmenu:, -trackWithEvent:):
	Fixed the tracking of mouse at horizontal menu.

2011-01-04  Doug Simons  <doug.simons@testplant.com>

	* Source/NSSearchFieldCell.m:
	Fix cancel button to correctly clear the field and send action.
	Fix -textDidChange: to correctly send action rather than popping up
	the menu on each keystroke (when sendsWholeSearchString is false).


2011-01-04  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/tiff.m (NSTiffWrite):
	Fix long standing bug where incorrect data was written out for RGB
	images if bits per sample != 8.

2011-01-03  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/GNUmakefile:
	* Headers/Additions/GNUstepGUI/GSHelpAttachment.h:
	* Source/GSHelpAttachment.m:
	Introduce new classes GSHelpLinkAttachment and
	GSHelpMarkerAttachment to implement help links and markers in RTF
	documents.

	* TextConverters/RTF/rtfGrammar.y:
	* TextConverters/RTF/RTFConsumerFunctions.h:
	* TextConverters/RTF/RTFConsumer.m (-addHelpLink:marker:,
	-addHelpMarker:, GSRTFNeXTHelpLink, GSRTFNeXTHelpMarker):
	Create attachments for help links and markers in RTF documents.

	* TextConverters/RTF/RTFProducer.m (-_addAttributesString:):
	Properly write out help links and markers to RTF documents.

	* TextConverters/RTF/rtfGrammar.tab.h:
	* TextConverters/RTF/rtfGrammar.tab.c: Regenerated.

	* Images/GNUmakefile:
	* Images/common_HelpLink.tiff:
	New icon for help link attachments.

	* Source/NSFileWrapper.m (-icon): Bug fix: Don't return a default
	icon for a wrapper without a file name.

2011-01-03  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* TextConverters/RTF/rtfGrammar.y:
	* TextConverters/RTF/rtfScanner.c (RTFCommands):
	Extend and modify grammar to handle \NeXTHelpLink and
	\NeXTHelpMarker commands possibly used in old RTF documents
	generated on NeXTstep/OpenStep.

2011-01-03  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* TextConverters/RTF/rtfGrammar.y:
	* TextConverters/RTF/RTFConsumerFunctions.h:
	* TextConverters/RTF/RTFConsumer.m (GSRTFerror):
	Upgrade to compile with more recent bison versions.

	* TextConverters/RTF/GNUmakefile:
	* TextConverters/RTF/GNUmakefile.postamble:
	* TextConverters/RTF/rtfGrammar.y:
	* TextConverters/RTF/rtfScanner.c:
	Correct spelling (rtfGrammer->rtfGrammar).

	* TextConverters/RTF/GNUmakefile.postamble:
	Update rationale why bison rule is (still) not enabled.

	* TextConverters/RTF/rtfGrammar.tab.h:
	* TextConverters/RTF/rtfGrammar.tab.c:
	Regenerated.

2011-01-03  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSMatrix.m (-setEnabled:): Implement method. It enables
	or disables all cells as in Cocoa.

2011-01-01  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextAttachment.m (-trackMouse:inRect:ofView:...): Call
	the deprecated OpenStep delegate methods if the delegate does not
	implement the new Mac OS X methods.

2011-01-01  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextView.m (-mouseDown:): Add missing conversion from
	character indexes to glyph indexes when computing an attachment
	cell's frame.

2011-01-01  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSLayoutManager.m (attachmentSize): Prevent potential
	null pointer dereference.

2011-01-01  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextStorage.m (-removeLayoutManager:): Avoid potential
	crash when text network is owned by a text view.

2010-12-31 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSToolbarView.m (initSystemExtensionsColors): Remove this
	function and the NSColor extensions as these no longer get
	used. The colours for NSToolbar are handled by GSTheme.

2010-12-30  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSMenuView.m (-locationForSubmenu:):
	Fix submenu placement for WindowMaker interface style (it was off
	by 1 pixel).

2010-12-30  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSMenuView.m (-trackWithEvent:):
	Make pop up menus in Macintosh menu style behave more similar to
	OS X. In particular, when the user clicks the button, the menu
	stays open until the next click.

2010-12-30  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSMenuView.m (-update):
	Don't use a title bar for menus in Macintosh interface style.

	* Source/NSMenuView.m (_executeItemAtIndex:removeSubmenu:):
	End menu tracking in Macintosh and Windows95 interface styles when
	the user clicks on a submenu item.

	* Source/NSMenu.m (-displayTransient):
	Place the top left edge of a menu at the mouse position when
	displaying a context menu in Macintosh and Windows95 interface
	styles to prevent a user from accidentally selecting the first
	menu item.

	* Source/NSMenu.m (-shiftOnScreen):
	Don't move the main menu bar in Macintosh interface style.

2010-12-30  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSToolbar.m (-runCustomizationPalette:):
	* Source/NSWindow.m (-validateUserInterfaceItem:):
	Don't show the customization palette if user customization is
	disabled.

2010-12-30 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSLayoutManager.m: Add code to handle temporary
	attributes. This code is taken from NSAttributedString and the two
	core methods are still missing.

2010-12-29 12:31-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSMenuItemCell.m: Implement drawing a line in the menu
	separator item for the Windows95 and Mac modes.

2010-12-29  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextView.m (-_updateDragTargetLocation:operation:,
	-draggingEntered:, -draggingUpdated:, -draggingExited:,
	-prepareForDragOperation:):
	Rewrite implementation so that the target view is scrolled even
	when it does not accept the drag operation. This is useful, e.g.,
	when a subclass considers parts of the text read only and does not
	accept a drop in those regions.

2010-12-29  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* configure.ac:
	* Headers/Additions/GNUstepGUI/config.h.in:
	Add test for getmntinfo(3).

	* Source/NSWorkspace.m (-mountedLocalVolumePaths):
	Provide more portable implementation based on getmntinfo(3), which
	is available on many systems. Also a Solaris compatibility fix.

	* Source/NSWorkspace.m (-getFileSystemInfoForPath:...):
	Tentative implementation for system with a statfs system call.

	* configure: Regenerated.

2010-12-29  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSWorkspace.m(GSWorkspacePreferencesChanged, -init,
	-findApplications, -setBestApp:inRole:forExtension:,
	-setBestIcon:forExtension:, -setBestApp:inRole:forScheme:,
	_workspacePreferencesChanged:):
	Introduce (private) workspace notification to propagate changes of
	the application or icon associated with a file type and URL
	scheme, respectively.

2010-12-29  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSDocument.m (-runModalSavePanel:withAccessoryView:):
	Make sure the file name displayed in the panel has a valid
	extension.

2010-12-27 16:51-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/GSThemeMenu.m: Changes for compiling with older compilers.
	* Source/GSWindowDecorationView.m: Move the view up a little.
	* Source/NSMenuItemCell.m: Experimental changes for drawing
	separator items.

2010-12-27 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSSearchField.m,
	* Source/NSSearchFieldCell.m: Some coding standard changes.

2010-12-27 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSDragView.m: Check whether the drag source supports
	methods before calling them.

2010-12-27  Nicola Pero  <nicola.pero@meta-innovation.com>

	* Source/NSGraphicsContext.m ([-subclassResponsibility:]): Use
	sel_getName instead of sel_get_name.

2010-12-27  Nicola Pero  <nicola.pero@meta-innovation.com>

	* Source/NSBezierPath.m ([-encodeWithCoder:], [-initWithCoder:]):
	Explicitly encode/decode NSBezierPathElement as 'int' to work
	across compiler versions.
	* Source/NSBox.m ([-encodeWithCoder:], [-initWithCoder:]): Same
	for NSBorderType and NSTitlePosition.
	* Source/NSEvent.m ([-encodeWithCoder:], [-initWithCoder:]): Same
	for NSEventType.
	* Source/NSFileWrapper.m ([-encodeWithCoder:], [-initWithCoder:]):
	Same for GSFileWrapperType.
	* Source/NSImageCell.m ([-encodeWithCoder:], [-initWithCoder:]):
	Same for NSImageAlignment, NSImageFrameStyle, NSImageScaling,
	* Source/NSParagraphStyle.m ([-initWithCoder:],
	[-encodeWithCoder:]): Same for NSTextAlignment, NSLineBreakMode
	and NSTextTabType.
	* Source/NSResponder.m ([-encodeWithCoder:], [-initWithCoder:]):
	Same for NSInterfaceStyle.
	* Source/NSScrollView.m ([-encodeWithCoder:], [-initWithCoder:]):
	Same for NSBorderType.
	* Source/NSTabView.m ([-encodeWithCoder:], [-initWithCoder:]):
	Same for NSTabViewType.
	* Source/NSTabViewItem.m ([-encodeWithCoder:], [-initWithCoder:]):
	Same for NSTabState.
	* Source/NSWindow.m ([-encodeWithCoder:], [-initWithCoder:]): Same
	for NSBackingStoreType.

2010-12-27 02:12-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/GSThemeMenu.m: Added implementation for
	updateAllWindowsWithMenu:, updateMenu:forWindow:, altered
	implementation for setMenu:forWindow:, added private method
	_setMenu: to set the current menu on the window.
	* Source/GSWindowDecorationView.m: Changes to layout
	* Source/NSMenu.m: Only call the method updateAllWindowsWithMenu:
	when NSMenuInterfaceStyle = NSWindows95InterfaceStyle.
	* Source/NSMenuView.m: Change to -update so that it does not
	render the top bar of the menu if NSMenuInterfaceStyle =
	NSWindows95InterfaceStyle.

2010-12-23 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSEvent.m (-deltaX, -deltaY, -deltaZ): Don't raise an
	exception when called on the wrong type of event.

2010-12-22 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSView.h,
	* Source/NSView.m: Add the 10.5 coordinate transformation methods.

2010-12-22 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSDragging.h,
	* Headers/AppKit/NSTableView.h,
	* Headers/Additions/GNUstepGUI/GSDragView.h,
	* Source/NSImageView.m,
	* Source/NSColorWell.m,
	* Source/NSSavePanel.m,
	* Source/NSTextView.m,
	* Source/NSToolbarItem.m,
	* Source/NSTableView.m,
	* Source/GSDragView.m: Correct the definition of NSDragOperation
	and all its usages.

2010-12-17 Doug Simons <doug.simons@testplant.com>

	* Source/NSSearchFieldCell.m:
	Set search menu 'ownedByPopup' to make it work on Windows.

2010-12-14 Riccardo Mottola

	* Source/NSWorkspace.m
	* Images/GNUmakefile
	* Images/common_MusicFolder.tiff
	Added icon for the Music folder.

2010-12-13 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSLayoutManager_internal.h,
	* Headers/Additions/GNUstepGUI/GSLayoutManager.h,
	* Source/GSLayoutManager.m (-intAttribute:forGlyphAtIndex:)
	(-setIntAttribute:value:forGlyphAtIndex:): Implement glyph
	attribute handling.

2010-12-13 Jonathan Gillaspie <jonathan.gillaspie@testplant.com>

	* Source/NSMenuView.m:
	Prevent trying to retrieve a menuCell that is out of range.

2010-12-09  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSMatrix.m (-setState:atRow:column:): Fix bug where the
	old selected cell wasn't properly deselected when the matrix's
	mode is NSRadioMatrixMode.

2010-12-09  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSLayoutManager.m (-rectArrayForGlyphRange:...): Clip the
	rectangle computed for the last line to the line fragment's used
	rectangle if the line doesn't end with a newline (or other
	invisible character). This better matches Apple's implementation.

2010-12-07  Riccardo Mottola

	* Images/common_SwitchOff.tiff
	* Images/common_SwitchOn.tiff
	Match NeXT 15x15 dimension and tweak the check alpha.

2010-12-07  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSApplication.m (-finishLaunching): Don't make an
	invisible window main window when the application has no main
	window.

2010-12-07  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSWindow.m (-sendEvent:): Allow any window that responds
	YES to -worksWhenModal to become key in a modal session.

2010-12-06  Riccardo Mottola

	* Source/NSWorkspace.m
	* Images/common_Desktop.tiff
	* Images/GNUmakefile
	Added handling of a Desktop icon (and added the icon itself).

2010-11-27  Gregory John Casamento  <greg.casamento@gmail.com>

	* Source/GSThemeDrawing.m: Added methods to draw NSTableView
	header and view.
	* Source/NSTableView.m: Added call in to drawing methods in
	GSTheme.
	* Headers/Additions/GNUstepGUI/GSTheme.h:
	Added declaration for new method.

2010-11-27  Gregory John Casamento  <greg.casamento@gmail.com>

	* Source/GSThemeDrawing.m: Added methods to draw NSTableHeaderView
	drawTableHeaderRect:inView:.
	* Source/NSTableHeaderView.m: Added call in to drawing methods in
	GSTheme.
	* Headers/Additions/GNUstepGUI/GSTheme.h:
	Added declaration for new method.

2010-11-27 Riccardo Mottola

       * Source/GSThemeDrawing.m:
       Revert color well thickness. If desired, this should go in a theme.

2010-11-27  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSDocument.m (-setPrintInfo:): Record old print info with
	the document's undo manager (if there is one) as in Cocoa.

2010-11-26  Gregory John Casamento  <greg.casamento@gmail.com>

	* Source/GSThemeDrawing.m: Added methods to draw NSTableHeaderCell view.
	* Source/NSTableHeaderCell.m: Added call in
	tableHeaderCellDrawingRectForBounds: to drawing methods in GSTheme.
	* Headers/Additions/GNUstepGUI/GSTheme.h:
	Added declaration for new method.

2010-11-26  Gregory John Casamento  <greg.casamento@gmail.com>

	* Source/GSThemeDrawing.m: Added methods to draw NSSliderCell view.
	* Source/NSSliderCell.m: Added call in drawKnobInCell:... and
	drawBarInside:.. to drawing methods in GSTheme.
	* Headers/Additions/GNUstepGUI/GSTheme.h:
	Added declaration for new method.

2010-11-26  Gregory John Casamento  <greg.casamento@gmail.com>

	* Source/GSThemeDrawing.m: Added method to draw NSScrollView view.
	* Source/NSScrollView.m: Added call in drawRect: to new drawing method
	in GSTheme.
	* Headers/Additions/GNUstepGUI/GSTheme.h:
	Added declaration for new method.

2010-11-26  Gregory John Casamento  <greg.casamento@gmail.com>

	* Source/GSThemeDrawing.m: Added method to draw NSBrowser view.
	* Source/NSMenuView.m: Added call in drawRect: to new drawing method
	in GSTheme.
	* Headers/Additions/GNUstepGUI/GSTheme.h:
	Added declaration for new method.

2010-11-26  Gregory John Casamento  <greg.casamento@gmail.com>

	* Source/GSThemeDrawing.m: Added method to draw NSBrowser view.
	* Source/NSBrowser.m: Added call in drawRect: to new drawing method
	in GSTheme.
	* Headers/Additions/GNUstepGUI/GSTheme.h:
	Added declaration for new method.

2010-11-26  Gregory John Casamento  <greg.casamento@gmail.com>

	* Source/GSThemeDrawing.m: Added method to draw NSScroller view.
	* Source/NSScroller.m: Added call in drawRect: to new drawing method
	in GSTheme.
	* Headers/Additions/GNUstepGUI/GSTheme.h:
	Added declaration for new method.

2010-11-26  Gregory John Casamento  <greg.casamento@gmail.com>

	* Source/GSThemeDrawing.m: Added method to draw tab view.
	* Source/NSTabView.m: Added call in drawRect: to new drawing method
	in GSTheme.
	* Headers/Additions/GNUstepGUI/GSTheme.h:
	Added declaration for new method.

2010-11-26  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSWindow.m (-performClose:): Do not discard close
	requests for a window in a modal session when the window has
	-worksWhenModal==YES.

2010-11-22  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextView_actions.m (-deleteBackward:): Add missing
	assignment to update the typing attributes.

2010-11-16 Doug Simons <doug.simons@testplant.com>

	* Source/GSThemeDrawing.m:
	Make border of NSColorWell smaller to more closely match Cocoa
	metrics. This makes a big difference in small color wells.

2010-11-16 Doug Simons <doug.simons@testplant.com>

	* Source/NSDrawer.m:
	Ensure drawer is visible if parent window became visible since the
	drawer was opened.

2010-11-13 Riccardo Mottola

	* Images/common_DownloadFolder.tiff
	* Images/GNUmakefile
	Added new icon

	* Source/NSWorkspace.m
	Cache folders and their assdociation with icon names in dictionaries.

2010-11-11 Riccardo Mottola

	* Images/common_ImageFolder.tif
	* Images/common_DocsFolder.tif
	* Images/GNUmakefile
	Added new icons

	* Source/NSWorkspace.m
	Handling of icons for folders of type document, image, system and
	library.

2010-11-11 Riccardo Mottola

	* Images/common_LibraryFolder.tif
	* Images/common_GSFolder.tif
	* Images/GNUmakefile
	Added new icons

2010-11-03 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSTheme.h: Add method
	doesProcessEventsForPopUpMenu to avoid compiler warnings.
	* Headers/AppKit/NSLayoutManager.h,
	* Source/NSLayoutManager.m: Change a few "unsigned int" into
	NSUInteger to avoid compiler warnings.
	* Source/NSTextView.m (firstRectForCharacterRange:): Adopt to
	these changes.

2010-11-03 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow.m (-validRequestorForSendType:returnType:):
	Don't forward this method if the delegate is a NSResponder.
	Patch by Georg Fleischmann <G.Fleischmann@vhf.de>.

2010-11-03  Quentin Mathe <quentin.mathe@gmail.com>

	* Source/NSPopUpButtonCell.m (-initWithCoder:): Fixed broken selection
	with keyed unarchiver. -selectMenuItem: was given a nil item because
	the menu was not yet unarchived.
	Removed setAutoenableItems: and -setEnabled: use to match Cocoa doc
	and IB behavior. By default, -autoenableItems is YES and is archived
	by the menu. A popup can be disabled and archived as such.

2010-11-02  Jonathan Gillaspie <jonathan.gillaspie@testplant.com>

	* Source/NSView.m: Added some basic santity checkts that the views
	are in windows when converting rectangles.

2010-10-31  Quentin Mathe <quentin.mathe@gmail.com>

	* Source/NSOpenPanel.m (-runModal): Added. NSOpenPanel overrides
	NSSavePanel version to take in account -allowedFileTypes as documented
	in Cocoa.

2010-10-30 German Arias <german@xelalug.org>

	* Documentation/GNUmakefile: Changes in some files names to
	correspond with the files provided in the Documentation directory.

2010-10-29 Doug Simons <doug.simons@testplant.com>

	* Source/GSThemeMenu.m
	* Source/NSPopUpButtonCell.m
	Added theme method to identify themes that handle event processing
	for PopUp (and PullDown) menus. Use that to prevent duplicate event
	handling in NSPopUpButtonCell. This fixes a problem with actions
	getting sent twice on Windows with the WinUXTheme.

2010-10-25 Doug Simons <doug.simons@testplant.com>

	* Source/GSToolbarCustomizationPalette.m:
	GSToolbarCustomizationView needs to retain its list of palette items.

2010-10-24 Riccardo Mottola

	* Source/NSTextView.m
	Fixed some c99-isms

2010-10-22 David Chisnall <theraven@gna.org>

	* Source/NSTextView.m
	* Source/GSToolTips.h
	* Source/GSToolTips.m

	Fixed the point argument to -view:stringForToolTip:point:userData: (should
	be relative to the tracking rectangle, was relative to the window).  Added
	support for displaying tooltips from NSToolTipAttributeName attributes in
	NSTextView.

2010-10-20 German Arias <german@xelalug.org>

	* Resources/Spanish.lproj/Localizable.strings: Added translation
	for string "Separator".

2010-10-19 Doug Simons <doug.simons@testplant.com>

	* Source/NSPasteboard.m:
	Changed lock to recursive to prevent deadlock issue (at least on
	Windows). Also added missing lock on one access to the dictionary.
	Improved +generalPasteboard to retain instance as long as possible
	(previously it would get released with each autorelease pool, which
	happened multiple times on each call to [NSMenu update] for just
	one example).

2010-10-18  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Headers/AppKit/NSWorkspace.h:
	* Source/NSWorkspace.m (urlPrefsPath, urlPreferences,
	+initialize, -openURL:, -findApplications, -infoForScheme:,
	-getBestAppInRole:forScheme:, -setBestApp:inRole:forScheme:,
	-_scheme:role:app:):
	Add methods to manage the user's preferred applications for URL
	schemes to NSWorkspace.

2010-10-17 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMenuView.m: Revert the WinUX theme specific patch Doug
	put in some time ago.

2010-10-16  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSWorkspace.m (-_iconForExtension:): Fix bug where the
	user's preferred applications were ignored because the code did
	attempt to look them up in the wrong place.

2010-10-13 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Cocoa/Cocoa.h: Add one more protection around definition
	of BOOL.

2010-10-13  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSApplication.m (-finishLaunching): Open a new document
	in a document based application when the delegate responds YES to
	applicationShouldOpenUntitledFile: but does not implement
	applicationOpenUntitledFile:.

2010-10-08  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSWindowController.m (-window): Send
	windowControllerWillLoadNib: and windowControllerDidLoadNib: to
	the owner of the nib, since this is what Apple seems to do and
	since this behavior is more useful when a non-document class uses
	a window controller.

2010-09-27  Quentin Mathe <quentin.mathe@gmail.com>

	Fixed NSOutlineView to use incremental loading as Mac OS X does.
	You can now use an outline view to browse a big tree structure e.g. a
	filesystem. Previously in such a case, NSOutlineView was attempting to
	traverse the entire directory structure on -reloadData.
	* Source/NSOutlineView.m
	(-reloadData:): Removed a redundant _loadDictionaryStartingWith:atLevel:
	call, _openItem: now does it.
	(-_loadDictionaryStartingWith:atLevel:): Modified to load the children only
	if the item is expanded.
	(_openItem:): Modified to call _loadDictionaryStartingWith:atLevel: when
	the item children are not loaded.

2010-09-25  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSFontManager.m (-orderFrontFontPanel:): Add method to
	NSApplication in a new category to make the standard font panel
	toolbar item work.

2010-09-24 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSButton.m (-keyDown:): Remove unused code found by
	static analyser.
	* Source/NSColor.m (-colorUsingColorSpace:): Add missing break
	statements.
	* Source/NSColor.m (initSystemColors): Remove unused variable.

2010-09-24 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-_viewWillMoveToWindow:): When calling
	[-releaseGState] make sure to keep the value of _allocate_gstate.

2010-09-16 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-resizeWithOldSuperviewSize): Remove unneeded
	local varibales.
	* Source/NSView.m (-bitmapImageRepForCachingDisplayInRect:):
	Create the image rep with [-initWithFocusedViewRect:], that way it
	will better map to the following -cacheDisplayInRect:... call.
	Also don't leak the image.
	* Source/NSView.m (-cacheDisplayInRect:...): Don't leak the image
	rep.
	* Source/NSView.m (-_subtreeDescriptionWithPrefix:): Don't leak
	the returned string.

2010-09-15 German Arias <german@xelalug.org>
	* Panels/Spanish.lproj/GSPrintPanel.gorm: Changed the width
	of a label.

2010-09-15  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSParagraphStyle.m:
	* Source/NSPopUpButton.m:
	* Source/NSMenuItemCell.m:
	* Source/NSFont.m: Fix more unsigned int / ints that should
	be NSUInteger/NSInteger

2010-09-15  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/GSTextStorage.m: Fix an unisgned->NSUInteger

2010-09-15 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-releaseGState): Check if the window and it's
	gstate exist before undefining the gstate.
	Patch by Georg Fleischmann <G.Fleischmann@vhf.de>.
	* Source/NSView.m (-_viewWillMoveToWindow:): Call [-releaseGState].

2010-09-13 Riccardo Mottola

	* Source/NSBitmapImageRep+JPEG.m: remove useless double statement
	* Source/tiff.m: remove unused variable and assignment

2010-09-12 German Arias <german@xelalug.org>
	* Panels/Spanish.lproj/GSFindPanel.gorm: Fixed a misspelling.
	* Source/NSFontPanel:  Changed the width of size's column to
	permit a correct internationalization (in other languages "size"
	is written with more than 4 characters).

2010-09-12 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSApplication.m (+detachDrawingThread:...): Correct the
	creation of the NSInvocation.
	* Source/NSTableView.m (-mouseDown:): Free the auto release pool
	and the create object when returning out of the method.
	* Source/NSButtonCell.m (-encodeWithCoder:): Free the temporary
	NSButtonImageSource.
	* Source/NSCachedImageRep.m (-draw): Free the temporary
	NSBitmapImageRep.
	* Source/NSComboBoxCell.m (-initWithContentRect:...): Free the
	NSScrollView, the NSTableColumn and the NSCell.
	* Source/NSComboBoxCell.m (-textDidChange:): Free the temporary string.
	* Source/NSDataLinkPanel.m (+sharedDataLinkPanel): Free the
	controller but keep the panel.
	* Source/NSImage.m (-initWithIconHandle:, -initWithBitmapHandle:):
	Restructure initialisation order.
	* Source/NSLayoutManager.m (-rulerMarkersForTextView:...): Don't
	leak the created marker.
	* Source/NSMenu.m (-copyWithZone:): Don't leak the copied menu
	items.
	* Source/GSThemeInspector.m (-update:): Release the views
	after adding them to the hierarchy.
	* Source/GSToolbarView.m (initSystemExtensionsColors): Don't leak
	the colors dictionary.
	* Source/GSToolbarCustomizationPalette.m
	(-paletteItemsWithToolbarItems:): Release the copied toolbar items.

2010-09-09  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/GSTheme.m:
	* Source/NSMenu.m:
	* Source/NSWindow.m:
	* Source/NSObjectController.m:
	* Source/NSImageView.m:
	* Source/NSResponder.m:
	* Source/NSApplication.m:
	* Source/NSComboBox.m:
	* Source/NSTextView.m:
	* Source/NSDocumentController.m:
	* Source/NSDocument.m:
	Replace sel_eq with sel_isEqual

2010-09-06 German Arias <german@xelalug.org>
	* Panels/Spanish.lproj/GSFindPanel.gorm:
	Fixed a misspelling.

2010-09-06 German Arias <german@xelalug.org>
	* Panels/Spanish.lproj/GSFindPanel.gorm:
	* Resources/Spanish.lproj/Localizable.strings:
	Added find panel in spanish.

2010-09-03  Quentin Mathe <quentin.mathe@gmail.com>

	* Headers/AppKit/NSView.h:
	* Source/NSView.m:
	* Source/NSClipView.m:
	* Source/NSScrollView.m:
	* Source/NSSplitView.m:
	Replaced _rFlags.flipped_view use with -isFlipped and deprecated
	_rFlagsType.flipped_view.
	Still needs some work to automatically invalidate coordinates when the
	flipping changes e.g. between two drawing sessions.

2010-09-02 Doug Simons <doug.simons@testplant.com>

	* Source/NSPopUpButtonCell.m:
	Fix problem with pull-down menu not allowing same item to be selected
	twice in a row. Also correct setAltersStateOfSelectedItem: to work as
	described in the Cocoa docs (states were reversed).

2010-08-30 Doug Simons <doug.simons@testplant.com>

	* Source/NSPopUpButtonCell.m:
	Fix problem of pulldown action not being called with correct cell
	selected (possibly only a problem for Mac nib files?).
	* Source/NSMenuView.m:
	Fix problem of pulldown action getting invoked twice on Windows.

2010-08-30  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTableView.m (computeNewSelection): Fix bug where the
	_selectedRow attribute could be updated incorrectly.

2010-08-29 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSLayoutManager.h,
	* Source/NSLayoutManager.m: Correction of the declarations for the methods
	to handle temporary attributes.

2010-08-29 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSGModelLoader.m: Add hack to get GModel loading working again.
	* Source/GSGormLoader.m: Remove an astray semicolon.

2010-08-27  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSOutlineView.m (-collapseItem:collapseChildren:,
	-expandItem:expandChildren:, -reloadItem:reloadChildren:,
	-_closeItem:, -_openItem:, -removeChildren:):
	Update the selected row indexes after collapsing or expanding
	an item. This fixes bug #29892.

	* Source/NSOutlineView.m (-_noteNumberOfRowsChangedBelowItem:by:):
	New helper method.

	* Source/NSOutlineView.m (-collapseItem:collapseChildren:):
	Collapse children before their parent item. Necessary to ensure
	that the selected row indexes are valid when a notification is
	posted.

2010-08-25  Eric Wasylishen  <ewasylishen@gmail.com>

	* KeyBindings/DefaultKeyBindings.dict: Uncomment some key bindings which
	are now implemented. (e.g. Shift-Home, Shift-End)

2010-08-23  Eric Wasylishen  <ewasylishen@gmail.com>

	* ColorPickers/GSWheelColorPicker.m: Rewrite to draw the HSV
	wheel in a bitmap. This gives a pretty large performance improvement.
	* Source/NSColorPanel.m: Set a sensible min and max size for the
	color panel.

2010-08-19  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSOutlineView.m (-mouseDown): If the alt modifier is
	pressed when the user expands or collapses an item expand or
	collapse all children of the item as well.

2010-08-19  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSDocument.m (-svaveToFile:saveOperation:delegate:...,
	-saveToURLofType:forSaveOperation:...): Update the document
	controller's recent document list. This means that the user will
	find her fresh documents in that list after saving them.

2010-08-16  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Headers/AppKit/NSDocument.h:
	* Source/NSDocument.m: Change result type of method
	-saveToURL:ofType:forSaveOperation:delegate:didSaveSelector:contextInfo:
	from BOOL to void. This fixes an incompatibility with Cocoa where
	this method has no result (as any other method receiving a
	callback selector).

2010-08-15  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextField.m (-selectText:): Add special case to
	preserve the current X selection when editing is started with a
	mouse click.

	* Source/NSSpellChecker.m (-awakeFromNib): Make the spell panel a
	utility window like the font and color panels.

	* Source/NSPopUpButtonCell.m (-selectItem): Fix bug caused by the
	fix for #30025, which made it impossible to programmatically
	change the selected item of some pop up buttons.

	* Source/NSComboBoxCell.m (-runLoopWithComboBoxCell:): Dismiss
	the combo box's list without changing the selection when the user
	presses Escape.

2010-08-13 Riccardo Mottola

	* Source/NSMatrix.m
	cleaned up code

2010-08-11  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSComboBox.m (-textView:doCommandBySelector:): New
	override to pop up the combo box's list when the user presses
	the down arrow key.
	* Source/NSComboBoxCell.m (_performClickWithFrame:inView:):
	Remember the cell's control view.

2010-08-10 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPopUpButtonCell.m (-setPullsDown:): Call
	synchronizeTitleAndSelectedItem to display the correct item.
	* Source/NSPopUpButtonCell.m (-setMenu:): Listen to notifications
	from the menu to call synchronizeTitleAndSelectedItem, when the
	menu items change.

2010-08-10 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSTextStorage.m: Follow Richard's changes to
	GSAttributedString in base.

2010-08-09  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSApplication.m (-arrangeInFront:): Only order
	non-miniaturized windows front.

2010-08-09  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextView.m (-draggingEntered:, -draggingUpdated): Fix
	an incorrect range check which prevented the user from copying or
	moving the current selection immediately before itself with a DnD
	operation.

2010-08-03  Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSColorPanel.m:
	* Source/NSFontPanel.m:
	Make the NSColorPanel and NSFontPanel use NSUtilityWindowMask.
	Also remove the NSMiniaturizableWindowMask from NSFontPanel.
	This makes the panels behave as they do on Mac OS.
	Feel free to revert/discuss if you disagree with this.. :-)

2010-08-03  Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSPanel.m: Override
	-initWithContentRect:styleMask:backing:defer: so that if
	NSUtilityWindowMask is part of the style mask, we can
	set the panel to be a floating panel (which is the definition
	of NSUtilityWindowMask, in addition to making the panel
	have a thin title bar.)

2010-08-03 Riccardo Mottola

	* Source/NSScrollView.m :
	added documentation for scroller hiding.

2010-08-03 17:21-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/GSTheme.m: remove forward declaration for _setArchiveByName
	from NSImage category.
	* Source/NSImage.m: Added code in _setImage:forName: to archive
	by name instead.

2010-08-02  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextView.m (-validateUserInterfaceItem:,
	-performFindPanelAction:): Implement find panel support.

	* Source/GNUmakefile:
	* Source/GSTextFinder.h:
	* Source/GSTextFinder.m:
	* Panels/GNUmakefile:
	* Panels/English.lproj/GSFindPanel.gorm:
	New text finder and associated find panel.

	* Source/NSTextView.m(currentVersion, -initWithTextView:,
	-encodeWithCoder:, -initWithCoder:): Archive the uses find panel
	attribute. This required updating the NSTextView version to 3.

2010-08-02 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSButton.m,
	* Source/NSMenu.m: Add missing #import.

2010-07-27  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSMenuView.m (-setWindowFrameForAttachingToRect:...):
	Better placement of pull down menus. If there is not enough room
	at the preferred edge display the menu at the opposite edge.

2010-07-26  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSMenuView.m (-trackWithEvent:):
	* Source/NSMenu.m (-shiftOnScreen): Correctly handle the cases
	where a menu is partially off screen on the top and the left side
	of the screen, respectively. This fixes bug #30439.

2010-07-26 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSInputManager.m: Use NSDeleteCharacter for the backspace key.

2010-07-26 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow.m (-keyDown:): Correction of last change.

2010-07-25 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSSplitView.m (-adjustSubviews):
	Call setFrame: on subviews rather than setFrameSize: followed
	by setFrameOrigin:, so that the subviews never have an inconsistent
	frame (old origin + new size).

	This was messing up cases with NSOpenGLView's inside split views,
	(e.g. usr-apps/examples/gui/MyGL)	because the NSOpenGLView,
	when notified of its size changing, was using the invalid origin.

2010-07-25 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBrowser.m,
	* Source/NSInputManager.m,
	* Source/NSMatrix.m,
	* Source/NSWindow.m: Add support for backtab character.

2010-07-22 19:35-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/GSTheme.m: Call method _setArchiveByName: with YES so that
	images loaded by a theme will not be persisted as image data, but
	rather as references.  This will avoid an issue with saving theme
	images when saving files in Gorm while a theme is loaded.
	* Source/NSImage.m: Added method _setArchiveByName:.

2010-07-15 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMenuView.m (-setWindowFrameForAttachingToRect...):
	Resize the menu view if needed. This should correct part of bug #30025.

2010-07-09  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSPopUpButtonCell.m (-setMenuView:): Override super class
	method so that the button's appearance is not inadvertently
	changed when the menu view is set.

2010-06-23  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSMenuView.m (-sizeToFit): Correctly take into account
	that the first item of a pull down menu is not visible.

	* Source/NSMenuView.m (-setHorizontal:): Ensure that the layout is
	recomputed after changing the view from vertical to horizontal and
	vice versa.

2010-06-22 Doug Simons <doug.simons@testplant.com>

	* Source/NSButton.m:
	* Source/NSMatrix.m:
	* Source/NSMenu.m:
	Further change to performKeyEquivalent: methods to take Shift key
	into account for control keys (such as Return and Tab) as well as
	function keys, and to honor keyEquivalentModifierMask for cells in
	a matrix that implement that method. Also, ignore key events with
	zero length (such as the Windows key) which was previously triggering
	actions on objects with no keyEquivalent.

2010-06-22  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSPopUpButtonCell.m (-initTextCell:pullsDown:, -initWithCoder:,
	-_currentArrowImage:, -attachPopUpWithFrame:inView:): Swap meaning
	of NSMinYEdge and NSMaxYEdge to match their use in Cocoa. Recall
	that pop up buttons use flipped geometry.

2010-06-22  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSMenuView.m (-rectOfItemAtIndex:,
	-setWindowFrameForAttachingToRect:onScreen:preferredEdge:...):
	* Source/NSPopUpButtonCell.m (-attachPopUpWithFrame:inView:):
	Don't display the first item of a pull down menu, which holds its
	title, and fix the attachment of pull down menus to their button.

	* Source/NSPopUpButtonCell.m (-title:): Implement to return the
	title of the menu.
	* Source/NSPopUpButtonCell.m (-setTitle): Fix implementation to
	actually change the title of a pull down menu.

	* Source/NSPopUpButtonCell.m (-selectItem:): Prevent exception
	when a horizontal menu does not have a selected item.

2010-06-21  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSSliderCell.m (-closestTickMarkValueToValue:,
	-rectOfTickMarkAtIndex:, -tickMarkValueAtIndex:): Fix tick mark
	related calculations to correctly take into account that the first
	and last tick marks conincide with the minimum and maximum values.

2010-06-18  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSAttributedString.m
	(-initWithData:options:documentAttributes:error:): Attempt to auto
	detect the document type if it wasn't specified by the caller.
	Currently works for RTF and HTML documents.

	* Source/NSAttributedString.m (-initWithURL:documentAttributes:,
	-initWithURL:options:documentAttributes:error:): Add base URL to
	the document importing options only if it is not nil.

2010-06-15  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSMenu.m (-performKeyEquivalent:): Fix Doug's previous
	change to ignore the shift key except when a function key is
	pressed, as documented by Apple.
	* Source/NSButton.m (-performKeyEquivalent): Fix to trigger only
	when command, alternate, and control keys match the modifier mask
	exactly, as documented by Apple.

2010-06-08 Doug Simons <doug.simons@testplant.com>

	* Source/NSMenu.m:
	Fix menu key equivalents to only trigger when the exact modifiers
	are held down. Previously, an item would activate even when additional
	modifiers were held down (e.g. typing Ctrl-Alt-x would activate a
	menu item whose key equivalent was Ctrl-x).

2010-06-07 Doug Simons <doug.simons@testplant.com>

	* Source/NSMenuItem.m:
	Implement NSUserKeyEquivalents default for providing custom key
	equivalents for menu items based on their title.

2010-06-05  Nicola Pero  <nicola.pero@meta-innovation.com>

	* Source/GSWindowDecorationView.m ([-removeSubview:]): Uncommented
	the method, fixing moving the content view from one window to
	another one.

2010-06-01  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSApplication.m (-finishLaunching): Do not attempt to
	open an	untitled document in a document based application that
	does not define an editor type.

2010-06-01  Quentin Mathe <quentin.mathe@gmail.com>

	Fixed many drawing issues (many ones being related to the flipping).
	In particular, fixed -[NSImage drawXXX] methods to work exactly as
	Cocoa and improve the drawing performance in some cases (the last two
	points only holds with Cairo backend).
	Eliminated as many flipping checks as possible.
	Warning: Untested with the winlib backend.
	* Headers/AppKit/NSGraphicsContext.h:
	* Source/NSGraphicsContext.m:
	(-supportsDrawGState, -GSdraw:toPoint:fromRect:operation:fraction:):
	Added (see also the Backend Changelog).
	* Source/NSImage.m
	(-drawInRect:fromRect:operation:fraction:): Moved the previous
	implementation to -guiDrawInRect:fromRect:operation:fraction: and
	rewritten as a switch that checks -supportsDrawState.
	(-guiDrawInRect:fromRect:operation:fraction:): New method identical to
	the old -drawInRect:fromRect:operation:fraction:.
	(-nativeDrawInRect:fromRect:operation:fraction:): Added.
	New method that leverages the backend as much possible and implement
	semantic that exactly matches Cocoa.
	(-drawRepresentation:inRect:): Removed flipping
	check.
	* Source/NSImageRep.m (-drawInPoint:, -drawInRect:): Removed the
	flipping checks.
	* Source/NSImageCell.m (-drawInteriorWithFrame:inView:): Fixed
	-drawInRect:fromRect:operation:fraction use as Apple doc suggests it
	rather than using a negative height trick which doesn't work anymore
	(at least with Cairo) and has never worked on Mac OS X.
	* Source/NSView.m (-scrollRect:by:): Ajusted to do the copy bits on
	the window gstate rather than the view gstate.
	Required now that Cairo NSCopyBits/compositeGState won't compensate the
	flipping when copyOnSelf is YES. Moreover -scrollRect:by: was broken
	previously when the view wass not flipped (at least for Cairo).
	Finally NSCopyBits() behaves in another way on Mac OS X when the view
	gstate is used instead of the window gstate. By using the window gstate,
	we can more easily change how NSCopyBits() handles the view gstate to
	match Cocoa.
	* Source/NSClipView.m (-setBoundsOrigin:): Turned off dubious code that
	should probably be removed.

2010-06-01  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSDocumentController.m (-_setupOpenPanel): Disable
	directory selection in open panels, which is useless since
	document file packages are shown as plain files in the panel.

2010-06-01  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSAlert.m: Fix NSAlert implementation so that buttons are
	assigned tags starting with NSAlertFirstButtonReturn, except if the
	panel was created with the backward compatibility method
	+alertWithMessageText:defaultButton:... Also assign appropriate
	key equivalents to buttons in panels created with the old OpenStep
	alert panel functions.

2010-06-01 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSOutlineView.h,
	* Source/NSOutlineView.m: Add -parentForItem: and
	-frameOfOutlineCellAtRow:. Use the later in -drawRow:clipRect:.
	Change methods to use NSInteger and CGFloat.

2010-05-31  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSWindow.m (-dealloc): Avoid a race with some lame window
	managers, which could lead to a crash when a window is closed and
	deallocated while a tool tip is visible.

2010-05-31  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSDocumentController.m (-_openableFileExtensions,
	-typeFromFileExtension:):
	* Source/NSDocument.m (-_runSavePanelForSaveOperation:,
	-changeSaveType:, -fileNameExtensionForType:saveOperation:):
	Implement support for document types with a wild card extension.

2010-05-31  David Wetzel <dave@turbocat.de>

	* Source/NSViewController.m
	* Headers/AppKit/NSViewController.h
	New files fixes #29822

2010-05-31  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSWindowController.m (-setDocumentEdited:, -setWindow:):
	Avoid loading the controller's nib prematurely if the document
	edited status is changed.

2010-05-30  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSFont.m (-initWithCoder:): Fixed keyed decoding to fall
	back to a standard font only if the named font was not found.

2010-05-30  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextView.m (NSTextViewUndoObject, -performUndo:,
	-shouldChangeTextInRange:replacementString:): Select text
	restored by an undo operation and set insertion point to the end
	of the changed text after a redo operation.

2010-05-30  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextView.m (-initWithFrame:, -initWithFrame:textContainer:):
	Ensure a more consistent initial setup of a new text view and its
	text container.

2010-05-30  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextView.m (-initWithCoder:, -initWithTextView:,
	-encodeWithCoder:): Fix decoding and encoding of a few text view
	flags, which did not match Cocoa.
	* Source/NSTextView.m (-initWithCoder:): Replace a completely
	bogus workaround to set up the text network of a text view loaded
	from a .nib file with a clean solution.

2010-05-30  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextContainer.m (-init:, -initWithCoder:): Use
	more reasonable initial container size.
	* Source/NSTextContainer.m (-initWithCoder:): Better decoding of
	text container flags.

2010-05-30  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSLayoutManager.m (-encodeWithCoder:, -initWithCoder:):
	Make layout manager attributes and flags persistent when using a
	keyed archiver, i.e., saving or loading a .nib file.

2010-05-29 12:00-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSSplitView.m: In mouseDown: initialize p and op to
	NSZeroPoint to prevent compiler warning.

2010-05-29 11:35-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSBitmapImageRep+PNG.m: Reverting change which removed
	check for setjmp.  This was causing a compilation error.

2010-05-29  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Headers/Additions/GNUstepGUI/GSNibLoading.h:
	* Source/NSButtonCell.m:
	* Source/NSMatrix.m:
	* Source/NSScrollView.m:
	* Source/NSTableView.m: Correct serious nib loading bug on big
	endian machines by testing GS_WORDS_BIGENDIAN instead of
	WORDS_BIGENDIAN.

2010-05-29 01:34-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/GSXibLoader.m: Took out interface definitions and moved them.
	* Headers/Additions/GNUstepGUI/GSXibLoading.h: New file
	which contains the definitions for the new classes defined in
	GSXibLoader.m.  This change will allow those classes to be used by
	applications such as Gorm.

2010-05-25 Riccardo Mottola <rmottola@users.sf.net>

	* Source/NSBitmapImageRep+PNG.m
	Skip libpng's check for setjmp. I hope we are indeed correct.

2010-05-24 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTextView.m (-_characterIndexForPoint:respectFraction:):
	Move and declare this method to keep gcc 2.95 quite.

2010-05-24 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSSimpleLayoutManager.m: Remove obsolete file.
	* Source/NSBitmapImageRep+PNG.m,
	* Source/NSBitmapImageRep+JPEG.m,
	* Source/NSColorPicker.m,
	* Source/NSMenu.m,
	* Source/NSScreen.m: Remove gcc 2.95 warnings reported by
	Riccardo Mottola <rmottola@users.sf.net>.

	* Source/externs.m
	* Source/Functions.m
	* Source/GSAnimator.m
	* Source/GSHelpManagerPanel.m
	* Source/GSEPSPrintOperation.m
	* Source/GSFusedSilica.m
	* Source/GSFusedSilicaContext.h
	* Source/GSFusedSilicaContext.m
	* Source/GSLayoutManager.m
	* Source/GSPrinting.m
	* Source/GSPrintOperation.m
	* Source/GSInfoPanel.m
	* Source/GSKeyBindingAction.h
	* Source/GSKeyBindingAction.m
	* Source/GSKeyBindingTable.h
	* Source/GSKeyBindingTable.m
	* Source/GSServicesManager.m
	* Source/NSColorList.m
	* Source/NSBox.m
	* Source/NSAttributedString.m
	* Source/NSWorkspace.m
	* Source/NSBitmapImageRep+PNG.h
	* Source/NSWindow.m
	* Source/NSClipView.m
	* Source/NSBitmapImageRep.m
	* Source/NSApplication.m
	* Source/NSCachedImageRep.m
	* Source/NSButtonImageSource.h
	* Source/NSButtonImageSource.m
	* Source/NSBitmapImageRep+GIF.h
	* Source/NSBitmapImageRep+GIF.m
	* Source/NSTabViewItem.m
	* Source/NSBitmapImageRep+JPEG.h
	* Source/NSBitmapImageRep+PNM.h
	* Source/NSBitmapImageRep+PNM.m
	* Source/NSTabView.m
	* Source/NSArrayController.m
	* Source/NSBrowserCell.m
	* Source/NSBitmapImageRep+ICNS.h
	* Source/NSBitmapImageRep+ICNS.m
	* Source/NSView.m: Replace #include -> #import

2010-05-21 Doug Simons <doug.simons@testplant.com>

	* Source/GSToolbarView.m:
	* Source/NSToolbarItem.m:
	Make toolbar resizing behavior match the Cocoa behavior for dividing
	extra space between flexible spaces and other flexible items. Ensure
	custom view items are resized properly, taking minSize into account.

2010-05-20 04:14-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Additions/GNUstepGUI/GSTheme.h: Added method
	displayPopUpMenu:... to handle the display of the popup menus for
	themes.
	* Source/GSThemeMenu.m: Added default implementation.
	* Source/NSPopUpButtonCell.m: Call the displayPopUpMenu:... method
	in the method attachPopUpWithFrame:inView:.

2010-05-19 Quentin Mathe <quentin.mathe@gmail.com>

	* Headers/AppKit/NSColorPicking.h: Removed Protocol.h import to
	eliminate potential return type conflicts, between -(unsigned int)hash
	from Object and -(NSUInteger)hash from NSObject, when the receiver is
	of type (id).

2010-05-19 Riccardo Mottola <rmottola@users.sf.net>

	* Source/GSVbox.m,
	* Source/GSHbox.m:
	Changed header include to import

2010-05-17 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSToolbarItem.m (-setView:): Only set the min/max size of
	the toolbar item when it was zero.

2010-05-17 04:36-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSApplication.m: Attempt to open files from the command
	line, if possible in -finishLaunching.  This matches the behavior
	seen on OpenStep and on Mac OS X/Cocoa.

2010-05-16 Quentin Mathe <quentin.mathe@gmail.com>

	* Source/Functions.m:
	* Source/NSApplication.m (-finishLaunching):
	Moved the main Nib file loading from -finishLaunching to
	NSApplicationMain() to match Cocoa behavior/documentation.
	This makes easier to implement a custom AppKit main that works with both
	Cocoa and GNUstep.

2010-05-15  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/GSNibLoading.m (-nibInstantiate): Fix bug where a window
	was ignoring its autosaved frame when loaded from a .nib file.

2010-05-15  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSFontManager.m (-fontMenu): Remove key equivalents that
	conflict with standard key equivalents.

2010-05-15  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSAlert.m:
	* Source/NSDrawer.m:
	* Source/NSHelpPanel.m:
	* Source/NSPrintPanel.m: Propagate the change of NSWindow's
	designated initializer to all affected subclasses.

2010-05-14  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/GSGormLoading.m (-awakeWithContext): Add support for a
	recent documents menu.

2010-05-14  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSDocumentController.m (-_openRecentDocument:): Give the
	application delegate a chance to open the document. This makes the
	recent documents menu available to non-document based applications
	as documented and implemented by Apple.

2010-05-13 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSToolbarItem.m (-_isFlexibleSpace): Simplify this method.
	* Source/GSToolbarView.m: Clean up toolbar item resizing, this now
	allows for resizable item other than flexible space. If there are
	flexible items and flexible space the items will be expanded first.

2010-05-13  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/GSNibLoading.m (-nibInstantiateWithOwner:topLeveObjects:,
	-initWithCoder:, -dealloc): Don't send -awakeFromNib to an
	NSApplication proxy (nor any other proxy) and do not record it in
	the top level array either. Identification of proxy objects is
	based on their object IDs.

2010-05-13  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/GSNibLoading.m (-nibInstantiateWithOwner:topLeveObjects:):
	Make sure all objects are instantiated before establishing any
	connections. This fixes an issue where, e.g., a generic shared
	document controller instance is created before a custom instance
	defined in the nib file.

2010-05-12 18:48-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Additions/GNUstepGUI/GSTheme.h: Added method
	rightMouseMenu:forEvent: to allow theming of transient and
	context menus.
	* Source/GSThemeMenu.m: Implementation of method
	rightMouseMenu:forEvent: to allow theming of transient and
	context menus.
	* Source/NSMenu.m: use the theming code implemented above instead
	of rendering the menu directly.

2010-05-12  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSWindow.m: Fix a rather long standing incompatibility
	and make -initWithContentRect:styleMask:backing:defer: the
	designated initializer of NSWindow.

2010-05-12  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/GSNibLoading.m (-nibInstantiateWithOwner:topLevelObjects:):
	Next attempt at getting .nib file loading right. Make sure that
	-nibInstantiate is sent to all loaded objects and also make sure
	that -awakeFromNib is sent to the nib's owner.

2010-05-12  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSDocumentController.m (-init, -maximumRecentDocumentCount,
	-noteNewRecentDocumentURL:): Make number of remembered recent
	documents configurable with a user preference and fix a bug where
	one extra document was remembered.

2010-05-12  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/GSXibLoader.m (-awakeData:withContext:): Fix bug where
	some objects from the xib file were not sent an -awakeFromNib
	message.

2010-05-12  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Headers/AppKit/NSMenu.h:
	* Source/NSMenu.m (-_initWithCoder:, -dealloc, -_name,
	-_setName:, -awakeFromNib): Add a private name attribute to menus
	to identify special purpose menus. Fixes a bug where the services,
	windows, and recent documents menu were defunct when loading the
	menu from a .nib file.

2010-05-12  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Headers/AppKit/NSDocumentController.h:
	* Source/NSDocumentFrameworkPrivate.h:
	* Source/NSDocumentController.m (-_recentDocumentsMenu,
	-_setRecentDocumentsMenu:, -_updateRecentDocumentsMenu):
	Add an attribute to NSDocumentController to maintain the recent
	documents menu. Make the methods to access that menu available to
	other classes in -gui.

2010-05-12  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/GSNibLoading.m	(-nibInstantiateWithOwner:topLevelObjects:):
	Fix bug where some objects from the nib file were not sent an
	-awakeFromNib message.

2010-05-11 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSTheme.h:
	* Source/GSThemeDrawing.m: Remove compiler warning for NSBrowser
	header cell drawing.

2010-05-10  Adam Fedor  <fedor@gnu.org>

	* Clarify unstable release documentation

2010-05-09  Adam Fedor  <fedor@gnu.org>

	* Version 0.19.0 Unstable Release

2010-05-09  Adam Fedor  <fedor@gnu.org>

	* Version 0.18.0

2010-05-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTheme.m: ([-deactivate]) unload current theme images before
	restoring previous theme images to avoid conflict with image names.
	* Source/NSImage.m: Add some comments.

2010-05-08 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow.m (-dealloc): Use DESTROY instead of RELEASE.

2010-05-07  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/GSWindowDecorationView.m (-layout): Fix a regression
	where a window's content view was improperly resized when
	toggleToolbarShown: makes its toolbar visible again.

2010-05-02 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSSavePanel.h,
	* Source/NSSavePanel.m: Add method directoryURL. Fixes bug #29735.

2010-05-02 Fred Kiefer <FredKiefer@gmx.de>

	* TextConverters/RTF/RTFProducer.m (-_stringWithRTFCharacters:):
	Remove extra space after \'xx characters accidentially introduced
	with last change.

2010-05-01 Fred Kiefer <FredKiefer@gmx.de>

	* TextConverters/RTF/RTFProducer.m
	(-_runStringForString:attributes:): Only add a delimiter when needed.
	* TextConverters/RTF/RTFProducer.m (-_stringWithRTFCharacters:):
	Only add the \uc0 flag when needed. Use \'AC as attachment character.

2010-05-01  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* TextConverters/RTF/rtfGrammer.y: Ignore the string parameter of
	a \NeXTGraphic command like OS X does. Fixes bug #29633.
	* TextConverters/RTF/rtfGrammer.tab.c: Regenerated.

2010-04-28  Adam Fedor  <fedor@gnu.org>

	* configure, configure.ac, Headers/Additions/GNUstepGUI/config.h.in,
	Source/NSSliderCell.m: Check for atan2f function (not present on
	old Solaris systems for instance).

2010-04-24 Doug Simons <doug.simons@testplant.com>

	* Source/NSOutlineView.m:
	Fix occasional exception while dragging.

2010-04-24 Doug Simons <doug.simons@testplant.com>

	* Source/NSWindow.m:
	Handle nil view passed to _checkTrackingRectangles:forEvent: (this
	prevents a crash in Windows, e.g. when clicking the toolbar overflow
	widget).

2010-04-24 Doug Simons <doug.simons@testplant.com>

	* Headers/AppKit/NSMenu.h:
	* Source/NSMenu.m:
	* Source/NSMenuItem.m:
	Rebuild in-window menus only when needed on Windows. Also fixed
	notifying a menu item's menu only when a property value actually
	changes.

2010-04-23 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSMenuItem.m: Fix for bug 29635
	(NSMenuItem -initWithCoder: should set modifier mask to 0 if
	NSKeyEquivModMask not defined)

2010-04-23  Jonathan Gillaspie <jonathan.gillaspie@testplant.com>

	* Source/NSWindowController.m: Fixed a problem where controller marks
	the window as loaded even when the nib failed to load.

2010-04-23  Jonathan Gillaspie <jonathan.gillaspie@testplant.com>

	* Headers/AppKit/NSGraphics.h: NSBeep() - Don't crash when a
	graphics context isn't available (eg - from a subthread).

2010-04-23  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSAlert.m (NSRunAlertPanel): Fix incorrect return code
	when called in a non-gui application.

2010-04-20 Doug Simons <doug.simons@testplant.com>

	* Headers/Additions/GNUstepGUI/GSWindowDecorationView.h:
	Update header to eliminate warning.

2010-04-20 Doug Simons <doug.simons@testplant.com>

	* Source/NSWindow.m:
	* Source/GSWindowDecorationView.m:
	Fix problems with in-window menus sometimes overlapping toolbars or
	toolbars overlapping window contents.

2010-04-19 Doug Simons <doug.simons@testplant.com>

	* Source/NSMatrix.m:
	Honor sendsActionOnEndEditing setting when editing ended by
	something other than return.

2010-04-18 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSBrowser.m:
	* Source/GSTheme.m:
	* Source/GSThemeDrawing.m:
	* Headers/Additions/GNUstepGUI/GSTheme.h: Factor out browser
	header drawing to GSTheme.

2010-04-18 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSScrollView.m:
	Add a new default, GSScrollViewNoInnerBorder, which can be set to
	YES so themes can disable drawing of the inner border lines in
	NSScrollView. These only look good with a NeXT style theme,
	so most non-NeXT-like themes (WinUX, etc.) will want to set
	GSScrollViewNoInnerBorder to YES.

2010-04-16 Riccardo Mottola <rmottola@users.sf.net>

	* Source/GSToolbarCustomizationPalette.m
	* Source/GSToolbarView.m
	removed c99isms

2010-04-15 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSSegmentedCell.m:
	Fix some situations in initWithCoder: where the _selected_segment
	ivar and the selected state of items in the _items array could be
	out of sync leading to weirdly behaving segmented controls
	loaded from nibs.

2010-04-14  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextField.m (-textDidEndEditing:): When editing of a
	text field ends	after pressing the Return key and no (other) view
	has become first responder make the text field itself first
	responder by selecting its text just like this is done after
	pressing Tab and Shift-Tab.

2010-04-14 Riccardo Mottola <rmottola@users.sf.net>

	* Source/NSWindow.m : removed c99-isms

2010-04-13 Doug Simons <doug.simons@testplant.com>

	* Headers/Additions/GNUstepGUI/GSToolbarView.h:
	* Source/GSToolbarView.m:
	* Source/GSToolbarCustomizationPalette.m:
	* Source/NSToolbar.m:
	* Source/NSToolbarItem.m:
	Fix numerous issues with toolbar customization, including: fix
	crash when customization palette closed; make customization palette
	a floating panel centered below toolbar; rewrote dragging code
	to work well; layout toolbar items when added to toolbar; resize
	customization palette to fit items; etc.

2010-04-13 Jonathan Gillaspie <jonathan.gillaspie@testplant.com>

	* Source/GSToolTips.m: Use a single retained window for tooltips instead of
	a newly created one each time.  This significantly reduces interaction
	with MS-Windows callbacks.

2010-04-12 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBitmapImageRep+JPEG.m
	(-_JPEGRepresentationWithProperties:errorMessage:): Use the
	correct size for the structure in memset.
	Patch by Philippe Roussel <p.o.roussel@free.fr>.

2010-04-10 Eric Wasylishen <ewasylishen@gmail.com>

	* Headers/AppKit/NSWindow.h
	* Source/NSWindow.m: Fix delivery of rightMouseDragged: and otherMouseDragged:
	messages. These weren't working because right/otherMouseDragged: would be
	called on the _lastView ivar, which was only set on mouse down.

	I replace the _lastView ivar with _lastLeftMouseDownView, _lastRightMouseDownView,
	and _lastOtherMouseDownView. Behaviour now matches OS X as far as I can tell.

2010-04-10 Fred Kiefer <FredKiefer@gmx.de>

	* Source/linking.m
	* Source/GSDisplayServer.m
	* Source/NSWorkspace.m
	* Source/NSButtonCell.m
	* Source/NSSplitView.m
	* Source/GSNibLoading.m
	* Source/NSCursor.m
	* Source/NSScroller.m
	* Source/NSOutlineView.m
	* Source/GSToolbarView.m
	* Source/GSPDFPrintOperation.m
	* Source/GSThemePanel.m
	* Source/NSImage.m
	* Source/NSTableView.m
	* Source/GSDragView.m: Remove compiler warnings detected by clang
	and reported by David Chisnall <theraven@gna.org>.

2010-04-09  David Ayers  <ayers@fsfe.org>

	* Headers/AppKit/NSSound.h: Import NSBundle.h for category declaration.

2010-04-08 Jonathan Gillaspie <jonathan.gillaspie@testplant.com>

	* Source/GSToolTips.m: Prevent Windows API callback from crashing when displaying tooltips.

2010-04-07 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Cocoa/Cocoa.h: One more forgotten header file changed
	from #include into #import.

2010-04-07 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSHbox.h
	* Headers/Additions/GNUstepGUI/GSHelpManagerPanel.h
	* Headers/Additions/GNUstepGUI/GSLayoutManager_internal.h
	* Headers/Additions/GNUstepGUI/GSTypesetter.h
	* Headers/Additions/GNUstepGUI/GSAnimator.h
	* Headers/Additions/GNUstepGUI/GSWindowDecorationView.h
	* Headers/Additions/GNUstepGUI/GSTextConverter.h
	* Headers/Additions/GNUstepGUI/GSPrintOperation.h
	* Headers/Additions/GNUstepGUI/GSServicesManager.h
	* Headers/Additions/GNUstepGUI/GSVbox.h
	* Headers/Additions/GNUstepGUI/GSHorizontalTypesetter.h
	* Headers/Additions/GNUstepGUI/GMAppKit.h
	* Headers/Additions/GNUstepGUI/GSTable.h
	* Headers/Additions/GNUstepGUI/GSMemoryPanel.h
	* Headers/Additions/GNUstepGUI/GSMethodTable.h
	* Headers/Additions/GNUstepGUI/GSDisplayServer.h
	* Headers/Additions/GNUstepGUI/GSToolbarView.h
	* Headers/Additions/GNUstepGUI/GSTheme.h
	* Headers/Additions/GNUstepGUI/GSPDFPrintOperation.h
	* Headers/Additions/GNUstepGUI/GSLayoutManager.h
	* Headers/Additions/GNUstepGUI/GSDragView.h
	* Headers/Additions/GNUstepGUI/IMLoading.h
	* Headers/Additions/GNUstepGUI/IMConnectors.h
	* Headers/Additions/GNUstepGUI/GSPasteboardServer.h
	* Headers/Additions/GNUstepGUI/GSInfoPanel.h
	* Headers/Additions/GNUstepGUI/GSTitleView.h
	* Headers/Additions/GNUstepGUI/GSTrackingRect.h
	* Headers/Additions/GNUstepGUI/GSEPSPrintOperation.h
	* Headers/Additions/GNUstepGUI/GSPrinting.h
	* Headers/Additions/GNUstepGUI/GMArchiver.h
	* Headers/Additions/GNUstepGUI/IMCustomObject.h
	* Printing/GSCUPS/GSCUPSPrinter.m
	* Model/GMArchiver.m
	* Model/GMAppKit.m
	* Source/NSAlert.m
	* Source/GSMemoryPanel.m: Final set of #include -> #import
	replacement in additional headers.

2010-04-06 Fred Kiefer <FredKiefer@gmx.de>

	* ColorPickers/GSWheelColorPicker.m,
	* Source/NSTableHeaderView.m,
	* Source/NSStringDrawing.m,
	* Source/NSWorkspace.m:	Remove some stupid compiler warnings.

2010-04-05 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSGModelLoader.m,
	* Source/GSXibLoader.m: Avoid compiler warnings from old compilers.

2010-04-05 Doug Simons <doug.simons@testplant.com>

	* Source/NSView.m: Fix the worst problems with key view
	chain. There should only be a single next key view, ever,
	although possibly multiple previous key views.

2010-04-05 Doug Simons <doug.simons@testplant.com>

	* Source/NSWindow.m: Fix crash caused by close being called
	recursively.

2010-04-05 Doug Simons <doug.simons@testplant.com>

	* Source/NSDrawer.m: Fix problem with drawer window being shown
	prematurely.

2010-04-04 German Arias <german@xelalug.org>

	* Panels/Spanish.lproj/GSPageLayout.gorm: Translations
	of some strings.

2010-03-31 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSStringDrawing.m
	* Headers/AppKit/NSWindowController.h
	* Headers/AppKit/NSTokenField.h
	* Headers/AppKit/NSWorkspace.h
	* Headers/AppKit/NSWindow.h
	* Headers/AppKit/NSTextFieldCell.h
	* Headers/AppKit/NSTextContainer.h
	* Headers/AppKit/NSToolbar.h
	* Headers/AppKit/NSTokenFieldCell.h
	* Headers/AppKit/NSToolbarItemGroup.h
	* Headers/AppKit/NSTextStorage.h
	* Headers/AppKit/NSTextView.h
	* Headers/AppKit/NSToolbarItem.h
	* Headers/AppKit/NSUserDefaultsController.h
	* Headers/AppKit/NSUserInterfaceValidation.h
	* Headers/AppKit/NSTextField.h
	* Headers/AppKit/NSView.h: Final part of #include -> #import
	replacement in official headers.

2010-03-31 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSSound.h
	* Headers/AppKit/NSTextAttachment.h
	* Headers/AppKit/NSTableHeaderCell.h
	* Headers/AppKit/NSScreen.h
	* Headers/AppKit/NSSliderCell.h
	* Headers/AppKit/NSText.h
	* Headers/AppKit/NSTableHeaderView.h
	* Headers/AppKit/NSSplitView.h
	* Headers/AppKit/NSResponder.h
	* Headers/AppKit/NSTableColumn.h
	* Headers/AppKit/NSSavePanel.h
	* Headers/AppKit/NSSearchFieldCell.h
	* Headers/AppKit/NSScroller.h
	* Headers/AppKit/NSRulerMarker.h
	* Headers/AppKit/NSSearchField.h
	* Headers/AppKit/NSTabViewItem.h
	* Headers/AppKit/NSRulerView.h
	* Headers/AppKit/NSSecureTextField.h
	* Headers/AppKit/NSSegmentedCell.h
	* Headers/AppKit/NSSlider.h
	* Headers/AppKit/NSStringDrawing.h
	* Headers/AppKit/NSScrollView.h
	* Headers/AppKit/NSSpellProtocol.h
	* Headers/AppKit/NSTabView.h
	* Headers/AppKit/NSSegmentedControl.h
	* Headers/AppKit/NSTableView.h
	* Headers/AppKit/NSSelection.h
	* Headers/AppKit/NSSpellChecker.h
	* Headers/AppKit/NSSpeechSynthesizer.h
	* Headers/Additions/GNUstepGUI/GSSoundSource.h
	* Headers/Additions/GNUstepGUI/GSSoundSink.h
	* Source/NSButtonCell.m
	* Source/NSTextFieldCell.m
	* Source/NSTableColumn.m
	* Source/GSTitleView.m
	* Source/NSOutlineView.m
	* Source/NSPageLayout.m
	* Source/NSTabViewItem.m
	* Source/NSRulerView.m
	* Source/NSMenuView.m
	* Source/NSSecureTextField.m
	* Source/GSThemeDrawing.m
	* Source/NSToolbarItem.m
	* Source/NSPrintInfo.m
	* Source/NSCell.m
	* Source/NSTableView.m
	* Source/GSDragView.m
	* Source/GSToolTips.m: Yet another set of #include -> #import
	replacement.

2010-03-31 00:02-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSTableView.m: Add nil check to make sure that the
	nil values set for certain keys don't get set since they are
	normally set by connections later in the nib loading process.
	I'm not sure why IB includes these when they're set to nil.

2010-03-30 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSNib.h: Make NSNibOwner and NSNibTopLevelObjects
	available only for version > 10.3.
	* Source/NSWindowController.m,
	* Source/NSPageLayout.m,
	* Source/GSGModelLoader.m,
	* Source/NSDataLinkPanel.m,
	* Source/NSPrintPanel.m,
	* Source/NSSpellChecker.m: Use NSNibOwner instead of
	@"NSOwner". Remove the hard coded "gorm" extension. Try to use
	higher level NIB loading methods where possible.

2010-03-30  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSWindow.m (-sendEvent:): Remove a stray semicolon, which
	made NSWindow ignore all GSAppKitWindowLeave events. This was the
	cause for, e.g., somewhat too sticky tooltips.

	* Source/GSGormLoading.m:
	* Source/GSNibLoading.m: Attempt to improve a possibly misleading
	comment about releasing top level objects of a gorm/nib file.

2010-03-28 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSPopUpButtonCell.h
	* Headers/AppKit/NSPanel.h
	* Headers/AppKit/NSOpenPanel.h
	* Headers/AppKit/NSParagraphStyle.h
	* Headers/AppKit/NSObjectController.h
	* Headers/AppKit/NSOpenGLView.h
	* Headers/AppKit/NSPrinter.h
	* Headers/AppKit/NSPrintOperation.h
	* Headers/AppKit/NSPageLayout.h
	* Headers/AppKit/NSOutlineView.h
	* Headers/AppKit/NSOpenGL.h
	* Headers/AppKit/NSPrintInfo.h
	* Headers/AppKit/NSPrintPanel.h
	* Headers/AppKit/NSPasteboard.h: Some more #include -> #import
	replacement.

2010-03-28 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSNib.h,
	* Source/externs.m: Define new string constants NSNibOwner and NSNibTopLevelObjects.
	* Source/NSBundleAdditions.m,
	* Source/NSNib.m: Use these constants.
	* Source/GSNibLoading.m,
	* Source/GSGormLoading.m,
	* Source/GSXibLoader.m: Rewrite of top level objects handling to
	fit documentations as cited by Wolfgang Lux  <wolfgang.lux@gmail.com>.

2010-03-28 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPasteboard.m (-writeObjects:): Add a return statement
	to avoid a compiler warning.

2010-03-27  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Headers/AppKit/NSResponder.h (-scrollToBeginningOfDocument:,
	-scrollToEndOfDocument:):
	* Source/NSScrollView.m (-scrollToBeginningOfDocument:,
	-scrollToEndOfDocument:):
	* Source/NSTextView_actions.m (-scrollToBeginningOfDocument:,
	-scrollToEndOfDocument:):
	Implement additional NSResponder action methods.

	* Source/NSAttributedString.m (-nextWordFromIndex:forward:):
	Move to the next end of a word rather than the beginning of the
	next word so users can quickly navigate to either end of words.

	* Source/NSTextView.m (-setSelectedRange:affinity:stillSelecting:):
	* Source/NSTextView_actions.m (-deleteForward:, -deleteBackward:,
	-deleteToEndOfLine:): Usability improvements: When setting the
	cursor to the beginning of a line, set the typing attributes to
	the attributes of the first character of that line rather than the
	preceding newline. When deleting text, set the typing attributes
	to those of the first deleted character rather than those of the
	character preceding the deleted range.

	* Source/NSTextView.m (-mouseDown:): Allow shift-clicking to
	shrink the current selection. Comes handy when you accidentally
	select a few characters too much.

	* Source/NSTextView.m (-performDragOperation:): Select pasted text
	after a DnD operation.

	* Source/NSWindowController.m (-synchronizeWindowTitleWithDocumentName):
	Show a document's represented file name also when its display name
	is equal to the last path component of the file	name, since that
	is what NSDocument uses by default for compatibility with OS X.

	* Source/NSWindowController.m (-_windowWillClose:): Extend
	lifetime of the window controller to the end of the current event
	cycle to prevent crashes due to a premature release after the
	latest nib loading changes.

2010-03-27 David Chisnall <theraven@gna.org>

	* Source/NSWindow.m
	* Source/GSNibLoading.m
	* Source/NSSavePanel.m
	* Source/NSPasteboard.m
	* Source/NSInterfaceStyle.m
	* Source/NSGraphicsContext.m
	* Source/GSToolTips.m
	* Source/NSView.m
	* Headers/AppKit/AppKitDefines.h
	* Headers/AppKit/NSWindow.h
	* Headers/AppKit/NSResponder.h
	* Headers/AppKit/NSView.h
	Removed all uses of @defs() from -gui, so it now compiles cleanly with the
	non-fragile ABI.  All ivars that must be accessed from other classes are
	now wrapped in PACKAGE_SCOPE.  With clang, this expands to @package, with
	GCC it expands to @public.

2010-03-25 Riccardo Mottola <rmottola@users.sf.net>

	* Source/GSXibLoader.m,
	* Source/NSView.m : removed c99-isms

2010-03-25 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSImageCell.h
	* Headers/AppKit/NSLevelIndicator.h
	* Headers/AppKit/NSMatrix.h
	* Headers/AppKit/NSMenu.h
	* Headers/AppKit/NSLayoutManager.h
	* Headers/AppKit/NSInputServer.h
	* Headers/AppKit/NSImageRep.h
	* Headers/AppKit/NSMovieView.h
	* Headers/AppKit/NSMovie.h
	* Headers/AppKit/NSHelpManager.h
	* Headers/AppKit/NSMenuItemCell.h
	* Headers/AppKit/NSInterfaceStyle.h
	* Headers/AppKit/NSMenuItem.h
	* Headers/AppKit/NSInputManager.h
	* Headers/AppKit/NSLevelIndicatorCell.h
	* Headers/AppKit/NSMenuView.h
	* Headers/AppKit/NSHelpPanel.h
	* Headers/AppKit/NSImage.h
	* Headers/AppKit/NSKeyValueBinding.h
	* Source/NSPopUpButtonCell.m
	* Source/GSWindowDecorationView.m
	* Source/NSPopUpButton.m
	* Source/NSHelpManager.m
	* Source/NSToolbar.m
	* Source/GSToolbarCustomizationPalette.m
	* Source/GSTitleView.m
	* Source/NSMenuView.m
	* Source/NSCell.m: Some more #include -> #import replacement.

2010-03-25 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSNibLoading.m
	(NSIBObjectData-nibInstantiateWithOwner:topLevelObjects:): Loop
	over _names instead of _objects.

2010-03-25 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSController.h
	* Headers/AppKit/NSGlyphGenerator.h
	* Headers/AppKit/NSGradient.h
	* Headers/AppKit/NSGraphicsContext.h
	* Headers/AppKit/NSPopUpButton.h
	* Headers/AppKit/NSShadow.h
	* Source/NSPopUpButtonCell.m
	* Source/NSGlyphGenerator.m
	* Source/NSPopUpButton.m
	* Source/NSMenu.m
	* Source/NSGradient.m
	* Source/GSHorizontalTypesetter.m
	* Source/NSTextView.m
	* Source/NSShadow.m
	* Source/NSPrintPanel.m
	* Source/NSSpellChecker.m
	* Source/NSDocument.m: Yet another bit of #include -> #import
	replacement. Replace includes of Foundation.h.

2010-03-24 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSColorList.h
	* Headers/AppKit/NSBox.h
	* Headers/AppKit/NSFontManager.h
	* Headers/AppKit/NSFormCell.h
	* Headers/AppKit/NSButtonCell.h
	* Headers/AppKit/NSColorPicker.h
	* Headers/AppKit/NSClipView.h
	* Headers/AppKit/NSDataLinkManager.h
	* Headers/AppKit/NSBitmapImageRep.h
	* Headers/AppKit/NSBezierPath.h
	* Headers/AppKit/NSGraphics.h
	* Headers/AppKit/NSColorWell.h
	* Headers/AppKit/NSApplication.h
	* Headers/AppKit/NSForm.h
	* Headers/AppKit/NSComboBox.h
	* Headers/AppKit/NSButton.h
	* Headers/AppKit/NSColor.h
	* Headers/AppKit/NSCachedImageRep.h
	* Headers/AppKit/NSColorSpace.h
	* Headers/AppKit/NSFontDescriptor.h
	* Headers/AppKit/NSCursor.h
	* Headers/AppKit/NSControl.h
	* Headers/AppKit/NSFont.h
	* Headers/AppKit/NSFileWrapper.h
	* Headers/AppKit/NSDragging.h
	* Headers/AppKit/NSDocumentController.h
	* Headers/AppKit/NSColorPicking.h
	* Headers/AppKit/NSDrawer.h
	* Headers/AppKit/NSCustomImageRep.h
	* Headers/AppKit/NSComboBoxCell.h
	* Headers/AppKit/NSDataLink.h
	* Headers/AppKit/NSColorPanel.h
	* Headers/AppKit/NSEPSImageRep.h
	* Headers/AppKit/NSDataLinkPanel.h
	* Headers/AppKit/NSEvent.h
	* Headers/AppKit/NSBrowserCell.h
	* Headers/AppKit/NSDocument.h
	* Headers/AppKit/NSBrowser.h
	* Headers/AppKit/NSFontPanel.h
	* Source/NSPanel.m
	* Source/NSColor.m
	* Source/NSColorSpace.m
	* Source/NSColorPanel.m: Another bit of #include -> #import replacement.

2010-03-24 Doug Simons <doug.simons@testplant.com>

	* Source/GSToolTips.m: Use NSPanel instead of NSWindow for
	the tooltip (helps resolve an occasional crash on Windows).

2010-03-24 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/AppKitExceptions.h,
	* Headers/AppKit/NSAttributedString.h,
	* Headers/AppKit/NSBezierPath.h,
	* Headers/AppKit/DPSOperators.h,
	* Headers/AppKit/NSArrayController.h,
	* Headers/AppKit/NSAnimation.h,
	* Source/NSBrowser.m,
	* Source/NSAffineTransform.m,
	* Source/GSTheme.m,
	* Source/NSBezierPath.m,
	* Source/GSThemeTools.m,
	* Source/NSGraphicsContext.m: Next bit of #include -> #import replacement.

2010-03-23 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSUserInterfaceValidation.h
	* Headers/AppKit/NSControl.h
	* Headers/AppKit/NSMenuItem.h
	* Headers/AppKit/NSCell.h
	* Headers/AppKit/NSView.h
	* Source/NSActionCell.m
	* Source/NSControl.m
	* Source/NSMenuItem.m
	* Source/NSSegmentedCell.m
	* Source/NSCell.m
	* Source/NSView.m: Change tag to NSInteger.
	Patch by Anibal Rindisbacher <anibal784@gmail.com>.

2010-03-23 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTextContainer.m (-replaceLayoutManager:): Retain the
	text storage while replacing the layout manager. See last patch.

2010-03-23 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSXibLoader.m: Try to be a bit closer to the current NIB
	loading code.
	* Source/NSTextView.m (-replaceTextContainer:): Retain the text
	storage, the last change in buildUpTextNetwork: made this more volatile.

2010-03-22 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSGormLoading.m (-awakeWithContext:): Add old NIB loading
	keys to context. Bug pointed out by Wolfgang Lux  <wolfgang.lux@gmail.com>.
	* Source/GSNibLoading.m: Retain the NSApp and fix other memory issues.

2010-03-22 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSModelLoaderFactory.h,
	* Source/GSModelLoaderFactory.m,
	* Source/GSGormLoader.m,
	* Source/GSXibLoader.m,
	* Source/GSNibLoader.m: New method dataForFile: on GSModelLoader
	and its subclasses.
	* Source/NSNib.m: Use this new method to load NIB files.
	* Source/NSBundleAdditions.m: Use NSNib for NIB loading.
	* Source/GSNibLoading.m: Correctly handle top level objects and
	clean up dealloc for most classes here.

2010-03-22 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSDocument.m (-close): Retain and autorelease self before
	removing from the document controller. This will keep the document
	valid until the window is completely closed.

2010-03-20 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSSearchFieldCell.m:
	Move subscription to NSTextDidChangeNotification from
	-editWithFrame:... to -selectWithFrame:...

	The reason for this is -editWithFrame:... is not always called
	when the field starts being edited. (This seems odd but matches
	OS X behaviour). -selectWithFrame: is always called, however.

	This fixes the bug where NSSearchField doesn't send action
	messages while the user is typing, when it is supposed to.

2010-03-20 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTextView.m (-buildUpTextNetwork:): Prevent retain cycle
	by storing reference to retained text storage in ivar.
	* gui/Source/GSNibLoader.m
	(-loadModelData:externalNameTable:withZone:): Use an auto release
	pool while loading a NIB file.
	* gui/Source/GSNibLoading.m
	(NSKeyedUnarchiver-replacementClassForClassName:): Check for class
	level replacement as well.

2010-03-20 Fred Kiefer <FredKiefer@gmx.de>

	* gui/Headers/AppKit/NSNib.h,
	* gui/Headers/AppKit/NSNibConnector.h,
	* gui/Headers/AppKit/NSNibLoading.h,
	* gui/Headers/Additions/GNUstepGUI/GSModelLoaderFactory.h,
	* gui/Headers/Additions/GNUstepGUI/GSInstantiator.h,
	* gui/Headers/Additions/GNUstepGUI/GSNibLoading.h,
	* gui/Source/GSXibLoader.m,
	* gui/Source/GSNibLoader.m,
	* gui/Source/GSNibLoading.m,
	* gui/Source/GSModelLoaderFactory.m,
	* gui/Source/NSBundleAdditions.m: Clean up includes.
	* gui/Source/NSNib.m: Add loading of NIB files via URL.

2010-03-19 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSButtonCell.m,
	* Source/NSMenuItem.m: Remove include of GSCategories.h, as this
	file no longer exists.

2010-03-18 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBitmapImageRep+JPEG.m: Put cinfo into a defined state
	before using it.
	Patch by Vincent Richomme <forumer@smartmobili.com>.

2010-03-17 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTextView.m (-readSelectionFromPasteboard:type:): Fix
	potential memory leak for colour pasting.

2010-03-16 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSSliderCell.m:
	* Headers/AppKit/NSSliderCell.h:
	Initial implementation of circular sliders.
	I need to refactor NSSliderCell drawing code out to GSTheme
	some time soon.

2010-03-16 German Arias <german@xelalug.org>

	* Resources/French.lproj/Localizable.strings: Added patch
        by Philippe Roussel.

2010-03-16 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSEvent.m: Handle type flagsChanged correctly.

2010-03-15 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSXibLoader.m: Correct the decoding of the <bytes>
	element. Use the GSNibLoaging method to set the main menu.

2010-03-15 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSCursor.m (-initWithCoder:): Retain self, when using a
	predefined cursor.
	* Source/NSClipView.m (-initWithCoder:): Undo Greg's hack to
	retain the cursor.
	* Source/NSView.m (-initWithCoder:),
	* Source/NSTextView.m (-initWithCoder:): Small improvements for
	keyed decoding.

2010-03-15 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTextView.m (-replaceTextContainer:): Retain self not
	the layout manager during container replacement.

2010-03-15 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-description): Add some useful output to the
	decription method.
	* Source/NSView.m (-initWithCoder:): Decode the NSBounds value.
	* Source/NSView.m (-beginPageInRect:atPlacement:): Avoid compiler warning.

2010-03-14 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSOpenGLView.m:
	Add an -initWithCoder: implementation which subscribes to
	the frame change notifications like -init.
	Without this addition, NSOpenGLViews loaded from nibs
	weren't resizing properly.

	Note: it should also probably set a pixel format, but I
	didn't add that because it was causing an error.

2010-03-15 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSXibLoader.m: New file with basic XIB format
	loading.
	* Source/GNUmakefile: Add new file.

2010-03-13 German Arias <german@xelalug.org>

	* Source/NSSpellChecker.m: Added missing internationalisation.
	* Resources/Spanish.lproj/Localizable.strings: Spanish translation
 	to string "Guess".

2010-03-13 German Arias <german@xelalug.org>

	* Resources/Spanish.lproj/Localizable.strings: Spanish translation
 	to title "Print Panel".

2010-03-13 German Arias <german@xelalug.org>

	* Source/NSPrintPanel.m: Set the title of the panel (Print Panel),
        because the panel show the title "window" even when gorm file have
	other title.

2010-03-13 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow.m (-_borderView),
	* Source/NSView.m (-_subtreeDescription): Add two Cocoa debug
	helper methods.

2010-03-13 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBundleAdditions.m (NSNibOutletConnector
	-establishConnection): Undo the last change to this method, as
	it should not retain the assign value.

2010-03-12  Doug Simons <doug.simons@testplant.com>

	* Source/NSTextView.m: (-readSelectionFromPasteboard:type:):
	Set insertion point _after_ pasted text, don't select it.

2010-03-12  Doug Simons <doug.simons@testplant.com>

	* Source/NSTextView.m: (-mouseDown:): Only try to drag text
	if the user starts by dragging the mouse. A simple click within
	the selection will now set the insertion point.
	* Source/NSView.m: (-setNeedsDisplayInRect:): Avoid unnecessary
	work when invalid rectangle is empty.

2010-03-11  Doug Simons <doug.simons@testplant.com>

	* Source/NSClipView.m: Call isFlipped rather than accessing
	flag directly (fixes a problem with view loaded from a nib).

2010-03-11  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSCell.m (-_drawEditorWithFrame:inView:): Fix some
	optimistic coding which expected the controlView argument to
	always be a subclass of NSControl and was causing a crash in
	AddressManager.app.

2010-03-09  Doug Simons <doug.simons@testplant.com>

	* Source/NSMenu.m: Protect changedMessagesEnabled flag against getting
	stuck off if exceptions occur during update.
	* Source/NSApplication.m: Update menu after modal session, and when
	the key or main window has changed.

2010-03-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSAlert.m: Cope gracefully with being called from an non-gui
	applications (ie where NSApp is not initialized).
	* Tools/gopen.m: Print same warning as OSX if item to open is not a
	URL and the named fiel does not exist.

2010-03-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSWorkspace.m: update NSTask header
	* Source/NSPasteboard.m: ditto
	* Source/GSTheme.m: Rewrite method replacement code to use new runtime
	API... turns out to be rather simpler than using the old API.
	Add safety measure for themes which load non-standard images.

2010-03-04 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/AppKit.h,
	* Headers/AppKit/NSAlert.h,
	* Headers/AppKit/NSActionCell.h,
	* Headers/AppKit/NSCell.h,
	* Source/NSAlert.m,
	* Source/NSAffineTransform.m,
	* Source/NSCell.m: Clean up includes.
	* Source/NSActionCell.m: Add method integerValue.

2010-02-27 23:32-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Additions/GNUstepGUI/GSTheme.h: Add category to allow
	overriding of classes used for save/open panels.
	* Source/GNUmakefile: Build new category.
	* Source/GSThemeOpenSavePanels.m: Implementation of methods
	-savePanelClass and -openPanelClass.
	* Source/NSOpenPanel.m: Modifications to use class from current
	theme.
	* Source/NSSavePanel.m: Modifications to use class from current
	theme.

2010-02-26  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Tools/GSspell.m (-createBundleAtPath:languages:,
	-removeBundleAtPath:, -synchronizeLanguages, main): Maintain a
	small bundle in the user's Services directory to automatically
	vend the supported languages besides AmericanEnglish.

2010-02-26 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSServicesManager.m: NSUpdateDynamicServices() ask workspace
	to rebuild cache of application information so the update from cache is
	actually loading the latest data.
	* Source/NSLayoutManager.m: Fix for insertion point of empty document.
	Not sure this is ever needed in normal use.

2010-02-25 22:37-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSClipView.m: Correction for crash.

2010-02-25 Riccardo Mottola <rmottola@users.sf.net>

	* Source/NSDrawer.m: removed c99-isms
	* Source/GSTitleView.m: removed c99-isms

2010-02-24 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPasteboard.m: remove obsolete code for setting up invocation.

2010-02-24 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPopUpButtonCell.m (-setObjectValue:): Synchronise the title.

2010-02-24 Riccardo Mottola <rmottola@users.sf.net>

	* Source/NSBrowser.m,
	* Source/NSMatrix.m: use controlColor for the background to match
	Cocoa behaviour.

2010-02-22  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSButtonCell.m (-setImagePosition): Never call NSCell's
	-setType: to change the cell's type, as this could eventually
	reset the button's image or title. Neither of this is desirable
	as it prevents temporarily hiding the image or title by changing
	the image position.

2010-02-22  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Tools/GSspell.m (-spellServer:findMisspelledWord...): Check
	misspelled words reported by aspell against the user dictionaries
	so that the current document's ignored words are not returned back
	to the spell checker.

2010-02-21 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSDisplayServer.h:
	Check for "#if !NO_GNUSTEP" instead of "#ifndef NO_GNUSTEP" as
	base has changed this to always being defined.

2010-02-20 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSFont.h,
	* Headers/Additions/GNUstepGUI/GSFontInfo.h,
	* Source/GSFontInfo.m,
	* Source/NSAffineTransform.m,
	* Source/externs.m,
	* Source/NSFont.m: Adopt to the fact that NSAffineTransform now
	uses a matrix of CGFloats.

2010-02-20 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSAttributedString.h,
	* Source/NSAttributedString.m,
	* Source/GSNibLoading.m,
	* Headers/AppKit/NSScroller.h,
	* Source/NSScroller.m,
	* Headers/Additions/GNUstepGUI/GSGormLoading.h,
	* Source/GSGormLoading.m,
	* Source/NSSearchField.m,
	* Headers/Additions/GNUstepGUI/GSLayoutManager.h,
	* Source/NSColor.m: Make the signatures of methods consistent
	between headers and implementation files.

2010-02-20 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSGuiPrivate.h: Include preface.h from base.
	* Source/NSImageCell.m,
	* Source/NSTableHeaderView.m,
	* Source/NSWorkspace.m,
	* Source/NSTextBlock.m,
	* Source/NSButtonCell.m,
	* Source/NSClipView.m,
	* Source/NSSplitView.m,
	* Source/NSBezierPath.m,
	* Source/NSApplication.m,
	* Source/NSMenuItemCell.m,
	* Source/NSTextContainer.m,
	* Source/NSBitmapImageRep+GIF.m,
	* Source/NSTextView.m,
	* Source/NSBitmapImageRep+JPEG.m,
	* Source/NSComboBoxCell.m,
	* Source/tiff.m,
	* Source/GSServicesManager.m,
	* Source/NSCell.m,
	* Source/NSBrowserCell.m,
	* Source/NSView.m,
	* Source/NSBitmapImageRep+ICNS.m,
	* Source/NSAnimation.m,
	* Tools/set_show_service.m,
	* Tools/make_services.m: Fix up includes to make gui compile again
	with latest base.

2010-02-20  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Tools/GSspell.m: Rewrite to support multiple languages. The
	spell server at runtime detects aspell's installed dictionaries
	and publishes each supported language.
	* Source/NSSpellChecker.m (-_popuplateDictionaryPulldown:): Sort
	dictionaries in the pop up menu.

	Note: At present, users or an administrator must manually update
	the Info.plist file of GSspell.service to really be able to use
	languages besides American English.

2010-02-20  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSSpellChecker.m (-awakeFromNib): Set
	becomesKeyOnlyIfNeeded panel attribute to YES.
	* Panels/English.lproj/GSSpellPanel.gorm:
	* Panels/Spanish.lproj/GSSpellPanel.gorm: Fix attribute settings
	for the guess list browser: There is just one column, the browser
	therefore needs no horizontal scroller, and it makes no sense to
	enable multiple selection (which in addition would prevent the
	browser from working when the spell panel is not key).

2010-02-20  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSColorPanel.m (-_initWithoutGModel):
	* Source/NSFontPanel.m (-_initWithoutGModel): Set
	becomesKeyOnlyIfNeeded panel attribute to YES.

	* ColorPickers/GSWheelColorPicker.m (-acceptsFirstMouse:,
	acceptsFirstResponder): Accept first mouse, so that the color
	wheel can be used when the Color panel is not key window.

	* Source/NSTextField.m (-needsPanelToBecomeKey):
	* Source/NSTextView.m (-needsPanelToBecomeKey): Return YES also if
	a text field or view is selectable but not editable. Primarily
	makes the combo box in the color list picker usable if the Color
	panel is not first responder. In addition, this change ensures
	that the standard key equivalents Cmd-C and Cmd-A (Copy and Select
	All) will work as expected after clicking selectable text in a
	window that is not key.

2010-02-20  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* TextConverters/RTF/RTFConsumer.h: Add encoding attribute to
	RTFConsumer.
	* TextConverters/RTF/RTFConsumer.m (initStringContext, readString,
	-init, -parseRTF:documentAttributes:class:, GSRTFmangleText):
	Convert characters to Unicode only after all hex-escapes, which
	use the document's code page, have been expanded. Fixes an issue
	where some non-ASCII characters in RTF documents created on Mac OS
	(X) got mixed up.
	* TextConverters/RTF/RTFProducer.m (-_headerString): Fix RTF
	header to use code page 1252 instead of 10000. Fixes an issue
	where some RTF readers would assume our encoding is Mac OS Roman
	and hence mix up some non-ASCII characters in our documents.

2010-02-20  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextView.m (-writeSelectionToPasteboard:types:): Add
	forgotten test to apply smart insert and delete during drag and
	drop only when selection granularity is select by word.

2010-02-18 17:21-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSWindow.m: Remove private menu - (void) _menuUpdate, since
	it was causing performance issue on windows as the menu was updating
	each time through the runloop.

2010-02-17 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSApplication.m (gnustep_backend_framework): Replace base
	extension method with standard one.
	* Source/NSCell.m (-setTitleWithMnemonic:): Replace base
	extension method with standard one.
	* Headers/AppKit/NSCell.h:
	* Source/NSCell.m (-takeIntegerValueFrom:, -setIntegerValue:)
	(-integerValue): Add OSX 10.5 methods.

2010-02-15 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTextView.m (-replaceTextContainer:): Implement this
	missing method.
	* Source/NSTextContainer.m (-setTextView:): Adjust the container
	size to the new view.
	* Source/GSHorizontalTypesetter.m (-layoutLineNewParagraph:):
	Better break condition for loop.

2010-02-15  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSSpellChecker.m (_findNext:, _ignore:, _correct:): Send
	messages down to the responder chain of the main window only, to
	avoid spell checking the Spelling panel's own text field.

	* Tools/GSspell.m (uniLength, -spellServer:findMisspelledWord...):
	Fix up the returned range when the checked string contains
	non-ASCII characters.

2010-02-15  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextView.m (-setSelectedRange:affinity:stillSelecting:):
	Update the typing attributes of a rich text view also if the
	selected range has a non-zero length. Fixes a problem where, e.g.,
	corrections from the spell panel could use wrong attributes.

2010-02-14 Quentin Mathe <quentin.mathe@gmail.com>

	* Source/GSDragView.m (-_handleDrag:slidePoint:): Fixed to create a
	GSAppKitDraggingDrop event with a valid location.

2010-02-12 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSMenu.m: Make the background color of NSMenuPanel clear
	* Source/GSThemeDrawing.m:
	in drawBackgroundForMenuView:withFrame:dirtyRect:horizontal:,
	when not using tiles, fill the background of the menu with
	the window background color.
	Now themes can draw semitransparent menus, and they work properly.

2010-02-12 19:44-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSBrowser.m: Make sure that the matrix used in the
	browser draws its cell backgrounds properly.

2010-02-12 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSMenuView.m (-isOpaque): Return NO from isOpaque,
	so -[GSThemeDrawing
	drawBackgroundForMenuView:withFrame:dirtyRect:horizontal:]
	can draw semitransparent menus if the theme author wishes.

2010-02-12 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/GSThemeDrawing.m: Make the window border color customizable

2010-02-12 Eric Wasylishen <ewasylishen@gmail.com>

	* Headers/Additions/GNUstepGUI/GSTheme.h:
	* Source/GSTheme.m:
	* Source/GSThemeDrawing.m: Allow themeing NSColorWell. The part names
	is GSColorWell

2010-02-12 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/GSThemeDrawing.m: Allow customization of window title text
	color for key/normal/main windows. New color names are:

	keyWindowFrameTextColor
	normalWindowFrameTextColor
	mainWindowFrameTextColor

2010-02-12 German Arias <german@xelalug.org>

	* Source/GSTitleView.m: Search in theme colors: GSMenuBar and
	GSMenuBarTitle (both GSThemeNormalState). If not present, set
	black and white respectively.

2010-02-12  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextView_actions.m (killBuffer, -deleteToEndOfLine:,
	-yank:): Implement the NSText kill buffer; -deleteToEndOfLine:
	saves the deleted text to the kill buffer, -yank: inserts the
	contents of the kill buffer.
	* KeyBindings/DefaultKeyBindings.dict: Enable the keybinding for
	the yank: command.

2010-02-12  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextView.m (-_characterIndexForPoint:respectFraction:):
	Fix issue where the insertion point was put at the end of the last
	but one line when the user clicks in or	below the last line with
	the mouse and the last line is empty.
	* Source/NSLayoutManager.m (-characterIndexMoving:...): Add extra
	test to allow moving downward into an empty last line. Fixes #15893.
	* Source/NSLayoutManager.m (-_insertionPointRect...:textContainer:):
	Add special case for end of text. Fixes an issue where the
	insertion point is not set correctly when the last line ends with
	an invisible character (e.g., a tab).

2010-02-12  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSAttributedString.m:
	* Source/NSDocument.m: Fix a whole bunch of potential crashers
	where the error return parameter was written to without a null
	pointer check.

2010-02-11 Eric Wasylishen <ewasylishen@gmail.com>

	* NSTableHeaderView.m:
	* GSThemeDrawing.m: Move code in NSTableHeaderView which leaves a
	1pt gap underneath table headers to GSThemeDrawing, since it only
	looks decent with a NeXT-like theme. This fixes the
	misalignment between the table corner and the table headers visible
	in the Narcissus theme.

2010-02-11  Nicola Pero  <nicola.pero@meta-innovation.com>

	* Source/GNUmakefile.postamble: Removed obsolete manual dependency
	rule.  Dependencies of object files on header files are
	automatically computed by gnustep-make, so this rule was
	superfluous.

2010-02-11  Nicola Pero  <nicola.pero@meta-innovation.com>

	* Source/GNUmakefile: Do not try including the non-existing
	GNUmakefile.local file.
	* ColorPickers/GNUmakefile: Same change.
	* Documentation/GNUmakefile: Same change.
	* Model/GNUmakefile: Same change.
	* Panels/GNUmakefile: Same change.
	* PrinterTypes/GNUmakefile: Same change.
	* Tools/GNUmakefile: Same change, plus do not try including the
	non-existing GNUmakefile.local.service file either.

	* Model/GNUmakefile.postamble (after-distclean): Do not remove the
	non-existing GNUmakefile.local file.
	* Source/GNUmakefile.postamble (after-distclean): Same change.
	* Tools/GNUmakefile.postamble (after-distclean): Do not remove the
	non-existing GNUmakefile.local and GNUmakefile.local.service
	files.

	* Documentation/GNUmakefile: Do not include aggregate.make twice.
	* KeyBindings/GNUmakefile (after-uninstall): Remove the
	$(GNUSTEP_LIBRARY)/KeyBindings directory if empty.
	* Model/GNUmakefile: Do not include library.make when GUI_LIB =
	gnu.

2010-02-11 Riccardo Mottola <rmottola@users.sf.net>

	* Source/NSWindow.m: revert accidental commit

2010-02-10 Riccardo Mottola <rmottola@users.sf.net>

	* Source/NSSavePanel.m: Do not draw Form background.
	* Source/NSMatrix.m: drawsBackground and drawsCellBackground default
	to NO, to match Cocoa behaviour (and improve theming)

2010-02-10 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSScrollView.m (-scrollWheel:): Respond to horizontal
	scrolling.

2010-01-14  Doug Simons  <doug.simons@testplant.com>

	* Source/NSDrawer.m: Make drawers work, including:
	- implement drawer sliding (by resizing, since window ordering
		can't be controlled cleanly)
	- properly handle top and bottom drawers as well as left and right
	- keep track of _latestParentFrame for efficiency, and speed up
		timer for better responsiveness
	- bring parent window to front when drawer is clicked
	- keep drawer positioned properly when window is miniaturized
		and deminiaturized

2010-01-14  Doug Simons  <doug.simons@testplant.com>

	* Source/NSView.m (-dealloc): Remove subviews AFTER
	next/previous key views have been cleaned up, in case
	any subviews were in the view chain.

2010-02-09 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTextStorage.m: Restore return of proxy to user code.
	Add comments so we know we should be doing that.
	* Headers/AppKit/NSTextStorage.h: Document the behavior of the
	-string method.

2010-02-07 Eric Wasylishen <ewasylishen@gmail.com>

	* ColorPickers/GSWheelColorPicker.m: Make the brightness slider
	for the wheel picker continuous.

2010-02-07 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/GSThemeDrawing.m
	(-drawTitleBarRect:forStyleMask:state:andTitle:):
	Draw window title bar with image tiles, if available

2010-02-07 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/GSTheme.m:
	* Source/GSThemePrivate.h:
	* Source/GSThemeDrawing.m (-drawBorderType:frame:view:):
	Draw borders using image tiles, if available.

2010-02-07 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSPopUpButtonCell.m (-selectItem:): Mark the previously
	selected item as needing display. This fixes the 'popup' indicators
	not being erased.

2010-02-07 Riccardo Mottola <rmottola@users.sf.net>

	* Source/NSToolbarItem.m (_isFlexibleSpace): use proper class check
	instead of quick and dirty size check for flexible space property.
	Otherwise items are not allowed to have differing minimum and maximum
	sizes.

2010-02-06 Quentin Mathe <quentin.mathe@gmail.com>

	Fixed table header/content random disappearance with unarchived table
	views.
	* Source/NSTableView.m (-initWithCoder:): Fixed _columnsOrigin to be
	always initialized by calling -tile with non-keyed unarchiving. Until
	now, in case no method that invokes -tile was called before the
	display, the table header view was not drawing the table header cells
	but just an empty black stroked rect, since -columnAtPoint: was
	returning invalid values. This was rarely visible since you usually
	set a data source with an outlet and -setDataSource: calls -tile.
	Also fixed a _columnOrigins memory with keyed unarchiving.
	(-initWithCoder:, -encodeWithCoder:): Added double action keyed
	archiving.
	* Source/NSScrollView.m (-initWithCoder:): Fixed to only decode the
	flags we really encode, otherwise we read random memory and the
	flags are then incorrect. This can prevent the table header/content to
	be drawn in a table view enclosed in a scroll view, and also result
	in keyed archiving exceptions complaning about some NaN rect values.

2010-02-05 16:26-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Additions/GNUstepGUI/GSWindowDecorationView.h: Added
	declarations for hasMenu/hasToolbar methods.
	* Source/GSWindowDecorationView.m: Added methods to check if a menu/
	toolbar are present.

2010-02-03 Quentin Mathe <quentin.mathe@gmail.com>

	* Source/NSWindow.m (-sendEvent:): Fixed button action which were sent
	to the button itself when the target is the first responder. We don't
	give anymore the first responder status to a button on a click.

2010-02-01 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSStepperCell.m: Correct clamping behaviour as I did to
	NSSliderCell earlier.

2010-02-01 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/GSThemeDrawing.m: Preliminary support for themeing the window
	resize bar with tiles.

2010-02-01 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/GSTheme.m:
	* Source/GSThemeDrawing.m:
	* Source/NSButtonCell.m
	* Headers/Additions/GNUstepGUI/GSTheme.h:
	Add a new theme state, GSThemeDisabledState.

2010-01-31 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/GSTheme.m:
	* Source/GSThemeDrawing.m:
	* Headers/Additions/GNUstepGUI/GSTheme.h: Use theme tiles (if available)
	to draw progress bars. New tile name: GSProgressIndicatorBarDeterminate

2010-01-31 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/GSThemeDrawing.m: Use theme tiles (if available)
	to draw segmented controls, chosen based on the segment style constant,
	and falling back to drawing buttons if the segment tiles are not
	available.

2010-01-29 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/GSTheme.m:
	* Source/GSThemeDrawing.m:
	* Headers/Additions/GNUstepGUI/GSTheme.h: Use theme tiles (if available)
	to draw menu backgrounds and items. New tile names:
	GSMenuHorizontalBackground
	GSMenuVerticalBackground
	GSMenuHorizontalItem
	GSMenuVerticalItem

2010-01-29 22:14-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Additions/GNUstepGUI/GSTheme.h: Added new method
	declaration for updateAllWindowsWithMenu:
	* Source/GSThemeMenu.m: Added default implementation of
	updateAllWindowsWithMenu:
	* Source/NSMenu.m: Added call to updateAllWindowsWithMenu: on
	current theme.

2010-01-29 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSTableHeaderCell.m:
	* Source/GSTheme.m:
	* Source/NSTableHeaderView.m:
	* Source/GSThemeDrawing.m:
	* Headers/Additions/GNUstepGUI/GSTheme.h: Use theme tiles (if available)
	to draw table headers. New tile names are GSTableHeader and
	GSTableCorner.

2010-01-29 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/GSThemeDrawing.m (-cellForScrollerKnobSlot:): If there are
	tiles available, set the button cell as bordered so the tiles are
	used in drawing the scroller slot.

2010-01-29 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/GSTheme.m:
	* Source/GSThemeDrawing.m:
	* Source/GSThemePrivate.h: Add GSStringFromBezelStyle and
	GSStringFromSegmentStyle functions which return the string name of
	the style constant for buttons and segmented controls.
	In -[GSThemeDrawing drawButton:view:style:state], use
	GSStringFromBezelStyle to try to get tiles for the specified bezel
	style, falling back to the normal NSButton tiles if the fancy tiles
	aren't present.

2010-01-28 Eric Wasylishen <ewasylishen@gmail.com>

	* Headers/AppKit/NSPanel.h: Added panel style constants
	NSNonactivatingPanelMask and NSHUDWindowMask

2010-01-28 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSSegmentedCell.m: NSSegmentItem should be enabled by default

2010-01-28 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/GSThemeDrawing.m:
	* Source/NSSegmentedCell.m:
	* Source/NSSegmentedControl.m:
	* Headers/AppKit/NSSegmentedCell.h:
	* Headers/AppKit/NSSegmentedControl.h:
	* Headers/Additions/GNUstepGUI/GSTheme.h:
	Add GSTheme method for NSSegmentedCell drawing.
	Implemented segmentStyle and setSegmentStyle: methods.

2010-01-28 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSButtonCell.m -isOpaque: Return NO if the button cell has a
	bezel style set. This is consistent with OS X, and fixes drawing
	glitches seen in the GSTest NSButton test.

2010-01-28 Eric Wasylishen <ewasylishen@gmail.com>

	* Headers/AppKit/NSButtonCell.h: Correct a typo:
	NSTexturedRoundBezelStyle should be
	NSTexturedRoundedBezelStyle

2010-01-28 Eric Wasylishen <ewasylishen@gmail.com>

	* Headers/Additions/GNUstepGUI/GSTheme.h:
	* Source/NSTableHeaderCell.m:
	* Source/GSThemeDrawing.m: Factor out table header cell drawing into
	a new GSTheme method,
	-drawTableHeaderCell:withFrame:inView:state:

2010-01-27 Eric Wasylishen <ewasylishen@gmail.com>

	* Headers/Additions/GNUstepGUI/GSTheme.h:
	* Source/NSMenuView.m:
	* Source/GSThemeDrawing.m:
	Create a new GSTheme method for drawing the background of NSMenuView,
	-drawBackgroundForMenuView:withFrame:dirtyRect:horizontal:

10-01-27 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/GSThemeDrawing.m: Undo an accidental commit of some testing
	code in r29416

2010-01-28  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSApplication.m (-_windowWillClose:, -_lastWindowClosed:):
	Send -applicationShouldTerminateAfterLastWindowClosed: to the
	delegate only after a short delay so that all observers can
	process the NSWindowWillCloseNotification. This ensures that a
	modified document associated with the closed window has been
	closed before -terminate: is called and therefore the user isn't
	asked twice whether she wants to save the unsaved changes.

2010-01-28  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/GSIconManager.m (GSGetIconFrame): Don't touch icon
	positions when the icon manager is not used, so that any icon
	placement performed by the user does not get lost when a
	miniwindow is deminiaturized.

2010-01-27  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextView.m (smartLeftChars, smartRightChars, +initialize,
	-copy:, -smartDeleteRangeForPropsoedRange:, -smartInsertAfterString...,
	-smartInsertBeforeString..., -readSelectionFromPasteboard:type:,
	-writablePasteboardTypes, -writeSelectionToPasteboard:types:,
	-performDragOperation:, -dragSelectionWithEvent:offset:slideBack:)
	* Source/NSTextView_actions.m (-deleteForward:, -deleteBackward:):
	Implement smart insert and delete and use it when cutting,
	copying, pasting, and deleting full words.

	Note: I have changed NSTextView initialization to enable smart
	insert and delete by default, since this is the default on OS X.
	(It is even documented, though in a maybe obscure place, cf. "Text
	Editing Programming Guide for Cocoa: Subclassing NSTextView".)
	However, this means that support for this feature will be somewhat
	inconsistent. Smart insert and delete is enabled for text views
	created programmatically (including the field editor), but not for
	text views loaded from existing nib files.

	* Source/NSTextView.m (-toggleSmartInsertDelete:):
	Implement missing method introduced in Mac OS X 10.5.

2010-01-27 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/GSThemeDrawing.m (-buttonBorderForCell:style:state:):
	Use the new contentRect when calculating the border for tiles

2010-01-27 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/GSThemeTools.m: Correct implementation of contentRectForRect:

2010-01-27 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/GSThemeTools.m:
	* Source/GSThemePrivate.m: Added a contentRect feature to
	GSDrawTiles. Previously, GSDrawTiles assumed that the rect the user
	would draw in was exactly the center middle rect; i.e. the
	return value of the xxStlyeFillRect: methods was the center middle
	rect scaled to fit inside the drawing rect.

	Now this can be customized in Nine Patch tiles; see the diagrams at:
	http://developer.android.com/guide/topics/graphics/2d-graphics.html#nine-patch

2010-01-27 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSColor.m: (-hash): Don't use a dynamic union, as clang
	doesn't support this.
	Patch by Niels Grewe <niels.grewe@halbordnung.de>.

2010-01-27 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSAttributedString.m (-rangeOfTextTable:atIndex:): Add
	implementation for this method, done during LindauSTEP.

2010-01-27 Quentin Mathe <quentin.mathe@gmail.com>

	* Headers/GNUstepGUI/GSTheme.h:
	* Source/GSThemeDrawing.m:
	(-titleViewClassForMenuView:): Added the possibility to customize the
	title view with this new method.
	* Source/NSMenuView.m (-update): Modified to loop uk the title view
	class through the active theme rather than just using GSTitleView.

2010-01-27 Quentin Mathe <quentin.mathe@gmail.com>

	* Source/NSApplication.m (-_postAndSendEvent:): Added.
	* Source/GSDragView
	(-_sendLocalEvent:action:position:timestamp:toWindow:): Dispatch drag
	events -[NSApp _postAndSendEvent:] to match Mac OS X behavior.

2010-01-26 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSView.m (-setHidden:): When hiding a view, we need to
	call -setNeedsDisplay:YES on the superview, rather than self

2010-01-26 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSView.m (-setHidden:): Fix un-hiding of hidden views, loaded
	from nib's, with subviews. The subview coordinates just need to be
	invalidated when the view is unhidden.

2010-01-24 03:07-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSWindow.m: Uncomment updateMenu:.. method call in
	-[NSWindow update] method.

2010-01-23 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSColorWell.m: Add a minimum distance which you need to
	drag the color from a well before it is treated as a drag.
	TODO: Unify this with the dragging threshold in other parts of
	gui and make a user default called GSDragThreshold, maybe?

2010-01-23 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/GSWindowDecorationView.m: In drawRect:, clear the window
	background before getting the theme to draw its background.
	This makes windows with semitransparent background colors work
	properly.
	NOTE: While the clear operation is very fast, we may want to only do
	it if the window background colour has an alpha value of < 1.

2010-01-23 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSMenuView.m: For horizontal menus, treat clicking in the
	8 pixels of padding to the left of the first menu item as activating
	the first menu item.
	This lets you open the application menu with a Macintosh-syle
	menu bar when the mouse is on the top-left pixel of the screen.

2010-01-23 18:41-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Additions/GNUstepGUI/GSTheme.h: Add updateMenu:forWindow:
	* Source/GSThemeMenu.m: Add default implementation of new method.
	* Source/GSWindowDecorationView.m: Add code to use value
	returned from menuHeightForWindow:.
	* Source/NSWindow.m: initWithContentRect:.. call setMenu: here so that
	the menu is added immediately when the window is created.  Also
	add code to update menus.

2010-01-20 German Arias <german@xelalug.org>

	* Resources/Spanish.lproj/Localizable.strings: Added translation
	to "Opacity".
	* ColorPickers/Spanish.lproj/StandardPicker.strings: Corrected the
	file path in the commentary.

2010-01-20 Riccardo Mottola <rmottola@users.sf.net>

	* Source/NSWindow: do not process GSAppKitWindowLeave events for
	closed windows

2010-01-19 13:49-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSMenu.m: Allow menus attached to popups to come up
	in Windows95 mode.

2010-01-19 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMenu.m (-initWithCoder:): Use YES as default value for
	AutoenablesItems.

2010-01-18 Riccardo Mottola <rmottola@users.sf.net>

	* Source/NSImage.m: _useFromFile: make extension checking case
	insensitive

2010-01-17 01:04-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSWindow.m: Temporarily revert previous change for debugging.

2010-01-16 Quentin Mathe <quentin.mathe@gmail.com>

	* Source/NSTableView.m (-_selectColumn:modifiers:): Rewrote to be
	simpler, support selection by range as Cocoa does and to remove the
	toggle selection behavior when a column is clicked twice. This toggle
	behavior was in conflict with the ability to change the sort direction
	by clicking in an already selected column header.

2010-01-16 14:55-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSWindow.m: Don't use the flags for key/main window tracking.
	These flags are getting out of sync due to different behavior on
	different backends.  Also, it's better to keep the state in one place
	instead of keeping them in sync.  I changed all of the instances of
	_f.is_key to [self isKeyWindow] and all of the instances of _f.is_main
	to [self isMainWindow] and those methods now check with NSApp to
	determine if the current window is main.   I realize this is slower
	than the previous method of using flags, but it is also more resilient
	and reliable when the backend sends extra events.  This corrects the
	issue on Windows where we were losing the main window and had two
	windows marked as "main".

2010-01-16 Quentin Mathe <quentin.mathe@gmail.com>

	Finished to implement the NSTable/OutlineView sort descriptor support.
	More changes are needed to get proper sorting support (e.g. visual
	feedback).
	* Headers/NSTableView.h:
	Added _sortDescriptors ivar.
	(-tableView:sortDescriptorsDidChange:): Declared.
	* Source/NSTableView.m
	(-_clickTableColumn:, -_didChangeSortDescriptors:): Added.
	(-_initDefaults, -dealloc): Modified to initialize/release
	_sortDescriptors ivar.
	(-initWithCoder:, -encodeWithCoder:): Modified to support archiving
	the sort descriptors.
	(-setSortSelectors:, -sortSelectors): Implemented.
	* Source/NSTableHeaderView.m (-mouseDown:): Modified to now call
	-_clickTableColumn which prepares the sort descriptors among other
	things. -_didClickTableColumn: will be called by -_clickTableColumn:.
	* Headers/NSOutlineView.h (-outlineView:sortDescriptorsDidChange:,
	-outlineView:didClickTableColumn:): Declared.
	* Source/NSOutlineView.m (-_didClickTableColumn:,
	-_didChangeSortDescriptors:): Added overriden NSTableView methods.

2010-01-15 German Arias <german@xelalug.org>

	* Source/NSImage.m: Changes to fix bug #28580.

2010-01-15 13:08-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Additions/GNUstepGUI/GSTheme.h: Added method to call
	back menuHeightForWindow:
	* Source/GSThemeMenu.m: Added default implementation of
	menuHeightForWindow:.  Default implementation returns NSMenuView
	menuBarHeight.
	* Source/GSWindowDecorationView.m: Use menuHeightForWindow: instead
	of getting it directly from the menu view.

2010-01-14  Doug Simons  <doug.simons@testplant.com>

	* Source/NSWindow.m (-_initBackendWindow): Raise an
	exception instead of crashing (at least on Windows) when we
	fail to obtain a window from the back end.

2010-01-14 07:08-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSApplication.m: For hide: perform miniaturizeAll:
	on Windows, since hiding the app causes it to be inaccessible on
	that platform.

2010-01-14 04:07-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSToolbarFrameworkPrivate.h: Correct include for new
	location of GSWidnowDecorationView.h.

2010-01-14 03:19-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/GSWindowDecorationView.h: Removed from here since I moved
	it to the GNUstepGUI headers.

2010-01-13 15:49-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Additions/GNUstepGUI/GSTheme.h: Added methods
	to support adding menus and processing commands from windows, if
	appropriate.
	* Headers/Additions/GNUstepGUI/GSWindowDecorationView.h: Added
	new methods for menu and toolbar flags.
	* Headers/AppKit/NSInterfaceStyle.h: Added new interface style.
	* Source/GNUmakefile: Added header.
	* Source/GSStandardWindowDecorationView.m: Change include
	to include header in new location.
	* Source/GSThemeMenu.m: Default theme implementation for
	Menus.
	* Source/GSWindowDecorationView.m: Add the setHasMenu:/setHasToolbar:
	flags.
	* Source/NSWindow.m: Use the theme to set the menu instead of
	setting it directly.

2010-01-11  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSDocument.m (-writeSafelyToURL:ofType:...): Ensure
	proper working of autosaving for subclasses that override
	-writeWithBackupToFile:ofType:saveOperation.

	* Source/NSProgressIndicator.m (-setDisplayedWhenStopped:): Fix
	incorrect assignment which made this method a no-op.

2010-01-11 Fred Kiefer <FredKiefer@gmx.de>

	* Resources/Italian.lproj/Localizable.strings: Regenerate this
	file and add escaping of non-ASCII characters.

2010-01-11 Quentin Mathe <quentin.mathe@gmail.com>

	* Source/NSOutlineView.m (-editColumn:row:withEvent:select:): Fixed broken
	cell editability by replicating NSTableView changes r25091.

2010-01-11 Fred Kiefer <FredKiefer@gmx.de>

	* TextConverters/RTF/RTFConsumer.m (RTFDConsumer-appendImage:):
	Flag the attributes as being changed. This prevents the next
	appended string from getting that attachment attribute.
	* TextConverters/RTF/RTFConsumer.m (GSRTFunicode): Don't append
	the attachment character.
	* Source/NSAttributedString.m (-fixAttachmentAttributeInRange:):
	Keep the local copy of string up to date.

2010-01-09  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextView.m (-performDragOperation:): Fix a bug that
	prevented changing the color of the selected text of a text view
	via drag and drop.

2010-01-08 Riccardo Mottola <rmottola@users.sf.net>

	* Source/NSScroller: init scrollerWidth to 0.0, so that GSTheme
	can properly override it.

2010-01-06 Fred Kiefer <FredKiefer@gmx.de>

	* TextConverters/RTF/RTFConsumer.m (RTFDConsumer-appendImage:):
	Set the icon of the file wrapper to the image.

2010-01-05 Fred Kiefer <FredKiefer@gmx.de>

	* TextConverters/RTF/RTFConsumer.m (-parseRTF:...class:): Try to
	determine the encoding of the RTF data.

2010-01-05 03:39-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSMenu.m: Do not show the menu at the top of the screen in
	NSWindows95InterfaceStyle mode.

2010-01-04 00:25-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/GSWindowDecorationView.[hm]: Addition of ivars to track
	if a toolbar or menu is present in the window decorations.  Modified
	code to set these to YES/NO.

2010-01-04 Riccardo Mottola <rmottola@users.sf.net>

	* Source/GSWindowDecorationView.m: When adding a toolbar take in account
	the possibly existing in-window menu.
	When removing the in-window menu take care of shifitng the toolbar view up.

2010-01-03 German Arias <german@xelalug.org>

	* Source/NSPrintPanel.m,
	* Source/NSPrintOperation.m,
	* Source/GSThemeInspector.m: Added missing internationalisation, now is
        completed (or so I hope).
	* Resources/Spanish.lproj/Localizable.strings: More strings in spanish
        (with this the translation to spanish is finished).

2010-01-03 Fred Kiefer <FredKiefer@gmx.de>

	* Resources/English.lproj/Localizable.strings: Regenerate this file.
	* Resources/German.lproj/Localizable.strings: Regnerate and add
	some translations.

2010-01-03 German Arias <german@xelalug.org>

	* Panels/Spanish.lproj/GSPageLayout.gorm/objects.gorm,
	* Panels/Spanish.lproj/GSPrintPanel.gorm/objects.gorm: Changed some strings.

2010-01-03 German Arias <german@xelalug.org>

	* Source/GSInfoPanel.m: Added missing internationalisation.
	* Source/GSThemePanel.m: Added missing internationalisation.
	* Source/NSHelpPanel.m: Added missing internationalisation.
	* Resources/Spanish.lproj/Localizable.strings: More strings in spanish.

2010-01-03 German Arias <german@xelalug.org>

	* Source/NSPrintPanel.m: Added missing internationalisation.
	* Resources/Spanish.lproj/Localizable.strings: More strings in spanish.

2010-01-03 German Arias <german@xelalug.org>

	* Source/NSPageLayout.m: Added missing internationalisation.
	* Resources/Spanish.lproj/Localizable.strings: More strings in spanish.

2010-01-03 German Arias <german@xelalug.org>

	* Source/NSFontPanel.m: Added missing internationalisation.
	* Resources/Spanish.lproj/Localizable.strings: More strings in spanish.

2010-01-03 German Arias <german@xelalug.org>

	* Resources/Spanish.lproj/Localizable.strings: More strings in spanish.

2010-01-02 German Arias <german@xelalug.org>

	* Source/NSOpenPanel.m: Reverted some previous changes, added GSGuiPrivate.h.
	* Source/NSColorPanel.m: Added GSGuiPrivate.h.
	* Source/NSDocument.m: Added missing internationalisation.
	* Resources/Spanish.lproj/Localizable.strings: More strings on spanish.

2010-01-02 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSColorPanel.m,
	* Source/NSOpenPanel.m,
	* Source/NSSavePanel.m: Add missing internationalisation.

2009-12-31 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSShadow.m, Headers/AppKit/NSShadow.h:
	Added NSShadow implementation; doesn't actually draw anything yet.

2009-12-31 German Arias <german@xelalug.org>

	* ColorPickers/Spanish.lproj/StandardPicker.strings,
	* Resources/Spanish.lproj/Localizable.strings: Fixed incorrect characters.

2009-12-31 German Arias <german@xelalug.org>

	* Resources/Spanish.lproj/Localizable.strings: Added.
	* Resources/GNUmakefile: Added Spanish language.

2009-12-30 German Arias <german@xelalug.org>

	* Panels/Spanish.lproj/GSDataLinkPanel.gorm,
	* Panels/Spanish.lproj/GSPageLayout.gorm,
	* Panels/Spanish.lproj/GSToolbarCustomizationPalette.gorm,
	* Panels/Spanish.lproj/GSPrintPanel.gorm,
	* Panels/Spanish.lproj/GSSpellPanel.gorm: Added.
	* Panels/GNUmakefile: Added Spanish language.

2009-12-30 German Arias <german@xelalug.org>

	* ColorPickers/Spanish.lproj/StandardPicker.strings: Added.

2009-12-29 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSImageView.h: Clean up.
	* Source/NSImageView.m: Clean up and addition of cut/copy/paste
	methods, based on code by Nikolaus Schaller <hns@computer.org>.

2009-12-27 Quentin Mathe <quentin.mathe@gmail.com>

	* Headers/NSTableView.h
	* Source/NSTableView.m
	(-columnIndexesInRect:): Added new Mac OS 10.5 method.

2009-12-26 Riccardo Mottola <rmottola@users.sf.net>

	* Source/NSTextView.m: Corrected multi-line string constant
	* Source/NSCell.m: Corrected c99-ism

2009-12-23  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextView.m (-dealloc, -breakUndoCoalescing,
	-shouldChangeTextInRange:replacementString:): Implement coalescing
	of undo actions for typing events.

	* Source/NSTextView.m (-selectedRange): Prevent crash when the
	receiver has no layout manager.

2009-12-23  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTableView.m (-mouseDown:): A single click into a cell
	of an unselected row can now change the cell's state even when the
	table view allows dragging.

2009-12-22 17:31-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSCell.m: Corrected documentation in GUI to reflect that
	this does nothing in the default implementation, according to spec.

2009-12-22  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSWindow.m (-validateUserInterfaceItem):
	* Source/NSWindow.m (-validateMenuItem): Generalize user interface
	validation for NSWindow.

	* Source/NSWindow.m (-undo:, -redo:): Use the first responder's
	undo manager if available. Avoids the need for overriding these
	methods in any responder class which supports undo/redo and is
	compatible with OS X.

2009-12-22  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSAlert.m (makeScrollViewWithRect):
	* Source/NSAlert.m (-sizePanelToFit): If the message text is too
	wide to fit into the panel wrap its text to the scroll view's
	width.

	* Source/NSAlert.m (-sizePanelToFit): Limit the width and height
	of an alert panel to 60% of the screen's width and height,
	respectively.

2009-12-21  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSScrollView.m (-isOpaque): Fix bug where an NSScrollView
	incorrectly claimed to be opaque while its clip view is not.

	* Source/NSOpenPanel.m (-setCanChooseDirectories): Reset the
	current selection of an open panel when directory selection is
	disabled. This prevents bogus directories being returned from the
	next modal session of the panel.

	* Source/NSSavePanel.m (-resetDefaults): Also reset the
	allowsOtherFileTypes attribute to its default when a fresh save
	panel is requested.

2009-12-21 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSIconManager.h,
	* Source/GSIconManager.m: New files. Allows to get icon placement
	from separate process.
	* Source/GNUmakefile: Add new file.
	* Source/NSWindow.m,
	* Source/NSApplication.m: Move icon handling into new file.
	Patch by German Arias <german@xelalug.org>.

2009-12-20 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSColorWell.m: Draw a black-and-white pattern behind
	transparent color swatches.

2009-12-20 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSColor.m: -[GSRGBColor isEqual:] was ignoring the alpha
	channel when testing equality.

2209-12-20 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSColorWell.m
	* Source/GSThemeDrawing.m
	* Source/NSColorPanel.m
	* Headers/AppKit/NSColorWell.h:
	Finish NSColorWell interaction tweaks:
	- activation of the now happens on mouseUp, not mouseDown
	- non-bordered NSColorWells can't be activated by clicking
	- non-bordered NSColorWells start a drag operation upon mouseDown
	- disabled NSColorWells don't accept colours being dropped on them
	- dropping a colour on the well inside the NSColorPanel now
	  also updates the active NSColorWell
	Also moved the static variable for keeping track of where the mouseDown
	occurred to an instance variable.

2009-12-21 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableColumn.m (-initWithCoder:, -encodeWithCoder:): Add
	the keyed encoding/decoding code for Quentin's extensions.

2009-12-20 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSSliderCell.m: Some more changes to NSSliderCell to get
	BezierPathLab working, and a test suite in
	tests/testsuite/gui/NSSliderCell. Set the doubleValue to 0 in -init,
	unarchive the @"NSValue" key and set the floatValue to it when
	unarchiving, adjust setObjectValue: so that when minValue > maxValue,
	the slider cell takes its value to be minValue.
	Also override setContinuous: and isContinuous to use
	NSLeftMouseDraggedMask rather than NSPeriodicMask, which makes
	the continuous setting of sliders in Nibs work properly in GNUstep.

2009-11-24 David Chisnall <theraven@gna.org>

	* Source/NSApplication.m: Replaced two superfluous NSInvocation
	construction occurrences with direct calls to the IMP in question.

2009-12-19 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSBezierPath.m: Change default flatness to 0.6 matching OS X

2009-12-19 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSCell.m (-setStringValue:): Remove optimisation for
	simple string case. Now -setObjectValue: is called in most cases.
	* Source/NSButtonCell.m (-attributedTitle, -setAttributedTitle:,
	-title, -setTitle:): Replace calls to super implementation with a
	simple local implementation.
	* Source/NSSliderCell.m: Remove most of the value setter methods,
	as they just duplicated super class behaviour.
	Move the setContinues: call into the init method.

2009-12-19 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSTextTable.h,
	* Source/NSTextTable.m,
	* Source/NSTextBlock.m,
	* Source/NSTextTableBlock.m: First attempt at implementing these classes.
	Code mostly by Nikolaus Schaller <hns@computer.org>.

2009-12-11 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSSliderCell.m:
	Rework the handling of maxValue and minValue. The cell's value is now
	clamped to the permisible range when it is set, rather than in
	floatValue, matching OS X behaviour. setMinValue: and setMaxValue:
	also clamp the current value.
	Also make NSSliderCell continuous by default when unarchived (matches
	OS X).

2009-12-17 Quentin Mathe <quentin.mathe@gmail.com>

	* Source/NSTableView.m (-setDropRow:dropOperation:, -draggingUpdated):
	Corrected to support a drop on root with -1 as the drop row as explained
	in Cocoa documentation.

2009-12-17  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/GSThemeDrawing.m (-drawProgressIndicator:withBounds:...):
	Prevent division by zero exception if no images are available for
	a spinning or indeterminate progress indicator.

	* Source/NSProgressIndicator.m (-setIndeterminate): Ensure that a
	running animation is stopped when an indeterminate indicator is
	changed into a determinate one.

2009-12-17  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSComboBoxCell.m (-drawInteriorWithFrame:inView:): Fix
	bug where the field editor of an edited combo box cell overlaps
	the cell's ellipsis button.

	* Source/NSComboBoxCell.m (-endEditing): Make sure the pop up
	window is closed when editing ends.

	* Source/NSComboBoxCell.m (-validateSelection): Remove obsolete
	workaround code.

2009-12-17  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSCell.m (-wraps, -setWraps:, -setLineBreakMode:,
	-initWithCoder:): Phase out the wraps cell attribute since it is
	implied by the lineBreakMode attribute. Note that with this change
	cells now wrap by default, as has always been the case on OS X.

	* Source/NSBrowserCell.m (-initTextCell:, -initImageCell:):
	* Source/NSTableColumn.m (-initWithIdentifier): Set default line
	break mode to NSLineBreakByTruncatingTail as on OS X.

	* Source/NSCell.m (-setUpFieldEditorAttributes:): Set the typing
	attributes of the field editor so that it uses the same paragraph
	style and in particular the same line break mode as the edited
	cell. This fixes an inconsistency where wrapped text would be
	displayed in a single line during editing.

2009-12-17  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSCell.m (-_setupTextWithFrame:inView:editor:delegate:range):
	* Source/NSCell.m (-endEditing:):
	Properly set up the field editor and its text container to handle
	cells whose text is wrapped, cells which truncate their text, and
	cells with scrollable contents, respectively, and prepare the
	field editor and its enclosing clip view to be resizable. Use a
	clip view only when necessary.
	* Source/NSCell.m (-_drawEditorWithFrame:inView:): Auxiliary
	method to update the frame of a cell's editor when the cell has
	been resized or moved.
	* Source/NSCell.m (-_setInEditing:): Helper method that allows
	control views to flag their edited cell.

	* Source/NSCell.m (-drawInteriorWithFrame:inView):
	* Source/NSTextFieldCell.m (-drawInteriorWithFrame:inView): Do not
	draw the interior of an edited cell.

	* Source/NSTableView.m (-moveColumn:toColumn:): Update the column
	index of the edited cell if necessary.

	* Source/NSControl.m (-drawRect:):
	* Source/NSTableView.m (-drawRow:clipRect:):
	* Source/NSOutlineView.m (-drawRow:clipRect): Remove obsolete
	workarounds to prevent an edited cell from being drawn twice.

	The preceding changes also should fix #22678.

2009-12-16  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextFieldCell.m (-drawInteriorWithFrame:inView:):
	Override method and use drawInRect: to draw the string of the
	text field so that long text can be wrapped.

2009-12-16  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSOpenPanel.m (-_selectTextInColumn:, _selectCellName:,
	-controlTextDidChange:): Do a better job on validating the OK
	button. This makes it possible again to use the open panel for
	choosing directories. Also replaces the previous fix for bug
	#25471, which did not really work.

	* Source/NSBrowser.m (-doClick:): Fix NSBrowser so that branch
	cells are really deselected when multiple selection is enabled and
	allowsBranchSelection is set to NO. Also replace the workaround
	for bug #18881 by a better fix.

2009-12-15  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSSavePanel.m (-ok:): Avoid the bogus warning that was
	shown when the panel requires a file type extension and the user
	has entered a file name without an extension.

	* Source/NSSavePanel.m (-filename): Do not replace an existing
	file type extension if allowsOtherFileTypes is set.

	* Source/NSSavePanel.m (-runModalForDirectory:file,
	-runModalForDirectory:file:relativeToWindow:,
	-beginSheetForDirectory:file:modalForWindow:modalDelegate:...):
	Initially enable the panel's OK button if a file name is provided
	to the modal session.

2009-12-15 Riccardo Mottola <rmottola@users.sf.net>

	* Source/NSOutlineView.m: removed c99-isms

2009-12-11 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/GSThemeTools.m: Correct the destination rect coordinates in
	scaleFillRect:, and the image slicing in initWithNinePatchImage:

2009-12-12 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSBitmapImageRep.m:
	* Source/GSThemeTools.m:
	Change the colorAtX:y: and related methods in NSBitmapImageRep
	to use flipped coordinates, matching OS X. colorAtX:0 y:0 now
	returns the top-left pixel instead of the bottom left.

2009-12-12 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSApplication (-setWindowsMenu:): Only add windows that
	are either visible or miniaturized.

2009-12-11 13:09-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibLoader.m: Added logging to help debugging of issues
	with nib loading.
	* Source/NSTextContainer.m: -[NSTextContainer initWithCoder:]
	removed call to unarchive the textview to prevent a leak.  Also
	don't set the textview as the text container.   Currently we
	just get the contents of the text container and rebuild it
	in NSTextView.m.

2009-12-10 Quentin Mathe <quentin.mathe@gmail.com>

	* Headers/AppKit/NSKeyValueBinding.h:
	* Source/externs.m:
	* Source/NSWindow.m (+initialize, -bind:toObject:withKeyPath:options:):
	Added NSWindow 'title' binding.

2009-12-08 Quentin Mathe <quentin.mathe@gmail.com>

	* Source/NSTableColumn.m (-dealloc): Fixed missing release for
	_sortDescriptorPrototype ivar.

2009-12-08 Quentin Mathe <quentin.mathe@gmail.com>

	* Headers/NSTableColumn.h:
	* Source/NSTableColumn.m:
	Added all new table column methods and constants up to Mac OS X 10.6.
	These new additions remain to be fully implemented and the archiving code
	to be updated.

2009-12-08 Hans Baier <hansfbaier@googlemail.com>

	* Source/NSColorWell.m (-mouseDragged:, -mouseDown:): Applied
	patch from Eric Wasylishen to activate it on click inside the
	colored rectangle (same behavior as in OS X)

2009-12-06 Quentin Mathe <quentin.mathe@gmail.com>

	* Source/NSOutlineView.m (-draggingUpdated:):
	Fixed drop above as a child in the previous row (when this row is an
	empty parent).
	(-drawDropAboveIndicatorWithDropItem:atRow:childDropIndex:): Fixed the
	drop above indicator drawing when the level doesn't match the previous
	row. Done by including an extra row parameter which makes possible to
	remove the row computation code that appears to partially duplicate
	-parentRowForRow:atLevel:andReturnChildIndex:.

2009-12-05 Quentin Mathe <quentin.mathe@gmail.com>

	* Source/NSTableView.m (-_startDragOperationWithEvent:): Modified to call
	-canDragRowsWithIndexes:atPoint: as expected.

2009-12-05 Quentin Mathe <quentin.mathe@gmail.com>

	* Source/NSOutlineView.m (-draggingUpdated): Further simplified.
	Wrote detailed code documentation since the overall behavior is pretty
	complex.
	Fixed to compute the vertical and horizontal positions correctly when
	the view is scrolled.
	Fixed out of bounds exception when the pointer moves into the empty
	area below the rows (was trying to auto-expand the root item).
	Implemented drop on root indicator in addition to drop on row and drop
	drop above (works the same as Mac OS X).
	(-isExpandable:): Modified to always return NO when the item is nil (as
	Mac OS X does).
	(-drawDropAboveIndicatorWithDropItem:childDropIndex:,
	-drawDropOnRootIndicator, -drawDropOnWithDropItem:,
	-parentRowForRow:atLevel:andReturnChildIndex:): New methods extracted
	from -draggingUpdated.

2009-11-30 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSOutlineView.m: Improve DnD allowing drop on items as well
	as inside them. Attempt to mimix OSX behavior.  Simplify code.
	Use triangular images similar to OSX appearance.
	Doubtless needs more polishing.

2009-11-29  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSView.m (-dealloc): Fix bug where -dealloc could break
	the key view chain.

	* Source/NSSavePanel.m (-ok:): Present a warning when the user has
	entered a filename with a wrong extension.

2009-11-29 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSOutlineView.m: Improve display of insertion point for DnD
	Add auto-expand/collapse while dragging over expandable items.

2009-11-28 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSNibLoading.m: Fix/improve handling of main menu to be
	more intelligent about moving the 'quit' item and 'info' submenu.

2009-11-27 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSSplitView.m: Correct the storing of the splitter locations
	in the defaults system (the autosave mechanism) ... was using NSNumber
	keys which was causing this to fail.

2009-11-26 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTableView.m: ([-noteNumberOfRowsChanged]) fixed to redraw
	the rectangle in the superview if the receiver shrinks.

2009-11-25  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSCell.m (-_updateFieldEditor:): Don't write back
	unchanged strings to the field editor. Should prevent the editor's
	selection from changing when -validateEditing is called.

	* Source/NSCell.m (-setAttributedStringValue:): Consider the
	attributed string a valid object if the cell has no formatter.

	* Source/NSTextField.m (-textDidEndEditing:): Fix bug in
	textDidEndEditing:.
	Patch by Doug Simons <doug.simons@testplant.com>.

2009-11-20 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTheme.m:
	* Headers/Additions/GNUstepGUI/GSTheme.h:
	Added support for overriding methods in any class by implementing
	a corresponding method in your GSTheme subclass.

2009-11-19 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTheme.m:
	* Source/NSMenuItemCell.m:
	* Source/GSThemeDrawing.m:
	* Source/NSScrollView.m:
	* Headers/Additions/GNUstepGUI/GSTheme.h:
	Separate cache control from normal fetching of tiles and colors.

2009-11-19 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepGUI/GSTheme.h:
	Improve documentation of -activate and -deactivate

2009-11-16 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSMenuItemCell.m:
	* Source/GSThemeDrawing.m:
	* Headers/Additions/GNUstepGUI/GSTheme.h:
	Removed duplicate theming methods...
	The ([-arrowImageForMenuItemCell]) method seems to have duplicated the
	([-imageNamed:]) method (for the @"NSMenuItem" image) and the
	([-backgroundColorForMenuItemCell:state:]) method seemed to have
	duplicated the ([colorNamed:state:cache]) method.
	We must not introduce extra APIs for getting images and colors or
	things will get unmaintainable.

2009-11-16 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSSlider.m: Clean up.
	* Source/NSSliderCell.m: Remove isFlipped method, correct
	copyWithZone:, clean up.

2009-11-16 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSCell.m (-setObjectValue:, -setStringValue:): Handle a
	value of nil identically in both cases.
	* Source/NSActionCell.m (-setObjectValue:, -setStringValue:):
	Only mark the cell for redraw when there is no editor.

2009-11-16 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTextView.m (-validateUserIntefaceItem:): Move this
	method over from NSTextView_actions.m as the compiler is expecting
	it here. Add a few more actions.

2009-11-15 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTextView.m (-validateUserIntefaceItem:): Remove the
	dummy implementation of this method as there is now a proper one
	in NSTextView_actions.m.

2009-11-15 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSButtonCell.m: Change default value for
	keyEquivalentModifierMask to 0. Add keyed decoding and encoding of
	keyEquivalentModifierMask.
	* Source/NSSearchFieldCell.m,
	* Source/NSSpellChecker.m: Add explicit keyEquivalentModifierMask setting.

	* Source/NSInputManager.m: Add handling of escape character to
	call cancelOperation:
	* Source/NSTextField.m: Fix textDidEndEditing: to send action
	when sendsActionOnEndEditing is set.
	Patch by Douglas Simons <doug.simons@testplant.com>.

2009-11-14  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSWindow.m (-sendEvent:): Always shift keyboard focus to
	the next and previous key view, respectively, upon receiving
	Ctrl-Tab and Ctrl-Shift-Tab keyboard events.

	* Source/NSTextView_actions.m (-validateMenuItem:,
	-validateUserIntefaceItem:): Implement menu and user interface
	item validation for NSTextView. The list of validated actions is
	incomplete but at least includes all items from a standard Edit
	menu.

	* Source/NSCell.m(-_setupTextWithFrame:inView:editor:delegate:range:,
	-_updateFieldEditor):
	* Source/NSActionCell.m (-setObjectValue:, -setStringValue:):
	Fix NSActionCell implementation so that -setObjectValue: and
	-setStringValue: have an effect while the cell is edited.

2009-11-14 Hans Baier <hansfbaier@googlemail.com>

	* Source/GSThemeDrawing.m: fix bug introduced in last commit
	(progress bar fills the whole area)

2009-11-14 Hans Baier <hansfbaier@googlemail.com>

	* Headers/Additions/GNUstepGUI/GSTheme.h,
	* Source/GSThemeDrawing.m: Factor out drawing of progress
	indicator's bezel and bar

2009-11-14 Hans Baier <hansfbaier@googlemail.com>

	* Headers/Additions/GNUstepGUI/GSTheme.h,
	* Source/GSThemeDrawing.m,
	* Source/NSMenuItemCell.m: Make the menu arrow image themeable

2009-11-12 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSImage.m (-copyWithZone:): Set the name of the copy to
	nil, not that of the original image.

2009-11-12 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSImage.m: fixup copy/dealloc handling of named images

2009-11-12 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow.m: Implement isZommed. Move the call to
	windowWillResize:toSize: from setFrame:display into setFrameFromString:.

2009-11-09 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSTheme.h,
	* Source/GSThemeDrawing.m,
	* Source/NSProgressIndicator.m: Move initialiation and drawing
	into GSTheme.

2009-11-09 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSTheme.h,
	* Source/GSThemeDrawing.m,
	* Source/NSColorWell.m: Move colour well border drawing into GSTheme.
	This change makes the dragable area of the well a bit smaller.

2009-11-09 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSTheme.h,
	* Source/GSThemeDrawing.m,
	* Source/NSTableView.m: Move corner view drawing into GSTheme.
	* Source/NSTextFieldCell.m: White space changes.
	* Headers/AppKit/NSTableHeaderCell.h,
	* Source/NSTableHeaderCell.m: Add new 10.3 methods.

2009-11-09 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSControl.m,
	* Headers/AppKit/NSStepper.h,
	* Headers/AppKit/NSStepperCell.h,
	* Source/NSStepper.m: White space changes and cleanup.
	* Source/NSStepperCell.m,
	* Headers/Additions/GNUstepGUI/GSTheme.h,
	* Source/GSThemeDrawing.m: Move stepper drawing code into GSTheme.

2009-11-09 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSScroller.m: make offset of buttons inside scroller adjustable
	for theming.

2009-11-08 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSActionCell.m,
	* Source/NSAffineTransform.m
	White space changes and cleanup.
	* Headers/AppKit/NSAnimation.h: Change to new MacOSX type definitions.
	* Source/NSAnimation.m: Remove externs and white space changes.
	* Source/externs.m: Move externs from NSAnimation to here.

2009-11-08 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSApplication.m (-finishLaunching): Only activate the
	application if it isn't hidden.
	* Source/Functions.m (NSConvertGlobalToWindowNumber,
	NSConvertWindowNumberToGlobal): Add a slightly better implementation.

2009-11-05  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSDocumentController.m (+initialize): Don't ignore types
	without an associated document class.
	* Source/NSDocument.m (+readableTypes, +writableTypes):
	* Source/NSDocumentController.m(-_readableTypesForClass:,
	-_writableTypesForClass:): Add the exportable types to the
	writable types. Rename private NSDocumentController methods.
	* Source/NSDocument.m (-_addItemsToSpaButtonFromArray,
	-changeSaveType, _runSavePanelForSaveOperation): Save panel
	accessory pop up now allows the user to select one of the
	exportable types for NSSaveToOperation.

	* KeyBindings/DefaultKeyBindings.dict: Enable Ctrl-l key binding
	and add Ctrl-o key binding as in Emacs and Cocoa.
	* Source/NSTextView_actions.m (-insertNewlineIgnoringFieldEditor:,
	-insertTabIgnoringFieldEditor): Implement NSResponder methods.

	* Source/NSWindow.m (-dealloc): Release the toolbar without
	updating the window's geometry and thus avoid calling the delegate
	during deallocation.

	* Source/NSAlert.m (NSBeginAlertSheet, NSBeginCriticalAlertSheet,
	NSBeginInformationalAlertSheet): Call the didEndSelector after the
	sheet has been closed.

2009-11-04 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSColor.m (GSRGBColor -getComponents:): Correct
	alpha_component passing.

2009-11-03 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSColor.m (-colorUsingColorSpace): Support more color spaces.
	* Source/NSColorSpace.m (COLORSPACE): Initialize the static variable.

2009-11-03 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSThemeDrawing.m: Add more includes to apeace Riccardo's compiler.

2009-11-03 Fred Kiefer <FredKiefer@gmx.de>

	* Source/Functions.m (NSConvertGlobalToWindowNumber,
	NSConvertWindowNumberToGlobal): Add dummy implementation.

2009-11-02 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSApplication.m (-nextEventMatchingMask:...): Only set
	the current event when dequeuing and never return the null_event.

2009-11-02 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSTheme.m: Remove some compiler warnings.
	* Source/NSMenuItemCell.m,
	* Source/GSToolbarView.m,
	* Source/GSThemeDrawing.m,
	* Headers/Additions/GNUstepGUI/GSTheme.h: New theme methods for
	toolbar and menu item drawing.

2009-11-01 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSImage.m: Switch to the new shared composite and
	dissolve code.

2009-10-29 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSProgressIndicator.m: Correct flipped drawing.

2009-10-28 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSProgressIndicator.m: Fill more methods.

2009-10-27 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSProgressIndicator.h,
	* Source/NSProgressIndicator.m: Add missing OSX 10.5 methods and
	use the pattern colour patch by Uli Kusterer
	<witness.of.teachtext@gmx.net>.
	* Images/common_ProgressSpinning_?.tiff
	* Images/common_ProgressIndeterminate_?.tiff
	New image files by Uli Kusterer <witness.of.teachtext@gmx.net>.
	* Images/GNUmakefile: Add the new images.

2009-10-27 Thomas Gamper <icicle@cg.tuwien.ac.at>

	* Source/GSDisplayServer.m
	* Headers/Additions/GNUstepGUI/GSDisplayServer.h:
	Add cursor position setter (setMouseLocation:onScreen:).

2009-10-25 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSGradient.m (-drawInRect:angle:): Correct the math by
	adding a call to abs().

2009-10-23 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSGraphicsContext.h,
	* Source/NSGraphicsContext.m: Define empty gradient methods.
	* Source/NSGradient.m: Use these methods.
	* Source/NSColor.m (-colorUsingColorSpace): Don't use isEqual: on
	color space.

2009-10-23 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSGradient.m: Add context savig/restore and first attempt
	at geometry maths.

2009-10-23 Riccardo Mottola <rmottola@users.sf.net>

	* Headers/AppKit/NSBezierPath.h: added some documentation

2009-10-22 Riccardo Mottola <rmottola@users.sf.net>

	* Images/common_3DArrowRightH.tiff: Made background transparent,
	allows for better theming

2009-10-22 Nicolas Roard <nicolas@roard.com>

	* Source/GSThemeTools.m: Switched back extracting the individual
	images in GSDrawTiles, fixing the problem with the matrix style
	and allowing the nine patch style to work.

2009-10-21 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSColor.m (-colorUsingColorSpace): Add some dummy
	implementation for this method.
	* Source/NSColorSpace.m: Correct indention.
	* Header/AppKit/NSGradient.h,
	* Source/NSGradient.m: New files implementing the gui part of
	colour gradients.
	* Headers/AppKit/AppKit.h: Add include for NSGradient.h
	* Source/GNUmakefile: Add new files.

2009-10-20  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSDocumentController.m(-openDocumentWithContentsOfURL:display:,
	-openDocumentWithContentsOfURL:display:error:): Call
	-noteNewRecentDocument: instead of -noteNewRecentDocumentURL:.

	* Source/NSDocumentController.m (-_updateOpenRecentMenu): Fix an
	off by one error which would crash programs with an open recent
	menu.

2009-10-19 Riccardo Mottola <rmottola@users.sf.net>

	* Source/GSWindowDecorationView.h: add method declaration
	so that certain compilers pick up the correct signature

2009-10-19 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSThemeTools.m: Fix broken drawing due to error in
	the ([-validateTilesSizeWithImage:]) method.
	Fix broken ([-drawCornersRect:]) too.

2009-10-19 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSThemeTools.m: Fix last changes to compile again (variable
	declarations not at startof block only work on some compilers).
	* Source/GSTheme.m: Functions for working with fill style names.
	* Source/NSApplication.m: Fixup to show suppressed icon when app is
	deactivated.  Fix uninitialisaed variable causing crashes on failing
	to use document controller to open an untitled document.
	Drop non-standard method (which didn't work) for determining whether
	we have a document based app.
	* Source/NSDocumentController.m: Rewrite code for determining
	whether the current app is document based. Cache singleton information
	in static variables rether than ivars.

2009-10-19 Nicolas Roard <nicolas@roard.com>
	* Source/GSTheme.m:
	* Source/GSThemeTools.m:
	* Source/GSThemePrivate.h:
	Added the 'NinePatch' drawing style, and modified GSDrawTiles
	to save the corresponding nine images from an original image,
	instead of only remembering the rects... The other styles need
	to be modified accordingly in a future patch.

2009-10-18 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTheme.m:
	* Source/GSThemeTools.m:
	* Source/GSThemeDrawing.m:
	* Source/GSThemePrivate.h:
	* Headers/Additions/GNUstepGUI/GSTheme.h:
	Allow theme to control how interior of tiled rect is filled.

2009-10-18 Nicolas Roard <nicolas@roard.com>

	* Source/GSTheme.m,
	* Source/GSThemeTools.m,
	* Source/GSThemePrivate.h,
	* Headers/Additions/GNUstepGUI/GSTheme.h: Refactoring of
	GSDrawTiles, splitting fillRect:withTiles:background:fillStyle:
	in smaller methods, letting GSDrawTiles be in charge of its own
	drawing. Also added a 'nine patch' init method, to create
	a GSDrawTiles from a specially crafted image (see comments).

2009-10-17  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSApplication.m (-_windowWillClose:): When using MS
	Windows style menus terminate an application by default when its
	last window is closed.
	In addition, fix a bug where the application was not terminated
	when the last window is closed while the application is in the
	background.

2009-10-17  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSApplication.m (-finishLaunching): Open a new document
	by default when a document based application is started and there
	is no file to open.

2009-10-17 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSWindow.m:
	* Source/NSApplication.m:
	* Headers/AppKit/NSEvent.h:
	Changes to unhide app when a suppressed app icon is deminiaturised.
	Code conditional on defining MINI_ICON to 1 in NSApplication.m
	Currently doesn't work because the backend is not notifying the gui
	when a window is deminiaturised :-(

2009-10-17 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSApplication.m: Make GSSuppressAppIconhide the icon window
	(leave it ordered out) rather than making it not exist at all.
	Add new default GSBackgroundApp for an application which should not
	display the window at all.
	* Soure/NSWindow.m: Don't order any windows in if this is a background
	application.
	* Source/NSEvent.m: fix missing comma causing comple fail.

2009-10-17 Sheldon Gill  <sheldon@westnet.net.au>

	* Source/NSApplication.m: centralise GSGuiBundle() routine

2009-10-16 Sheldon Gill  <sheldon@westnet.net.au>

	* Source/NSEvent.m: add default for unknown events
	* Source/NSApplication.m: Move saving defaultExceptionHandler to
	when it is required (in _init) rather than early in +[initialize]

2009-10-13 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSTextStorage.m (-initWithCoder:): Display the warning
	only when we load an old .gorm file.

2009-10-12 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSScroller.m (-mouseDown:): In NSWindows95InterfaceStyle
	don't track the knob

2009-10-12 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSApplication.m (-runModalForWindow:, -runModalSession:):
	Use NSModalPanelRunLoopMode instead of NSDefaultRunLoopMode.

2009-10-12 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSScroller.m: Handle NSMacintoshInterfaceStyle the same
	as NSNextStepInterfaceStyle.

2009-10-12 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSColor.m (-hash): Turned Richards specific hash method
	into a generic one.

2009-10-12 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSColor.m: Remove special proxy handling introduced in
	last change.

2009-10-11 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTheme.m: Implement -description for proxies.
	* Source/NSColor.m: Fix theme activation to recache catalogue colors.
	Write code to unique catalogue color instances.
	Add locking to make catalogue colors thread-safe.

2009-10-11 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSStandardWindowDecorationView.m
	(-resizeWindowStartingWithEvent:): restructure event handling code
	and add periodic event.

2009-10-11 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSApplication.m: ([stopModalWithCode:]) correct the check to
	see if a modal session is running.  This fixes the breakage caused by
	the recent change sending -stopModal to invisible windows (like open
	panels ordered out at the end of their modal loop).

2009-10-11 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSStandardWindowDecorationView.m (-dealloc): Remove from
	the notification centre.

2009-10-10 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSStandardWindowDecorationView.m,
	* Headers/Additions/GNUstepGUI/GSTheme.h,
	* Source/GSThemeDrawing.m: Move all the window border drawing code
	into GSTheme.

2009-10-10 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSEvent.m,
	* Source/NSImage.m,
	* Source/GSTextStorage.m: Remove usage of NSDeallocateObject.

2009-10-10 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSApplication.m (-endModalSession:): Bring the window of
	the next modal session to the front.
	* Source/NSApplication.m (-runModalSession:): Better check whether
	the current session window is gone.
	* Source/NSPrintPanel.m (-_pickedButton:): Remove bogus log statement.

2009-09-27 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSImage.m: ([-setName:]) fix bug which was removing the
	wrong name when given an image which already had a name.
	Make named images thread-safe using a lock.
	Add private method to update names on theme change.
	* Source/GSTheme.m: Use new method to update theme images.

2009-09-26 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSApplication.m (-setApplicationIconImage:,
	-finishLaunching): Move the set name code to finishLaunching, as
	the image called NSApplicationIcon should stay the same all the time.

2009-09-26 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTextContainer.m (init):  Add this method as suggested
	by Derek Fawcus <dfawcus@cisco.com>.

2009-09-21 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow.m (+standardWindowButton:forStyleMask:): Add
	support for toolbar button.
	* Source/NSWindow.m (-toggleToolbarShown:): Reorder the code.
	* Source/NSToolbar.m (_setVisible:broadcast:): Add code to really
	make the toolbar visible.
	* Source/NSToolbar.m (_window): New helper method for this.

2009-09-19 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSHorizontalTypesetter.m (-_cacheMoveTo:): Use default
	paragraph style when none is set.

2009-09-19 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSTextConverter.h,
	* TextConverters/RTF/RTFConsumer.m,
	* TextConverters/RTF/RTFProducer.h,
	* TextConverters/RTF/RTFProducer.m,
	* Source/NSAttributedString.m: Unify the text converter handling.
	* Headers/AppKit/NSAttributedString.h,
	* Source/NSAttributedString.m (-itemNumberInTextList:atIndex:,
	-rangeOfTextBlock:atIndex:, -rangeOfTextList:atIndex:): Correct
	interface and add implementation for these methods.

2009-09-16 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSToolbarView.m (-drawRect:): Also correct the only use
	of this method.

2009-09-16 Hans Baier <hansfbaier@googlemail.com>

	* Headers/Additions/GNUstepGUI/GSTheme.h,
	* Source/GSThemeDrawing.m: fix typo in method name:
	drawToobarRect -> drawToolbarRect

2009-09-14 Hans Baier <hansfbaier@googlemail.com>

	* Headers/AppKit/NSWorkspace.h,
	* Source/NSWorkspace.m: ([-launchAppWithBundleIdentifier:])
	add method and dummy implementation

2009-09-14 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSScroller.m,
	* Headers/AppKit/NSScroller.h: Add new 10.5 methods and change
	implementation to be similar to the currentApple one. Remove the
	left over caching code that didn't do anything useful anymore.

2009-09-14 Hans Baier <hansfbaier@googlemail.com>

	* Headers/AppKit/NSWorkspace.h: add NSWorkspaceLaunchoptions

2009-09-12 Riccardo Mottola <rmottola@users.sf.net>

	* Images/common_Mount.tiff
	* Images/common_Unmount.tiff
	Newly recreated true-color artwork.

2009-09-10 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSApplication.m: ([-setApplicationIconImage:]) ensure that
	the new image has its name set to NSApplicationIcon
	* Source/NSImage: ([+imageNamed:]) fixed bug exposed by recent change
	of nsmappings.strings file.  The old code was using the mapped names
	as the image names which meant that a subsequent ([-setName:]) using
	the unmapped name would not effect the image retrieved by later calls
	to ([+imageNamed:]).

2009-09-09 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-_lockFocusInContext:inRect:): Correct the
	handling of renewgstate.
	* Source/GSFontInfo.m (GSFontEnumerator-availableFontDescriptors):
	Retain the generated list of font descriptors.

2009-09-07 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSMenuItem.h: Let the protocol NSMenuItem
	conform to NSValidatedUserInterfaceItem.
	Patch by Quentin Mathe <quentin.mathe@gmail.com>.

2009-09-07 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSScrollView.m (-initWithCoder:): Don't add the vertical
	scroller directly into the subviews. Call tile to position all
	subviews correctly.
	Based on patch by Quentin Mathe <quentin.mathe@gmail.com>.

2009-09-07 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSSearchFieldCell.h: Add version #ifdef's.
	* Source/NSSearchFieldCell.m (-encodeWithCoder:, -initWithCoder:):
	Correct encoding/decoding of maximumRecents.
	Based on patch by Quentin Mathe <quentin.mathe@gmail.com>.

2009-09-06 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPopUpButton.m (-selectedTag): Return the tag of the
	selected item.
	Patch by Douglas Simons <doug.simons@testplant.com>.

2009-09-04  Nicola  <nicola.pero@meta-innovation.com>

	* Images/GNUmakefile: Rewritten using the standard
	resource-set.make instead of duplicating resource installation
	code in every makefile.  resource-set.make also has a lots of
	additional features and provides robust, portable code.
	* Sounds/GNUmakefile: Same change.
	* Themes/GNUmakefile: Same change (this should also fix installing
	gnustep-gui on Sun Solaris 7).
	* Images/GNUmakefile.postamble: Removed.
	* Sounds/GNUmakefile.postamble: Removed.
	* Themes/GNUmakefile.postamble: Removed.

2009-09-01 19:45-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Images/common_ToolbarCustomizeToolbarItem.tiff: Minor cleanup

2009-09-01 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSToolTips.m: fix bug #25907 by ensuring windows is fully
	displayed before we draw to it, and we then flush our drawing.
	* Source/NSMenu.m: fix bug #27344 by telling the menu view that it
	needs resizing every time we change menu title (or items).

2009-08-31  Quentin Mathe <quentin.mathe@gmail.com>

	* Images/nsmapping.strings: Added NSApplicationIcon to ensure
	-imageNamed: returns a non-nil image even when
	-[NSApplication finishLaunching] hasn't been called.
	The behavior is now the same than Cocoa.

2009-08-28 17:32-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Images/common_DimpleHoriz.tiff: Add
	* Images/common_DimpleH.tiff: Remove
	* Images/GNUmakefile: Copy new image.
	* Source/GSThemeDrawing.m: Correct image name.

2009-08-28 17:19-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Images/common_DimpleH.tiff: Horizontal image for dimple.  This
	image is not different from the vertical dimple for the default
	theme.  It's here so that it can be overriden by a theme, if
	needed.
	* Images/GNUmakefile: Add new image.
	* Source/GSThemeDrawing.m: Modify code in cellForScrollerKnob
	to use common_Dimple.tiff or common_DimpleH.tiff depending
	on the orientation of the scroller.

2009-08-28 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTheme.m: Fixes to properly restore previous common images
	when a theme is deactivated.
	* Source/NSImage.m: Fix imageNamed to always return proxy.

2009-08-27 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSImage.m: Image naming fixes so that setting nil as a name
	works (so themes can replace/override system images).
	* Source/GSTextStorage.m: Fix incorrect return of proxy to user code.

2009-08-26 18:53-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/libgnustep-gui.def: Export GSTheme class.

2009-08-25 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTheme.m:
	* Headers/Additions/GNUstepGUI/GSTheme.h:
	Add methods for changing the classes used for loading images and
	color lists so that themes may dynamically update both in response
	to external events (eg. integration with a native theming mechanism
	of the system the application is running on).
	* Source/NSBrowser.m:
	* Source/NSSound.m:
	* Source/GSDisplayServer.m:
	* Source/NSParagraphStyle.m:
	* Source/NSAttributedString.m:
	* Source/NSFontManager.m:
	* Source/NSButtonCell.m:
	* Source/NSColor.m:
	* Source/NSToolbar.m:
	* Source/NSFont.m:
	* Source/NSTabViewItem.m:
	* Source/NSDocumentController.m:
	* Source/NSTableView.m:
	* Source/NSView.m:
	* Source/NSDocument.m:
	* Documentation/GuiUser/DefaultsSummary.gsdoc:
	* Headers/AppKit/NSAttributedString.h:
	* Headers/AppKit/NSButtonCell.h:
	* Headers/AppKit/NSBitmapImageRep.h:
	Fix argument name/type info for documentation, plus a markup error,
	plus minor syntax errors reported by autogsdoc (semicolon within a
	method implementation ... gcc is sloppy and ignores it, but clang may
	be stricter ... best to fix).

2009-08-24 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSAttributedString.m (-fixFontAttributeInRange:): Fix
	compiler warning.
	* Source/NSHelpManager.m (NSApplication-showHelp:): Fix	compiler
	warning.

2009-08-23 17:35-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Sounds/Frog.wav: New sound.
	* Sounds/GNUmakefile: Add new sound.
	* Sounds/Submarine.wav: New sound

2009-08-23 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSFontInfo.h,
	* Headers/AppKit/NSFontDescriptor.h,
	* Source/NSFontDescriptor.m,
	* Source/NSFontManager.m,
	* Source/NSFont.m,
	* Source/GSFontInfo.m: Add better support for font
	descriptor. Requires a recompile of the backend.

2009-08-23 14:23-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Additions/GNUstepGUI/GSTheme.h: Add image parameter,
	* Source/GSThemeDrawing.m: Add image parameter.   Correctly
	handle disabled buttons.
	* Source/NSButtonCell.m: Change to use new signature.

2009-08-23 14:05-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Additions/GNUstepGUI/GSTheme.h: Added new method declaration
	for drawButtonCell:...
	* Source/GSThemeDrawing.m: Added implementation for new method.  The
	purpose of the method is to allow the theme to override images with
	native images which may be theme dependent.
	* Source/NSButtonCell.m: Use the new method.

2009-08-23 Doug Simons <dpsimons@testplant.com>

	* Source/GSHorizontalTypesetter.m: Remove unlock and
	log the exception, but don't rethrow it.
	* Source/GSLayoutManager.m: return a zero length range in
	 -(NSRange)glyphRangeForCharacterRange:actualCharacterRange:
	when charRange has a length and a location of 0.
	Added by Gregory John Casamento <greg.casamento@gmail.com>

2009-08-23 17:16-BST David Chisnall <theraven@sucs.org>

	* Tools/sound/GSOSSSoundSink.m: Added OSS sound back end

2009-08-23 11:50-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Tools/sound/GNUmakefile: Fix circular dependency issue.
	Added _INCLUDE_DIRS and _LIB_DIRS for each entry so that
	it can build when GNUstep is not installed.

2009-08-23 03:52-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* configure: Regenerate
	* configure.ac: Added --disable-sound option.

2009-08-23 03:45-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* config.make.in: Add BUILD_SOUNDS
	* configure: Regenerate
	* configure.ac: Add BUILD_SOUNDS and checks for libraries.
	* GNUmakefile: Add to subprojects, if BUILD_SOUNDS is present.

2009-08-23 00:18-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* GNUmakefile: Add themes directory
	* Themes/GNUmakefile: New makefile
	* Themes/GNUmakefile.postamble: Makefile to copy themes.

2009-08-22 Stefan Bidigaray <stefanbidi@gmail.com>

	* configure.ac: Updated
	* Headers/Additions/GNUstepGUI/GSSoundSink.h
	* Headers/Additions/GNUstepGUI/GSSoundSource.h: Added
	* Headers/AppKit/NSSound.h: Added new methods
	* Sound/SndfileSource.m
	* Sound/AudioOutputSink.m: Added
	* Source/NSSound.m: Implementation using new bundle based playback.
	* Tools/gsnd: Removed

2009-08-22 19:49-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Additions/GNUstepGUI/GSTheme.h: Add methods for drawing
	stepper cell here.
	* Source/GSThemeDrawing.m: Implementations for stepper cell functions.
	* Source/NSStepperCell.m: Use new stepper cell functions.

2009-08-21 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMenuItemCell.m (-drawStateImageWithFrame:inView:,
	-drawTitleWithFrame:inView:): Remove specific drawing code, use
	general code instead.
	* Source/NSMenuItemCell.m (-drawingRectForBounds:): Add call to calcSize.

2009-08-21 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBitmapImageRep+ICNS.m: Redefine icns_size_t to int, as
	this needs to be a 32 bit integer and on 64 bit systems long uses
	64 bits.

2009-08-19 00:57-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSTextView.m: Don't add the text storage if it's nil
	in initWithCoder:

2009-08-16 15:14-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSTextStorage.m: Correct spelling of header file.

2009-08-16 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-initWithFrame:, -initWithCoder:) Set
	_post_frame_changes and _post_bounds_changes to YES by default.
	Patch by Quentin Mathe <qmathe@gmail.com>.

2009-08-16 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTextStorage.m (-replacementObjectForPortCoder:): Added
	this method as suggested by Richard.

2009-08-15 17:17-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Tools/say/GNUmakefile
	* Tools/speech/GNUmakefile: Makefile corrections.

2009-08-12 18:26-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSDrawer.m: Changed - (void) stopTimer.  Fixed to
	prevent a crash when the drawer is opened/closed and then the
	window is then closed causing a double release.

2009-08-12 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTextStorage.m (-classForCoder, -initWithCoder:,
	-encodeWithCoder:): Encode this class and not the concrete
	one. Also call super encoding/decoding methods as they are
	correct in base now.
	* Source/GSTextStorage.m (-classForPortCoder, -encodeWithCoder:,
	-replacementObjectForPortCoder:): Remove these methods.

2009-08-10 23:25-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Sounds/Basso.wav
	* Sounds/Hero.wav
	* Sounds/Ping.wav
	* Sounds/Pop.wav
	* Sounds/Sosumi.wav
	* Sounds/Tink.wav: Added new sound files.
	* Sounds/GNUmakefile: Copy sound files.

2009-08-08 23:26-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSMenuItem.m: encodeWithCoder: only encode the NSSubitems
	key if the menu is not owned by a popup.   This avoids an
	assertion error when loading the resulting nib into InterfaceBuilder.

2009-08-08 13:06-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSTextView.m: initWithCoder: change to use text storage
	more directly to allow the handling of attributed strings.

2009-08-08 03:06-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/GSTextStorage.m: In initWithCoder: don't overwrite the
	contents of the text storage by attempting to unarchive when the
	unarchiver is keyed.
	* Source/NSTextView.m: In initWithCoder: retrieve the contents
	of the text storage for display in the text view.

2009-08-06 01:42-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSTextView.m: initWithCoder: temporarily remove decoding
	of NSTextContainer since it is causing a crash when editing a text
	view's that was loaded from a nib file.

2009-08-04 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSToolbarItem.h: Move the _flags to the class
	GSToolbarBackView in NSToolbarItem.m.
	* Source/NSToolbarItem.m: More clean up of code.

2009-08-02 10:15-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/AppKit/NSWindow.h
	* Source/NSApplication.m
	* Source/NSWindow.m: Added ivar for attached sheet back.

2009-08-01 20:28-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* config.make.in: Change to include BUILD_SPEECH in output
	* configure: Regenerated
	* configure.ac: Check for flite library and flite.h header.
	* Tools/GNUmakefile: Add ${BUILD_SPEECH} to subproject list.
	* Tools/say/GNUmakefile
	* Tools/say/say.m: Say utility
	* Tools/speech/FliteSpeechEngine.m:
	* Tools/speech/GNUmakefile
	* Tools/speech/GSSpeechEngine.[hm]
	* Tools/speech/GSSpeechServer.[hm]
	* Tools/speech/GSSpeechSynthesizer.[hm]: Speech synthesis engine
	implementation using flite.
	* Tools/speech/main.m: main for the server application.
	Speech code by David Chisnall <theraven@sucs.org>
	Changes to makefiles and config by Gregory Casamento.

2009-08-01 17:49-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Sounds/GNUmakefile: Change makefile to copy wav files.

2009-08-01 17:47-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Sounds/Basso.ogg: Deleted..
	* Sounds/Basso.wav: Added
	* Sounds/Blow.ogg: Deleted..
	* Sounds/Blow.wav: Added
	* Sounds/Bottle.ogg: Deleted
	* Sounds/Bottle.wav: Added
	* Sounds/Glass.ogg: Deleted
	* Sounds/Glass.wav: Added.
	Changed sounds to .wav instead of .ogg.

2009-08-01 12:22-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* GNUmakefile
	* Sounds/Basso.ogg
	* Sounds/Blow.ogg
	* Sounds/Bottle.ogg
	* Sounds/Glass.ogg: Add new sounds.
	* Sounds/GNUmakefile
	* Sounds/GNUmakefile.postamble: Add sounds directory and makefiles.

2009-07-31  Adam Fedor  <fedor@gnu.org>

	* Version 0.17.1

2009-07-30 15:43-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/GSThemeTools.m: -[GSThemeTools drawRoundBezel:withColor:]
	add code to draw highlights for rounded buttons to give them a
	better 3D look.

2009-07-28 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSDocument.m (-setFileName:): Set the file name to the
	absolute file path.
	Patch by Jonathan Gillaspie <jonathan.gillaspie@testplant.com>.

2009-07-27 12:18-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/AppKit/NSWindow.h: Comment out _attachedSheet ivar.
	* Source/NSAlert.m: Change code to use hightlightWithLevel: method
	in resetWindow method.
	* Source/NSApplication.m: Stub out setAttachedSheet method.
	* Source/NSWindow.m: Remove new ivar for next release and stub out
	attachedSheet method.

2009-07-26 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSFontDescriptor.h,
	* Headers/AppKit/NSFont.h: Add missing interface method from 10.5.
	* Source/NSFontDescriptor.m,
	* Source/NSFont.m: Small fixes for font descriptor handling.

2009-07-25 22:54-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSAlert.m: Offset color by less in -resetWindow.  Remove
	redundant logic for calling the "didEnd" method in the NSBeginSheet...
	functions.
	* Source/NSApplication.m: Add code to reset parent window in
	beginSheet:... method.  Also added check to make sure the
	modalDelegate is not nil.

2009-07-25 20:54-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSAlert.m: Remove category for setAttachedSheet method.
	* Source/NSApplication.m: Added private category to add
	setAttachedSheet: to NSWindow.  Modified beginSheet:... method
	to call the new method with the sheet that is associated with it.

2009-07-25 20:25-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSAlert.m: GSAlertSheet - removed unecessary parentWindow
	and  container ivars in interface declaration.  Removed uneeded
	accessors for parentWindow and contentRect.  Added check in
	frameFromParentWindowFrame to check to see if parent is initialized
	prior to using it.   Removed NSBox in the init.. method since it
	could cause issues with drawing.   Added code to lighten the
	color of the background of the sheet relative to the parent window.

2009-07-24 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTextView.m (-initWithCoder:, -setTextContainer:):
	Attempt to resolve the memory issues when coding a text container.

2009-07-21 15:06-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/AppKit/NSFontDescriptor.h: Correct mispelling pointed
	out by David Chisnall.

2009-07-17 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPrintOperation.m: Add include needed for Windows.

2009-07-16 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPrintOperation.m (-_printPaginateWithInfo:knowsRange:, -_print):
	Try to handle not set print information more graceful.

2009-07-14 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPrintOperation.m (-_printPaginateWithInfo:knowsRange:):
	Use scale 1.0 if none is given.
	Patch by Georg Fleischmann <G.Fleischmann@vhf.de>.

2009-07-13 14:12-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSAlert.m: Implementation of GSAlertSheet.
	* Source/NSApplication.m: Change order in which setWindowParent:
	and runModalForWindow: are called in beginSheet:... method.
	* Source/NSDrawer.m: Remove notifications when drawer is closed
	in dealloc.

2009-07-06 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableView.m (-_editPreviousEditableCellBeforeRow:column:,
	-_editNextEditableCellAfterRow:column:): Comment out the loop
	around of the last change. This leads to wrong results, when the
	table view isn't the only view in the window.

2009-07-06 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-_setNeedsDisplayInRect_real:) Set the window
	views as needing display, even when the invalidated rectangle
	didn't change.

2009-07-05 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableView.m (-_editPreviousEditableCellBeforeRow:column:,
	-_editNextEditableCellAfterRow:column:): Try to handle all cases
	of changing the current edited cell correctly.

2009-07-05 Riccardo Mottola <rmottola@users.sf.net>

	* Source/NSTableHeaderView.m
	Removed c99-ism

2009-07-05 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableView.m (_editPreviousEditableCellBeforeRow:column:):
	Compare row against _numberOfRows not _numberOfColumns.
	Patch by Tim Schmielau <tim@smmo.org>.

2009-06-30 Nicolas Roard <nicolas@roard.com>

	* Source/NSTableHeaderView.m: Apply patch from Eric
	Wasylishen <ewasylishen@gmail.com>, add live resize and
	live moving for table columns if GSUseGhostResize is
	set to NO.

2009-06-28 23:46-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSTextView.m (-initWithCoder:): Retain the text
	container and storage to prevent a crash since both are
	autoreleased by the archiver.

2009-06-29 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSKeyValueBinding.h,
	* Source/externs.m: Add NSContentObjectBinding.
	* Source/NSObjectController.m: Add more implementation to this
	class.
	Patch by Andy Balholm <andy@balholm.com>.

2009-06-28 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/AppKit.h : Addd NSFontDescriptor.h.

2009-06-22 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSUserDefaultsController.m (-initWithCoder:): Retain the
	shared controller before returning it.

2009-06-22 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSKeyValueBinding.m (GSKeyValueBinding+initialize):
	Correc the setup of the map tables.
	* Source/NSKeyValueBinding.m (GSKeyValueBinding+unbindAllForObject):
	Use a copy of the keys for the enumerator.

2009-06-05 18:21-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/AppKit/NSSpeechSynthesizer.h:
	* Source/NSSpeechSynthesizer.m: Implementation of
	NSSpeechSynthesizer.
	Patch by David Chisnall <theraven@sucs.org>

2009-06-02 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSDocument.m (-runModalSavePanelForSaveOperation:...):
	Check whether there is a returned save panel, this wont be the case
	when the user cancels the save operation.

2009-05-31 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSApplication.m (detachDrawingThread:toTarget:withObject:):
	Replace a call to a now longer existing extension on NSInvocation
	with the correct method calls.

2009-05-31 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSDisplayServer.m (+initialize,
	-_setWindowOwnedByServer:(), -dealloc): Set the windowmaps
	variable in the initialize method and protect all usages.

2009-05-23 22:17-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSWorkspace.m: Improve handling of CFBundleType...
	constants in the private method _extIconForApp:info:.

2009-05-23 11:48-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/GSStandardWindowDecorationView.m: Live window resize changes
	for when using GNUstep decorations in resizeWindowStartingWithEvent:.
	* Source/NSLayoutManager.m: Unarchive the text containers into an
	array in initWithCoder:.
	* Source/NSTextContainer.m: Get the layout manager in initWithCoder:.
	* Source/NSTextView.m: Changes to include text container from nib
	file into the nib loading process in initWithCoder:.

2009-05-22 Nicolas Roard <nicolas@roard.com>
	Add a live resize for splitviews. Users can revert to the old behaviour
	by doing: defaults write NSGlobalDomain GSUseGhostResize YES
	* Source/NSSplitView.m: Added live resize of splitviews

2009-05-14 Riccardo Mottola <rmottola@users.sf.net>

	* Source/NSApplication.m: fixed allocation of Mutable array instead of
	Array

2009-05-14 14:15-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/AppKit/NSWindow.h: Added ivar to contain attachedSheet.
	* Source/NSAlert.m: New class GSSheetPanel.  Initial changes for
	sheet implementation.
	* Source/NSWindow.m: Added code to return value of new ivar.

2009-05-10  Adam Fedor  <fedor@gnu.org>

	* Version 0.17.0

2009-05-02 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMenu.m (-_updateUserDefaults:): Fix small memory leak.
	* Source/GSTitleView.m (+height: Get height from NSMenuView.
	* Source/GSTitleView.m (-addCloseButtonWithAction:,
	-addMiniaturizeButtonWithAction:): Get buttons from NSWindow.
	* Source/GSTitleView.m: Clean up a bit.

2009-04-27 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBezierPath.m	(-appendBezierPathWithRoundedRect:xRadius:
	yRadius:):
	Small rearangment of code.
	Patch by Fred Morcos <fred.morcos@gmail.com>

2009-04-25 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSBezierPath.h,
	* Source/NSBezierPath.m	(+bezierPathWithRoundedRect:xRadius:yRadius:,
	-appendBezierPathWithRoundedRect:xRadius:yRadius:):
	New 10.5 methods.
	Patch by Fred Morcos <fred.morcos@gmail.com>

2009-04-24 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSColorWell.m: Only send action if color changes ... fix
	for bug #26277

2009-04-19 00:46-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/AppKit/NSSearchFieldCell.h: Give the values assigned in
	Cocoa to the enum.  Patch by: doug@riverrock.org
	* Source/NSSearchFieldCell.m: Implemented search menu template and
	recent items.  Patch by: doug@rivverrock.org
	* Source/NSSearchField.m: Call cell methods to use search menu.
	Patch by: doug@riverrock.org

2009-04-19 00:23-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSApplication.m: Make certain that a sheet is always placed
	above the window it's supposed to appear relative to.   Change
	to runModalForWindow:relativeToWindow:.

2009-04-18 23:21-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSScrollView.m: If the scrollview has scrollers,
	don't pay attention to the hidden flag in nib loading.
	* Source/NSTableView.m: if the table has a cornerview, don't
	pay attention to the hidden flag in nib loading.
	NOTE: In both instances it appears that Cocoa sets the hidden flag
	when autohide is set to true.   GNUstep handles this case differently,
	so it's okay to ignore this flag when the scroller is in an
	NSScrollView.

2009-04-16 16:05-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSAlert.m: Revert last change.

2009-04-16 15:02-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSAlert.m: Order front regardless to prevent reported
	cases of problems when sheets/panels bring up additional
	sheets/panels.

2009-04-14 21:24-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/GSHorizontalTypesetter.m: Use thread dictionary to hold
	the instance of the typesetter for that thread.
	* Source/NSStringDrawing.m: Add locks to methods to prevent
	modification of static variables by separate threads from
	causing applications to get glyph generation errors.
	NOTE: These changes based on suggestions/ideas from Doug
	Simons <doug@riverrock.org>.

2009-04-12 15:16-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSWindowDecorationView.m: initialize offsets to prevent
	negative value warnings suggested by Doug.

2009-04-12 15:11-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSSearchFieldCell.m: Correct issue displaying images for
	search field.  Fix in initWithCoder: to reset image names.

2009-04-11 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPopUpButtonCell.m (-_popUpItemAction:): New method used
	by Apple NIB files.
	Patch by Doug Simons <doug@riverrock.org>.

2009-04-10 15:30-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSApplication.m: Follow the NSApplication responder
	chain.

2009-04-10 15:00-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSSplitView.m: Set subviews to resize when loaded from
	the nib.
	* Source/NSView.m: Partial revert of previous change.

2009-04-10 14:27-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSView.m: Autoresize subviews since it is not pulling it
	from the nib correctly.  Will come back and fix this issue.

2009-04-10 14:05-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSSplitView.m: Autoresize subviews when loaded from the nib.

2009-04-10 14:03-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSTabView.m: Autoresize subviews when loaded from the nib
	and set the mask to the make height and width resizable when the
	tab is selected.

2009-04-10 13:31-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSDrawer.m: Correction for NSDrawer issues with draw
	temporarily showing up above the window and not syncing with
	window position.

2009-04-10 10:24-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSAlert.m: in the method _initWithoutGModel add a call
	to setLevel: to set the level to NSModalPanelWindowLevel.   This was
	not previously being done and was causing alert panels to get lost
	behind other application windows.

2009-04-10 01:32-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSMenuView.m: Removed adjustment to Y coords in the
	setWindowFrame... method.  This adjustment is only supposed to be
	done when a popup is under "restrictive screen conditions" which
	is currently unimplemented.

2009-04-10 01:15-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSMenuView.m: In the method
	- (void) setWindowFrameForAttachingToRect:... test if the view
	is flipped and make the adjustment.

2009-04-10 00:53-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSMenuView.m: In the method
	- (void) setWindowFrameForAttachingToRect:... changed how
	popup/pulldown buttons handle the preferred edge.
	Per Cocoa documentation, the selected cell should always show up
	over the button for popups.   For pull down menus, the preferred
	edge is relevant.   This is also apparent from testing under Cocoa.

2009-04-09 22:55-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSRulerMarker.m: Changes suggested by Doug Simons for
	allowing markers to be set on an NSMouseDown event.

2009-04-07 22:21-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSDocumentController.m: Return default type if the
	URL is not a file URL and the call to typeFromFileExtension: returns
	nil in typeForContentsOfURL:.

2009-04-07 18:43-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/AppKit/NSSpeechSynthesizer.h: Added _module ivar.
	* Source/NSDrawer.m: Don't set the timer since it eats a lot of CPU.
	* Source/NSPasteboard.m: Retain the path since it's autoreleased.
	* Source/NSTextView.m: Set the textview to allow undos by default.

2009-04-07 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSAlert.m (NSBeginAlertSheet, NSBeginCriticalAlertSheet,
	NSBeginInformationalAlertSheet): Correct the calling of delegate
	methods. This should fix #26101.

2009-04-07 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSSplitView.h
	(-maxPossiblePositionOfDividerAtIndex:,
	-minPossiblePositionOfDividerAtIndex:,
	-setPosition:ofDividerAtIndex:): New MacOSX 10.5 methods.
	* Source/NSSplitView.m: Basic implementation of these methods.
	* Headers/AppKit/NSSplitView.h: Add ivars, will break binary compatibility.
	* Source/NSSplitView.m (-isPaneSplitter, -setIsPaneSplitter:):
	Implement these methods.

2009-04-07 Sergii Stoian <stoyan255@gmail.com>

	* Source/NSSplitView.m (-mouseDown:): When checking if divider
	position also check orientaion for _isVertical == NO situation.
	This fix avoids situation when split view is vertical, postion
	changed but method exists after next 'else if' check.

2009-03-26 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-setNeedsDisplay:, -setNeedsDisplayInRect:):
	Warn about the GNUstep secondary thread behaviour not being
	portable to Cocoa.
	* Source/NSApplication.m
	(-nextEventMatchingMask:untilDate:inMode:dequeue:):
	Use distantPast instead of distantFuture as default of expiration.

2009-03-25 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSGraphicsContext.m (-restoreGraphicsState,
	-saveGraphicsState:)  Try to deal with the case when there is no
	current context. May happen in secondard threads. Fixes #25943.

2009-03-25 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTextView.m (-initWithFrame:textContainer:,
	-initWithCoder:): Set values for minSize, maxSize,
	horizontallyResizable and verticallyResizable consistently.
	* Source/NSTextView.m (-encodeWithCoder:) : Release the temporary
	shared data object.

2009-03-23 12:13-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSSpeechSynthesizer.[hm]: Add code to tell the developer
	that certain methods need to be overriden.

2009-03-23 02:36-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/AppKit/AppKit.h: Add include for NSSpeechSynthesizer.h
	* Headers/AppKit/NSSpeechSynthesizer.h: Declarations.
	* Source/GNUmakefile: Add new files.
	* Source/NSSpeechSynthesizer.m: Add initial skeleton for
	NSSpeechSynthesizer class.

2009-03-22 23:57-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Panels/English.lproj/GSToolbarCustomizationPalette.gorm: Add
	connection to _doneButton outlet.
	* Source/GSToolbarCustomizationPalette.m: Added code in init
	to set the state of the size checkbox.

2009-03-21 12:27-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Panels/English.lproj/GSToolbarCustomizationPalette.gorm: Added
	size: method to class in gorm file.  Added connection to size: method
	from the switch.
	* Source/GSToolbarCustomizationPalette.m: Added size: method
	implementation.
	* Source/NSToolbar.m: Added code to save and load sizeMode attribute
	for toolbar.

2009-03-21 12:13-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Panels/English.lproj/GSToolbarCustomizationPalette.gorm: Changed
	formatting.  Added text field and buttons.
	* Source/GSToolbarCustomizationPalette.m: Added reset button and
	done button.
	* Source/NSToolbarFrameworkPrivate.h: Added _resetConfig method.
	* Source/NSToolbar.m: Added _resetConfig method.

2009-03-21 09:57-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Panels/English.lproj/GSToolbarCustomizationPalette.gorm: Add
	Default item to popup and make the connection to the show: method
	to allow setting the toolbar display mode.
	* Source/GSToolbarCustomizationPalette.m: Enable changing of
	text, text & icon, icon only on the toolbar.
	* Source/NSToolbar.m: Change _build method to load the
	displayMode setting.

2009-03-20 Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/gopen.m: Extend to open URLs as well as files.
	* Source/GSServicesManager.m:
	* Source/NSSworkspace.m:
	Additions so that any app using a document controller can open a URL
	(also any app where its delegate implements -application:openURL:).

2009-03-20 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSOutlineView.m (-drawRow:clipRect:): Changed order of
	expresions in condition to avoid possible access to uninitialized
	memory.
	* Source/NSScrollView.m (-initWithCoder:): Don't set _hasCornerView.
	* Source/GSNibLoading.m (NSClassSwapper-initWithCoder:): Don't
	reference freed memory.

2009-03-18 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSWorksace.m: ([openURL:]) fix to open some app which
	supports the URL scheme.

2009-03-18 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-beginPageInRect:atPlacement:): Add parentheses
	to stop compiler from complaining.

2009-03-16 03:29-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSToolbarView.m: Added code to save the configuration when
	deleting an item as well as saving an item.
	* Source/NSToolbarFrameworkPrivate.h: removed old _loadConfig method
	added new methods to track changes to toolbars.
	* Source/NSToolbar.m: Added check for items already in the toolbar,
	removed calls to _loadConfig which were commented out, implemented
	setConfigurationFromDictionary: as described in the documentation,
	changed _build to get dictionary from defaults if it's there.
	Implemented new method _containsItemWithIdentifier: and
	_itemsFromConfig.

2009-03-16 01:22-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSToolbarView.m: Call the _insertItemWithItemIdentifier:..
	method to add items when they are not being dragged from within
	the toolbar and are being added from the palette.
	* Source/NSToolbarItem.m: Added information to the description
	to help with debugging.

2009-03-15 18:37-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSScrollView.m: Fix for infinite notification loop which
	happens with some nib files.

2009-03-15 22:09-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSScrollView.m: Use the flags in initWithCoder:

2009-03-15 20:28-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSScrollView.m: Added more flags for nib loading.

2009-03-15 15:09-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSScrollView.m: Remove FIXME comment and provided an
	explaination for why a cast wasn't used.   Added nonDynamic flag
	as well as other flags from the nib file.

2009-03-15 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSInfoPanel.m: Use setTitle: instead of setStringValue:
	for theme button.

2009-03-13 01:01-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSToolbarView.m:
	* Source/NSToolbar.m: Partial fix for toolbar drag and drop issues.

2009-03-12 19:47-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSPrintOperation.m: Correct issues with handling of
	rectangle passed back from rectForPage: callback in NSView
	subclasses.  This rect should override existing calculations
	when it is passed in.
	* Source/NSView.m: Change to use NSPrintPaperBounds if and only if
	aRect is passed in as a blank rect.  Previously the code was
	using the NSPrintPaperBounds value and ignoring the passed in
	value.

2009-03-11 Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSMatrix.m: GC fixups ... change code that was attempting
        to use the old GSAtomicMallocZone() function.

2009-03-11 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSApplication.m (-setApplicationIconImage:): Copy the new
	application image before assigning the name "NSApplicationIcon" to
	it. This solves bug #25793.

2009-03-05 Fred Kiefer <FredKiefer@gmx.de>

	* Resources/GNUmakefile: Add French localisation.
	* Resources/French.lproj/Localizable.strings: New localisation file.
	Patch by Philippe Roussel <p.o.roussel@free.fr>.

2009-03-04 Xavier Glattard <xavier.glattard@online.fr>

	* Headers/NSView.h,
	  Source/NSView.m: Add a flag 'ignoresBacking' that indicates the
	  receiver do not draw on the backing store, and so prevent the
	  backing store to be flushed by [-unlocFocus:]
	* Headers/NSView.h,
	  Source/NSView.m,
	  Source/externs.m: Define NSViewGlobalFrameDidChangeNotification that
	  should be catched by NSOpenGLView (To Do)
	* Headers/NSOpenGL.h,
	  Headers/NSOpenGLView.h: Some improvements, compatibility and/or bug
	  fix. NSOpenGLView catches NSViewGlobalFrameDidChangeNotification.

2009-03-02 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSSliderCell.m,
	* Source/NSTableHeaderView.m,
	* Source/NSWindow.m,
	* Source/GSStandardWindowDecorationView.m,
	* Source/NSControl.m,
	* Source/NSScroller.m,
	* Source/NSTextView.m,
	* Source/NSComboBoxCell.m,
	* Source/NSStepperCell.m,
	* Source/NSCell.m: Replace nil with [NSDate distantFuture] in
	calls to nextEventMatchingMask:...dequeue:.

2009-03-01 20:17-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSApplication.m: Fix bug #24643.   Application icon is no
	stored correctly.

2009-03-01 Fred Kiefer <FredKiefer@gmx.de>

	* Resources/English.lproj/Localizable.strings: Regenerate this file.
	* Resources/German.lproj/Localizable.strings: Regnerate and add
	translation and escaping of non-ASCII characters.
	* Source/NSColor.m
	* Source/NSColorSpace.m
	* Source/NSPrintInfo.m
	* Source/NSAlert.m,
	* Source/NSWindow.m,
	* Source/GSPrintOperation.m,
	* Source/GSInfoPanel.m,
	* Source/GSNibLoading.m,
	* Source/NSToolbarItem.m,
	* Source/NSAttributedString.m,
	* Source/NSMenu.m: Add include of GSGuiPrivate.h for correct localization.
	* Source/NSAttributedString.m: Better handling of localization of
	error strings.

2009-02-26 00:35-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSLayoutManager.m: do not return (0,0) when a zero length
	range is passed into glyphRangeForCharacterRange:
	actualCharacterRange:.  Tests on Mac OS X indicate that this is
	a valid case.
	* Source/GSNibLoading.m: Fixed some memory leaks.
	* Source/NSRulerMarker.m: Use the bounds of the containing view
	instead of markersRect.   I will revisit if the _markersRect method
	needs to be corrected, but this code seems to correct problems
	observed when dragging markers in and out of the rulerView.

2009-02-23 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSSavePanel.m (-directory): Optimize last change.

2009-02-22 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSButtonCell.m: Changed all title methods to use the
	super string value methods and redefine the local string value
	methods to work with the object value.
	Patch by Matt Rice <ratmice@gmail.com>.
	* Source/GSThemeDrawing.m (-cellForScrollerKnobSlot:): Use
	setTitle: instead of setStringValue:.

2009-02-20 12:08-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSToolbarCustomizationPalette.m: Look up default items before
	calling the delegate like in NSToolbar.m.   This was causing an
	exception which prevented the panel from showing.

2009-02-18 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSServicesManager.m: Clean up update of services menu,
	removing useless check and obsolete code.

2009-02-18 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSApplication.m (NSAppIconView-setImage:): Protect
	against the item being nil.

2009-02-18 02:45-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibLoading.m: Rollback of previous change.  Found a
	minor problem.
	* Source/NSDrawer.m: Improvements to NSDrawer handling.

2009-02-17 23:09-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibLoading.m: use the new code committed to NSMenu to
	lay out the menu when vertical.  Get rid of the duplicate code here.
	* Source/NSDrawer.m: set the child window position when opening.
	* Source/NSMatrix.m: -_selectCell:atRow:column: Check to make
	sure the selectedRow and selectedColumn are > -1.  This check is
	done elsewhere and was not done here.  This was causing a crash.

2009-02-17 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSImageView.m (-initWithFrame:): Set non-editable as
	default. Fixes #25484.

2009-02-17 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMenu.m (-_organizeMenu): Try to better switch between
	Apple menu layout and ours.

2009-02-17 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSRulerView.m (+initialize): Correct version to be an integer.

2009-02-16  Adam Fedor  <fedor@gnu.org>

	* configure.ac: Look for libpng/png.h
	* Source/NSBitmapImageRep+PNG.m: Use found loction of png.h
	(Fixes #24111).

2009-02-16 Riccardo Mottola <rmottola@users.sf.net>

	* Source/NSCell.m (-setStringValue): Try to fix bugs in last change.
	Optimize in case of common string and check for nil.

2009-02-16 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSCell.m (-setStringValue:, -setObjectValue:): Try to fix
	bugs in last change.

2009-02-15 22:21-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSOpenPanel.m: Corrects bug #25471.  Only enable
	the OK button when a file the application can open is selected.

2009-02-15 19:38-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSCell.m: Change to implement 10.3 and later behavior for
	the method setStringValue: as documented in Apple's documentation
	for the method.  This behavior was observed on Cocoa under
	Mac OS 10.5.

2009-02-12 Riccardo Mottola <rmottola@users.sf.net>

	* Source/NSSavePanel.m: Return autoreleased copy of the directory
	string

2009-02-12 Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/make_services.m: Fix error parsing CFBundleURLTypes

2009-02-11 Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/make_services.m: Check applications for CFBundleURLTypes
	(see http://developer.apple.com/documentation/MacOSX/conceptual/BPRuntimeConfig/Articles/PListKeys.html)
	* Source/NSWorkspace.m: ([-openURL:]) try to open non-file URLs using
	an app found based on CFBundleURLTypes, and if that fails try to use
	any available 'OpenURL' service.

2009-02-11 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTheme.m: Fix typo in include
	* Source/NSTableView.m: Fix to compile with GC (reported by Lu Liyi)

2009-02-11 00:49-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSBundleAdditions.m:
	-[NSNibOutletConnector establishConnection] report exceptions when
	establishing a connection, but don't fail to load.

2009-02-10 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSToolbarFrameworkPrivate.h: Add method
	_setCustomizationPaletteIsRunning:.
	* Source/NSToolbar.m: (-runCustomizationPalette:): Code to run
	customization palette.
	* Source/NSToolbarItem.m (-copyWithZone:): Try to copy the view.
	* Source/GSToolbarCustomizationPalette.h
	* Source/GSToolbarCustomizationPalette.m: New files.
	* GNUmakefile: Add new files.
	* Panels/English.lproj/GSToolbarCustomizationPalette.gorm
	* Panels/English.lproj/GSToolbarCustomizationPalette.gorm/data.info
	* Panels/English.lproj/GSToolbarCustomizationPalette.gorm/data.classes
	* Panels/English.lproj/GSToolbarCustomizationPalette.gorm/objects.gorm
	* Panels/GNUmakefile: Add new panel.
	This is a stripped down version of the toolbar customization
	branch by Quentin Mathe <qmathe@club-internet.fr>.

2009-02-08 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSThemePrivate.h:
	* Source/GSTheme.m:
	* Source/NSImage.m:
	Move/rename new proxy code to GSTheme.m and declare it in
	GSThemePrivate.h so that all code in the GUI can use it
	(we will need to allow other resources to automatically update
	to the current theme, not just images).

2009-02-09 20:16-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSToolbar.m: (-windowDidUpdate:): Automatically update
	the toolbar on every window update.  This makes sure that
	no matter what window an event happens in the toolbar gets
	properly updated for ALL windows.

2009-02-08  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSWorkspace.m (-findApplications): Retain cached path of
	make_services tool.

	* Tools/GSspell.m (-init): Initialize language configuration
	variable used by the aspell checker.  This prevents a crash of
	the spelling server during its initialization.

	* Source/NSSavePanel.m (-browser:createRowsForColumn:inMatrix:):
	Make sure the contents of the initial directory is always shown.
	This should fix bug #25363.

2009-02-08 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSImage.m: Fix missing header.

2009-02-08 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBundleAdditions.m (NSNibOutletConnector
	-establishConnection): Use KVC call setValue:forKey: to establish
	the outlet connection. This will result in ivars being properly retained.

2009-02-08 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSImage.m: WARNING ... this change may have unforseen
	consequences.  Named images are replaced by proxies to the images
	so that all image drawing the the gui updates instantly when the
	theme changes.  It's possible that sme code uses the image in an
	unexpected way that the proxy does not support ... plase look out
	for that and report any problems so I can fix them.

2009-02-08 01:17-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSApplication.m: Added code to handle exceptions in
	-[NSApplication run].  Rudimentary implementation of default
	NSExceptionHandlerMask.

2009-02-07 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSTheme.h,
	* Source/GSTheme.m (-drawToobarRect:frame:borderMask:): New method
	for toolbar view drawing
	* Source/GSToolbarView.m (-drawRect:): Use new theme method.
	Clean up use of colours.

2009-02-07 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSThemeTools.m: Add a few checks for tile sizes
	* Source/GSTheme.m: Limit icon size to 48x48

2009-02-06 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTheme.m:
	* Source/GSThemeTools.m:
	* Source/GSThemePrivate.h:
	Improve tiling for matrix and for rectangles in flipped views.

2009-02-04 17:51-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSWindow.m: Correct compilation error.

2009-02-04 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSApplication.m: Don't attempt to set app icon until
	creating the window (if we are going to create it).
	Fix size checks when setting image to cope if window does not
 	exist (was previously the normal case) to avoid streams of X
	errors on most systems and segmentation fault on sparc.

2009-02-04 01:53-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibLoader.m: Correct the message to indicate an issue
	loading a nib, not a gorm, file.
	* Source/GSNibLoading.m: Uncomment the release in the dealloc
	method.
	* Source/NSApplication.m: Restrict the icon size to the size of the
	miniwindow if it's larger, but don't expand it, if it's smaller.
	* Source/NSLayoutManager.m: -initWithCoder: Initialize when
	loading a nib in the same way that we initialize when loading
	a gorm file.

2009-02-03 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSCell.m (-_sendActionFrom:): New helper method for
	action sending.

2009-02-03 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSNibLoading.m (NSButtonImageSource -initWithCoder:): Add
	missing retain of the named image.

2009-02-03 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTextContainer.m: Add some frame size checks.
	* Source/NSScrollView.m: ditto
	* Source/NSHelpPanel.m: Make sure we create with a reasonable size.

2009-02-01 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTextView.m (-dragSelectionWithEvent:...): Correct
	computation of attachment cell frame.
	* Source/NSParagraphStyle.m (NSMutableParagraphStyle
	-setParagraphStyle:): Set only existing text blocks and text lists.

2009-01-31 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSDisplayServer.m: Fix typo
	* Headers/Additions/GNUstepGUI/GSDisplayServer.h: ditto
	* Source/NSWindow.m: ditto
	* Source/GSTheme.m: Make color handling more efficient
	* Headers/Additions/GNUstepGUI/GSTheme.h: ditto
	* Source/GSThemeDrawing.m: ditto
	* Source/NSScrollView.m: ditto

2009-01-31 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSToolTips.m: Fix retain/release problem.
	* Source/NSToolbar.m: Add exception handler round unsafe code.

2009-01-30 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSThemeTools.m: Add checks to prevent problems in the case
	where the control being drawn is actually smaller than the tiles used.
	* Headers/AppKit/NSScreen.h:
	* Source/NSScreen.m: Cache device description dictionary ... when
	debugging the problem with theme tools (which caused a loop to
	repeatedly composite the tile image instead of doing it once), I
	noticed that almost every time I stopped the app in gdb, it was in
	the process of creating a device description, strongly suggesting
	that this is actually quite a time consuming part of drawing
	images.

2009-01-30 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSApplication.m: Try to get behavior to match MacOS-X
	by moving call to -updateWindows to be done before getting the
	next event.  Updating is done only if it was flagged as needing
	to be done since the last update, but if we are in NSDefaultRunLoopMode
	or NSModalRunLoopMode we automatically set the flag before handling
	each event ... so unless the application explicitly turns it off,
	it's always done in these modes.
	Might fix #25384
	* Source/NSView.m: Invalidate tracking rects when they are removed
	from the view.
	Might fix #25385

2009-01-29 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSParagraphStyle.m: Fix all copying code to handle
	textBlocks and textLists correctly.

2009-01-29 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSDisplayServer.h
	(-setPartentWindow:forChildWindow:),
	* Source/GSDisplayServer.m (-setPartentWindow:forChildWindow:):
	New method.
	* Source/NSWindow.m (-setParentWindow:, -_initBackendWindow): Use
	this new method.
	* Source/NSPopUpButtonCell.m (-attachPopUpWithFrame:inView:,
	-dismissPopUp):  Use child window mechanism for the popup menu.

2009-01-28 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow.m (GSWindowWithNumber): Protect against
	windowmaps not being set.

2009-01-27 15:28-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibLoading.m: Temporarily comment out the release of
	connections until we find the cause of some current crashes.  This
	will be reverted ASAP.
	* Source/NSDrawer.m: Don't slide the window out, just appear where it
	needs to be.

2009-01-27 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSAttributedString.h: Add missing MacOSX methods.
	* Source/NSAttributedString.m: Rewrote data loading and add
	setting of NSError.
	* Headers/AppKit/NSLayoutManager.h (-attachmentSizeForGlyphAtIndex:,
	showAttachmentCell:inRect:characterIndex:): Declare these missing
	methods.
	* Source/NSLayoutManager.m: Implement and use them.
	* Source/NSTextView.m (-dragSelectionWithEvent:...): Use layout
	manager attachment methods.

2009-01-26 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSAttributedString.m (-dataFromRange:...,
	-fileWrapperFromRange:...): Basic implementation.

2009-01-25 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSMenu.m: Keep the main menu in the main window (or visible
	if there is no main menu) when using microsoft style menus.
	* Source/NSWindow.m: If the main windows closes and it contains
	the main menu, unset the menu.

2009-01-25 11:51-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSMenuView.m: Return from the trackWithEvent: method
	if the indexOfActionToExecute is -1.

2009-01-25 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSWindowDecorationView.m:
	* Source/NSMenu.m:
	* Source/NSWindow.m:
	* Source/NSToolbarFrameworkPrivate.h:
	Tweaks to allow setting of a menu in a window (and unsetting it)
	repeatedly as you switch between themes.

2009-01-25 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSDocumentController.m (-_nameForHumanReadableType:): Also
	look at CFBundleTypeName.

2009-01-25 06:47-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSMenuView.m: Refactor code which executes the action
	of a menu item at a given index into a separate method to make it
	easier to override this behavior when necessary.   Added method
	_executeItemAtIndex:removeSubmenu:.

2009-01-25 Fred Kiefer <FredKiefer@gmx.de>

	* TextConverters/RTF/RTFProducer.m (RTFDProducer -produceFileFrom:...):
	Always create a directory, even for simple RTF files.

2009-01-25 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSDocument.m (-runModalSavePanelForSaveOperation:...):
	Correct the name of the selector being tested.

2009-01-24 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSDocumentController.m (-validateUserInterfaceItem:):
	Show newDocument: only if there is a default type.

2009-01-23 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSWindow.m: ignore invalid rects when checking
	tracking rectangles.

2009-01-23 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMenuView.m: Convert between the window and the view
	coordinate system.
	* Source/NSDocument.m (dataOfType:error:): Call dataRepresentationofType:
	when that method was overriden.
	* Source/NSDocument.m (writeToURL:ofType:error:): Use dataOfType:error:
	instead of dataRepresentationofType:.

2009-01-22 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSWindowDecorationView.m: Add handling of in-window
	menu. Simplify code for toolbar handling.
	* Source/NSToolbarFrameworkPrivate.h: Publish ne methods.
	* Source/NSWindow.m (-setMenu:): Set the menu as in-window menu.
	* Source/NSMenuView.m: Set the frame width to the screen width in
	setHorizontal: and not in sizeToFit.

2009-01-21 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSOutlineView.m: Don't ask if the topmost item is expandable.
	On MacOS-X the delegate is not asked ... we just assume that it is.
	Fix for bug #25369

2009-01-20  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSImage.m (-compositeToPoint:fromRect:operation:,
	-compositeToPoint:fromRect:operation:fraction:,
	-dissolveToPoint:fromRect:fraction:): Fix invalid return
	statements between NS_DURING and NS_HANDLER.

2009-01-19 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSAnimation.m (-_gs_startAnimationInOwnLoop): Use an auto
	release pool inside of the loop.
	* Source/NSAnimation.m: A bit of reformatting and clean up.

2009-01-18 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSAnimator.h: Remove unneeded ivar.
	* Source/GSAnimator.m: Remove retain cycle with NSAnimation and
	simplify implementation.
	* Source/NSAnimation.m: Replace NSDebugFLLog with NSDebugMLLog.

2009-01-18  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSMenu.m (-update, -setAutoenablesItems:, initWithCoder):
	Revert NSMenu changes from r27569.

	* Source/NSMenu.m (-update): Improve menu item validation by
	falling back to -validateUserInterfaceItem: if the validator
	doesn't respond to -validateMenuItem:.

	* Source/NSToolbarItem.m (-validate): Fix broken implementation.
	* Source/NSToolbarItem.m (-validateMenuItem:) Add implementation
	to validate menu items in text only representation and in an
	overflow menu.
	* Source/GSToolbarView.m (-overflowMenu): Validate each toolbar
	item before adding a menu item to an overflow menu. Also rename
	method to make its purpose clear.

	* Source/NSApplication.m (-targetForAction:to:from:): Make sure
	toolbar items are validated w.r.t. the responder chain of their
	respective window.
	* Source/NSApplication.m (-_targetForAction:keyWindow:mainWindow:):
	Helper method to consolidate target look up in the responder chain.

	* Source/NSWindow.m (-initWithContentRect:..., -setContentView:):
	Include a window's decoration view in its responder chain so that
	dynamic target look up works for toolbar items.

2009-01-17  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSDocument.m (-windowForSheet): Return nil if the
	document has no window controllers.

	* Source/NSWindow.m (-undoManager, -dealloc): Create an undo
	manager for a window when necessary.

	* Source/NSWindow.m (-sendEvent:): Don't activate an application
	upon a single click into a miniwindow.

2009-01-16 12:04-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSMenuItem.m: Retain the GSMenuSeparator instance if
	the menu item is a separator since we want to make sure the
	object isn't prematurely released.

2009-01-16 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSAnimation.m: _gs_startAnimationInOwnLoop hopefully fixed
	bug #25327

2009-01-12 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTextStorage.m: Change to use new GC finalization API.

2009-01-12 10:25-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibLoading.m: More documentation.

2009-01-12 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSButtonCell.m (-initWithCoder:): Replace the key
	equivalent when it was set wrongly by Gorm.
	Patch by Wolfgang Lux  <wolfgang.lux@gmail.com>.

2009-01-11 20:49-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibLoading.m: Reorganization and simplification of
	nib loading logic in NSIBObjectData.  Also documentation for
	NSIBObjectData and NSClassSwapper.

2009-01-10 15:49-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSToolbarItem.m: Added _sendAction: method to send
	the action with the NSToolbarItem instance as the sender
	when the toolbar item is represented by an NSMenuItem.

2009-01-09 23:09-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSMenu.m: Correction to previous change.  Update when
	setAutoenableItems: value is changed.  Altered update to
	enable menu items when autoenable is not being performed.

2009-01-09 22:53-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSMenuItemCell.m: encode menu item in encodeWithCoder:
	method.
	* Source/NSMenu.m: Add code to handle NSNoAutoenable
	* Source/NSPopUpButtonCell.m: Decode/encode selected index
	* Source/NSPrintInfo.m: Set orientation after the page size is
	known, since it has no effect when done earlier.

2009-01-09 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSColorWell.m: Fix bug #25278 after checking behavior on MacOS

2009-01-09 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSWindow+Toolbar.h,
	* Source/NSWindow+Toolbar.m: Remove these file and move all code ...
	* Headers/AppKit/NSWindow.h,
	* Source/NSWindow.m: ... to here.
	* Source/NSToolbarFrameworkPrivate.h,
	* Headers/AppKit/AppKit.h,
	* Source/GNUmakefile: Remove references to these files.
	* Source/NSToolbar.m (-_toolbarView): Create the toolbar view here
	and not in [NSWindow setToolbar:].

2009-01-08 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTheme.m: Fix nil pointer exception.
	* Source/NSScrollView.m: Fix to notice theme activation and support
	themed color for separators.

2009-01-07 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow+Toolbar.m,
	* Source/NSToolbar.m,
	* Source/GSToolbarView.m: Revert the relationship between
	NSToolbar and GSToolbarView, now the toolbar retains the view.

2009-01-07 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTheme.m:
	* Source/GSThemeDrawing.m:
	* Headers/Additions/GNUstepGUI/GSTheme.h:
	Add support for setting color of named parts.

2009-01-06 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSWindowDecorationView.m: No longer adjust the size of
	the content view, when a toolbar is added, removed or resized.

2009-01-06 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTheme.m:
	* Source/NSScroller.m:
	* Source/GSThemeDrawing.m:
	* Headers/Additions/GNUstepGUI/GSTheme.h:
	Extend element naming API to support temporary elements ... ones
	which are 'owned' by a particular theme instance and automatically
	removed when the theme deactivates.
	Changed scroller code to use this for the shared scroller parts.

2009-01-05 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSController.h,
	* Source/NSController.m: Add one 10.4 method.
	* Headers/AppKit/NSUserDefaultsController.h: Add one 10.4 method.
	* Source/NSUserDefaultsController.m: Fully implement class.

2009-01-05 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSScroller.m: Fixup/reorganisation of setting names for
	components parts of scroller for theming.
	* Source/GSThemeDrawing.m: Fix memory leak spotted by Fred.

2009-01-05 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepGUI/GSTheme.h:
	* Source/GSTheme.m:
	* Source/NSButtonCell.m:
	* Source/NSScroller.m:
	* Source/GSThemeDrawing.m:
	Add methods to name specific elements in the gui so that we can
	locate resources for them and so that override methods can handle
	them specially.
	Change tile image lookup for improved consistency/simplicity and
	to use new naming.
	Add naming of component parts of a scroller.

2009-01-04 18:32-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSToolbarView.m: Use ASSIGN as suggested.  This corrects
	the crash and fixes the leak caused by the previous change.

2009-01-04 16:45-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSToolbarView.m: Correct crash in toolbar, since the
	static constant was being released.

2009-01-04 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSDocumentController.m: Check only shouldCreateUI before
	callin makeWindowControllers. This is the behaviour reported for Cocoa.

2009-01-03 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSWindowDecorationView.m: Adopt the window size when
	adding or removing a toolbar, not the size of the content view.

2009-01-02 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow+Toolbar.m: Move window toolbar code from here ...
	* Source/GSWindowDecorationView.m: ... to here.
	* Source/NSToolbarFrameworkPrivate.h: Declare new window
	decoration view toolbar handling methods.
	* Source/NSToolbar.m: Use them.

2009-01-02 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSToolbarView.h: Remove now
	unneeded include of NSToolbar.h
	* Source/NSToolbarFrameworkPrivate.h: New header file with shared
	toolbar classes extensions.
	* Source/NSWindow+Toolbar.m,
	* Source/NSToolbar.m
	* Source/NSToolbarItem.m
	* Source/GSToolbarView.m: Use this new header file.

2009-01-02 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow+Toolbar.m,
	* Source/NSToolbar.m: Rewrote interaction with GSToolbarView.
	* Source/NSToolbar.m (_toolbarItemForIdentifier:): Fix memory leak.
	* Headers/Additions/GNUstepGUI/GSToolbarView.h,
	* Source/GSToolbarView.m: General cleanup of code.

2009-01-02 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSButtonCell.m: Fix to use the backgroundColor method when
	drawing a borderless button.
	* Source/NSScroller.m:
	* Source/GSThemeDrawing.m:
	* Headers/Additions/GNUstepGUI/GSTheme.h:
	Add in slightly modified version of Christopher Armstrong's code for
	theming for NSScroller.

2009-01-02 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepGUI/GSTheme.h:
	* Source/GSThemePanel.m:
	* Source/GSTheme.m:
	Simplify +initialize.  Set name properly on initialisation.  Hide
	private instance variables to make it easy to add new ones later.
	Refrain from displaying backup versions of themes in selection panel.

2009-01-01 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSToolbar.h,
	* Source/GSToolbar.m: Remove.
	* Source/GNUmakefile: Remove these files.
	* Headers/AppKit/NSToolbar.h,
	* Source/NSToolbar.m: Add code from GSToolbar plus some 10.4 methods.
	* Headers/Additions/GNUstepGUI/GSToolbarView.h,
	* Headers/AppKit/NSToolbarItem.h,
	* Source/GSToolbarView.m,
	* Source/NSWindow+Toolbar.m,
	* Source/NSToolbarItem.m: Change GSToolbar into NSToolbar.

2009-01-01 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSToolbar.h,
	* Source/GSToolbar.m,
	* Source/NSToolbar.m: Remove unused initializer.
	* Source/GSToolbarView.m: Remove method _setToolbar:, code is now
	in setToolbar:.
	* Source/NSWindow+Toolbar.m (-setToolbar:): Adopt to changes in
	GSToolbarView.

2009-01-01 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepGUI/GSTheme.h:
	* Source/GSTheme.m:
	New method to allow the name of a theme to be set rather than being
	derived from the bundle name.  This needed by Thematic.app (and
	perhaps also if we want to support arbitrary names in future).

2008-12-31 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow+Toolbar.m (-setToolbar:): Clean up the toolbar
	view of the old toolbar.

2008-12-31 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMenu.m
	* Source/NSPopUpButton.m,
	* Source/NSTextView.m,
	* Source/GSNibLoading.m: Add type casts to keep compiler happy.

2008-12-31 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSLayoutManager.h: Add some 10.5 methods.
	* Source/GSLayoutManager.m: Implement them.

2008-12-31 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSWindow.h: Use one of the spare ivars for toolbar.
	* Headers/AppKit/NSToolbar.h: Remove window ivar.
	* Source/NSWindow.m (-dealloc:): Unset the toolbar.
	* Source/NSWindow+Toolbar.m: Start to rewrite
	* Source/GSToolbar.m: Remove unused method declarations.
	* Source/GSToolbarView.m: Remove unused methods.
	* Source/NSToolbar.m: Remove all window related methods. Simplify
	the rest of the code.

2008-12-31 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow.m (-validateMenuItem:): Add validation for
	toolbar toggle method.

2008-12-30 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPrintOperation.m (_setupPrintInfo): Initialize
	viewPageRange before calling knowsPageRange:.

2008-12-30 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSToolbar.h (-_toolbars): Remove.
	* Source/NSWindow+Toolbar.m: Add [GSToolbar _toolbars] declaration
	here.
	* Source/GSToolbar.m,
	* Source/NSToolbar.m: Simplify by adding helper methods and
	removing dead code.
	* Headers/AppKit/NSToolbarItemGroup.h,
	* Source/NSToolbarItemGroup.m: New files.
	* Source/GNUmakefile: Add new files.
	* Headers/AppKit/NSToolbarItem.h: Add 10.5 methods and constants.
	* Source/NSToolbarItem.m: New methods and general rewrite.

2008-12-29 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSInfoPanel.m:
	Update name of current theme when it changes.
	* Source/GSThemeInspector.m:
	Display theme version number.

2008-12-29 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBrowser.m:
	* Source/NSPopUpButtonCell.m:
	* Source/NSBox.m:
	* Source/NSComboBoxCell.m:
	* Source/NSScrollView.m:
	* Headers/Additions/GNUstepGUI/GSTheme.h:
	Make code clearer by removing function and replacing it with
	method call so you can see what's actually going on and also
	be a little more efficient.

2008-12-29 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSHelpManager.m: Allow the GSHelpViewer user default to
	control how application help is displayed.
	* Documentation/GuiUser/DefaultsSummary.gsdoc: Document the new
	user default.
	* Headers/Additions/GNUstepGUI/GSTheme.h: New notifications and
	method to obtain system colors.
	* Source/GSTheme.m: Move stuff out into separate files.  Add new
	notifications for activation/deactivations.  Implement new method
	to provide system colors, making it easy for subclasses to replace
	the standard mechanism for dealing with colors.
	* Source/GSThemeInspector.m: The inspector for viewing a theme.
	* Source/GSThemePanel.m: The panel for viewing/selecting themes.
	* Source/GSThemeTools.m: Low level drawing tools.
	* Source/GSThemeDrawing.m: Methods for drawing control.
	* Source/GSThemePrivate.h: Internal API
	* Source/GNUmakefile: Changes to build new theme files.
	* Source/NSColor.m: Use new API for obtaining color list.

2008-12-28 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow.m: Remove left over traces of toolbar handling.
	* Headers/AppKit/NSWindow+Toolbar.h: Move some private methods
	from here ...
	* Source/NSWindow+Toolbar.m: ... to here.
	* Source/NSToolbarItem.m,
	* Source/GSToolbar.m,
	* Source/NSToolbar.m: White space clean up.

2008-12-28 Riccardo Mottola <rmottola@users.sf.net>

	* Source/NSClipView.m: removed C99-ism

2008-12-28 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSApplication.m: Add tiny bit of diagnostic logging for
	locating backend bundle.

2008-12-26 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSAttributedString.m (-initWithData:...,
	-initWithURL:...): Basic implementation.
	* Source/NSAttributedString.m
	(NSMutableAttributedString-readFromData:...): Implement.

2008-12-26 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSDocumentController.m: Remove now unused override helper
	method.
	* Headers/AppKit/NSDocument.h: Change to use NSUInteger and
	NSInteger. Add new 10.5 method
	* Source/NSDocument.m: Implement all Cocoa methods of this class
	and clean up the rest of the implementation.

2008-12-25 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSMenuItem.h: Declare to implement interface
	NSValidatedUserInterfaceItem.
	* Headers/AppKit/NSDocumentController.h: Change to use NSUInteger and
	NSInteger.
	* Source/NSDocumentController.m: Implement all Cocoa methods of this
	class and clean up the rest of the implementation.
	Partly using code by Nikolaus Schaller <hns@computer.org>.

2008-12-21  Adam Fedor  <fedor@gnu.org>

	* Version 0.16.0

2008-12-21  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextView.m (-draggingUpdated:): Avoid redundant call to
	-scrollPoint: when scrolling diagonally.
	* Source/NSTextView.m: Fix inconsistent naming of (private)
	NSTextStorage category.

	* Source/NSTextView_actions.m (-centerSelectionInVisibleArea):
	Replace the provisional implementation by a correct one.

	* Source/NSTextView_actions.m (-transpose): Fix implementation to
	really match the implementation of Emacs' transpose command.

2008-12-20 22:13-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibLoading.m: Read objects/accessibility and oids
	maps if we are in a gui builder so that data is accessible.
	* Source/NSActionCell.m: Don't archive target/action if they
	have no values.
	* Source/NSMenu.m: Only archive as "_NSMainMenu" if it has
	no parent and is not owner by a popup.
	* Source/NSPopUpButtonCell.m: Archive the default menu item
	which will show when this popup is displayed.

2008-12-20  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextView.m (-shouldChangeTextInRange:replacementString:):
	Fix a crash during undo/redo when a text storage is shared among
	multiple text views and some of these views are closed by
	recording the undo/redo operations for the text storage rather
	than the text view.

2008-12-20  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSApplication.m (-sendEvent:): Attempt to perform key
	equivalents in the key window before the main menu as on OS X.

2008-12-19  Nicola Pero <nicola.pero@meta-innovation.com>

	* All GNUmakefiles: removed GNUSTEP_CORE_SOFTWARE=YES and
	added PACKAGE_NAME=gnustep-gui.
	* GNUmakefile: Export PACKAGE_NAME to reduce chances of a problem
	if a GNUmakefile in a subdirectory is missing it.

2008-12-18  Nicola Pero <nicola.pero@meta-innovation.com>

	* All GNUmakefiles: added GNUSTEP_CORE_SOFTWARE=YES at the
	beginning.
	* GNUmakefile: Export GNUSTEP_CORE_SOFTWARE to reduce chances of a
	problem if a GNUmakefile in a subdirectory is missing it.

2008-12-17 21:20-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibLoading.m: Remove change which resets the bounds
	in NSCustomView as it was not needed and caused issues in some
	cases.

2008-12-16 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSWorkspace.m: Restore priority in lookup for Editors
	error in last change pointed out by David Ayers.

2008-12-16 19:41-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibLoading.m: Correct issue with setting next key view and
	previous key view.
	* Source/NSView.m: Comment out frame/bounds matrix calculation
	since they are done when needed.

2008-12-16 17:23-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibLoading.m: Changes to initialize bounds in
	NSCustomView.

2008-12-16 16:41-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSView.m: Add back in matrix initialization.

2008-12-16  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextView.m (-draggingUpated:): Scroll during dragging
	if the mouse pointer is close to the border of the view's visible
	rectangle.

	* Source/GSDragView.m (-handleEventDuringDragging:): Periodically
	send -draggingUpdated: messages to the dragging destination.

2008-12-16 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSWorkspace.m: Fix problem failing to recognise path extension
	where the role is blank.

2008-12-16 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSButtonCell.m (-setImage:): Call super implementation to
	make sure the button gets redrawn.
	* Source/NSWindow.m (-setContentView:): Don't do anything when
	setting the same view again.

2008-12-16 13:58-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibLoading.m: Make the log into debug in awakeFromNib
	* Source/NSApplication.m: Allow modal to end multiple times, per spec
	there is no exception for doing this.
	* Source/NSPasteboard.m: Allow multiple threads in pasteboard
	communication.

2008-12-16 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSImage.m (-drawRepresentation:inRect:,
	-lockFocusOnRepresentation:): Draw the background colour even when
	it is the clear colour. (Fixes issue on xlib backend)

2008-12-15 21:29-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Images/common_ToolbarCustomizeToolbarItem.tiff
	* Images/GNUmakefile: Add new image for toolbar customization.

2008-12-15 19:49-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibLoading.m: remove extraneous awakeFromNib call in
	nibInstantiateWithOwner:topLevelObjects:.

2008-12-15 18:37-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSNibLoading.h: Added methods to header
	which were added during refactoring.
	* Source/GSNibLoading.m: Corrections to NSCustomView, refactoring.
	Changes to initialization logic to call awakeFromNib.
	* Source/NSBundleAdditions.m: Cleanup to move code to the nib loading
	code.
	* Source/NSClipView.m: Added assertion to guarantee that no
	NSCustomView is unarchived at time of initWithCoder: being called.

2008-12-15 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMenuItemCell.m (-_keyEquivalentString): Ignore function
	keys as key equivalents.

2008-12-15 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSImage.m: White space changes and general clean up.
	* Source/NSImage.m (-removeRepresentation:): Remove also cached
	representations for the current one.
	* Source/NSImage.m (-_cacheForRep:): Don't invalidate a valid
	cached representation.
	* Source/NSImage.m: Move some code from _doImageCache: to
	lockFocusOnRepresentation:

2008-12-14  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSDocument.m (-addWindowController:,-removeWindowController:):
	* Source/NSWindowController.m (-setDocumentEdited):
	* Source/NSWindow.m (-_startBackendWindow):
	Ensure that new windows properly show their document edited status.

2008-12-14  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSDocumentFrameworkPrivate.h:
	* Source/NSApplication.m(-finishLaunching):
	* Source/NSDocumentController.m (-setAutosavingDelay:,
	-reopenDocumentForURL:withContentsOfURL:error:,	-_autosaveDirectory,
	-autosaveDocuments:, -reopenAutosavedDocuments,
	-recordAutosavedDocument:):
	* Source/NSDocument.m (-initForURL:withContentsOfURL:ofType:error,
	-writeWithBackupToFile:ofType:saveOperation:,
	-writeSafelyToURL:ofType:forSaveOperation:error:,
	-revertDocumentToSaved:, close, -setAutosavedContentsFileURL:,
	-autosaveDocumentsWithDelegate:didAutosaveSelector:contextInfo:,
	-_removeAutosavedContentsFile):
	Implement document autosaving.

2008-12-14  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSSavePanel.m (-browserDidScroll:): Perform column
	validation whenever the browser is scrolled, since only the
	contents of the visible columns is validated.

2008-12-13 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSImage.m: Reorganize the image caching code to make it
	easier to understand and change.

2008-12-12 19:36-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSOutlineView.m: Added change suggested by Doug in
	bug #25078.  This should fix the problem in SVN.

2008-12-12 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBrowser.m (-drawTitle:inRect:ofColumn:, -dealloc):
	Replaced the last fix here with a slightly better one that removes
	the ownership of the shared titlecell as soon as it isn't needed
	any more. The old code caused redundant redraws.

2008-12-12 02:04-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSNibLoading.h: Added new method
	nibInstantiateWithCoder: to do the initialization normally done
	in NSView when not in IB/Gorm.
	* Source/GSNibLoading.m: Added implementation of new method and
	also re-wrote part of NSCustomView.
	* Source/NSView.m: Added an NSAssert to assure that no subview
	ever decoded is an NSCustomView.

2008-12-12 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBitmapImageRep.m (-_convertToFormatBitsPerSample:...):
	Made the code a bit more tolerant on matching colour spaces during
	image conversion.

2008-12-10 02:31-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibLoading.m: Change code which adds subviews to use
	an enumerator.

2008-12-10 01:54-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibLoading.m: Add back code with adds in subviews from
	the custom view.

2008-12-10 01:37-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibLoading.m: (-[NSCustomView initWithCoder:]) replace
	with real object and also replace in the coder.

2008-12-09 23:26-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSGormLoading.m: (-[GSNibItem initWithCoder:]) initialize
	NSApplication and subclasses using sharedApplication.

2008-12-09  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextView_actions.m (-centerSelectionInVisibleArea:):
	Provide a provisional implementation.

	* Source/NSSavePanel.m (-setAllowedFileTypes:): Change extension
	of the file name if the current extension is no longer allowed.

2008-12-08 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSTextFieldCell.h: Declare new private method
	_drawBackgroundWithFrame:inView:.
	* Source/NSTextFieldCell.m: Change drawInteriorWithFrame:inView:
	into _drawBorderAndBackgroundWithFrame:inView:. And moved some
	code into _drawBackgroundWithFrame:inView:.
	Remove some minor optimisations to simplify code.
	* Source/NSTextFieldCell.m (-initWithCoder:): Correct memory leak
	and improve decoding.
	* Source/NSTextFieldCell.m (-encodeWithCoder:): Encode bezel style.
	* Source/NSTableHeaderView.m
	(-_drawBorderAndBackgroundWithFrame:inView:),
	* Source/NSBrowser.m (GSBrowserTitleCell
	-_drawBorderAndBackgroundWithFrame:inView:):  Use
	_drawBackgroundWithFrame:inView:.

2008-12-07 22:50-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSTableView.m: Switch to the alternate highlighting color
	only when the background is white.

2008-12-07 22:30-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSTableView.m: Change highlighting color so that it shows
	on both white and grey backgrounds.

2008-12-07 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindowController.m (-initWithWindow:,
	-initWithWindowNibPath:owner:, -initWithWindowNibName:owner:,
	-initWithCoder:): Made all initialisation methods a bit safer.
	Solves bug #25004.
	* Source/NSCachedImageRep.m(-draw): Don't draw an empty
	rect. Fixes the remaining issue of #22282.

2008-12-07  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextView.m (-mouseDown:): Start drag operation only
	after a single click into the selected range.

2008-12-07 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSSound.m:
	* Source/NSWorkspace.m:
	* Source/NSPasteboard.m:
	Use new method to locate tool executables which handles the addition
	of .exe extenstion for mingw.

2008-12-06  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSSavePanel.m (-_shouldShowExtension:isDir:,
	-browser:createRowsForColumn:inMatrix:):
	* Source/NSOpenPanel.m (-_shouldShowExtension:isDir:): The panels
	now use the information provided by NSWorkspace in order to
	identify file packages.

2008-12-06  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSSavePanel.m (-_reloadBrowser:, -setRequiredFileType:,
	-setAllowedFileTypes:, -setTreatsFilePackagesAsDirectories:):
	* Source/NSOpenPanel.m (-_setupForTypes:, -setCanChooseFiles:)
	-runModal..., -beginSheet...): Update the panels' browser when the
	list of visible file extensions is changed programmatically.

2008-12-06  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Headers/AppKit/NSSavePanel.h:
	* Source/NSSavePanel.m (-requiredFileType, -setRequiredFileType:,
	-allowedFileTypes, -setAllowedFileTypes:, -filename, -_resetDefaults,
	-_shouldShowExtension:isDir:):
	* Source/NSDocument.m (-changeSaveType:,
	-fileNameFromRunningSavePanelForSaveOperation:): Implement support
	for document types with multiple allowed file extensions.

	* Source/NSDocument.m (-writeWithBackuptoFile:ofType:saveOperation:):
	Bug fix: Do not modify the file name argument.

2008-12-06  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSSavePanel.m (-ok, -cancel:, -_setDefaultDirectory:,
	-_updateDefaultDirectory:, -_setupForDirectory:file:):
	* Source/NSOpenPanel.m (-ok:):
	* Source/NSDocumentController.m (-currentDirectory)
	(-reviewUnsavedDocumentsWithAlertTitle:cancelable:): Make open and
	save panels consistently start up in the last used directory by
	default.

2008-12-06  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Headers/AppKit/NSDocument.h:
	* Source/NSDocument.m (-isDocumentEdited, updateChangeCount:,
	hasUnautosavedChanges, changeWasDone): Fix bug where a document
	would appear unmodified after saving the document, undoing a
	number of changes, and then making an equal number of changes.

	* Source/NSDocument.m (-revertDocumentToSaved:): Reset the undo
	manager after reverting a document.

2008-12-06  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSDocument.m (-undo:, -redo:, -validateMenuItem:): Move
	implementation from here ...
	* Source/NSWindow.m (-undo:, -redo:, -validateMenuItem:): ... to
	here. Also validate close, miniaturize, and zoom actions.

2008-12-06 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSSound.m:
	* Source/NSWorkspace.m:
	* Source/NSPasteboard.m:
	* Source/GNUmakefile.preamble:
	Remove code which would not locate tools properly and fixup.

2008-12-03 22:38-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibLoading.m: Check to make sure the menu has more than
	0 entries in _setMain:.

2008-12-03 17:23-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSDocumentController.m: Fixed fileExtensionFromType:,
	bug #24894

2008-12-03 01:38-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSInfoPanel.m: -[GSInfoPanel initWithDictionary:]
	don't show authors in the info panel if there are none given
	in the dictionary.

2008-12-03 01:11-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSApplication.m: Always resize icon to 48x48 so that
	icons larger than this will display correctly.  Change made in
	setApplicationIconImage:.

2008-12-02 23:55-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibLoading.m: Added some new methods to address
	bug #24985.
	* Source/NSMenu.m: Removed some spaces after a close brace.

2008-12-02 19:45-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSApplication.m: Fix for bug #24785.

2008-12-02 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBrowser.m: fix uninitialised variable.
	* Source/GNUmakefile:
	* PrinterTypes/GNUmakefile:
	* Documentation/GuiUser/GNUmakefile:
	* Documentation/GNUmakefile:
	* Documentation/General/GNUmakefile:
	* Resources/GNUmakefile:
	* Panels/GNUmakefile:
	* GNUmakefile:
	* Printing/GSLPR/GNUmakefile:
	* ColorPickers/GNUmakefile:
	* Model/GNUmakefile:
	* Tools/GNUmakefile:
	* Tools/gsnd/GNUmakefile:
	* Images/GNUmakefile:
	Fix bug #24672
	* Tools/make_services.m:
	Fix bug #24990 ... was reporting debug output which should only have
	appeared when running in verbose mode.

2008-12-02 02:31-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibLoading.m
	* Source/NSButtonCell.m
	* Source/NSNibAXAttributeConnector.m
	* Source/NSNibAXRelationshipConnector.m
	* Source/NSNibBindingConnector.m
	* Source/NSNib.m
	* Source/NSProgressIndicator.m: Change to use new headers.

2008-12-02 02:07-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSNibCompatibility.h: Remove
	* Headers/Additions/GNUstepGUI/GSNibTemplates.h: Remove
	* Source/GNUmakefile: Update to reference new files.
	* Source/GSGormLoader.m: Change to reference the
	* Source/GSGormLoading.m: New gorm loading file.
	* Source/GSNibCompatibility.m: Removed.
	* Source/GSNibLoader.m: Reference the new file.
	* Source/GSNibLoading.m: New file containing the nib loading logic.
	* Source/GSNibTemplates.m: Removed.

2008-12-02 01:21-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Fix for bug #24979.   Change in
	initWithCoder: for NSCustomView to return the real object directly
	and call nibInstantiate.  Change to prevent double instantiation
	of NSApplication.

2008-12-02  Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSSecureTextField.m: Added initWithCoder: method which
	turns on bullets by default.

2008-11-30  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* install.sh: Fix header syntax and provide default for make
	command argument.

2008-11-30 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSLayoutManager.m: Fix uninitialised variable ... but is the
	fix correct?

2008-11-29 00:40-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Added back in _root assignment in
	-[NSIBObjectData initWithCoder:].  It's removal caused an issue with
	loading some nibs.

2008-11-28 15:20-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Correct issue when loading into
	Gorm.  NSClassSwapper should check to see if it's in the gui builder
	and return the appropriate class.

2008-11-27 10:07-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Corrected issue with using generic
	cells on some controls.

2008-11-27 Richard Frith-Macdonald <rfm@gnu.org>

	* NSSound.m:
	* NSWorkspace.m:
	* NSPasteboard.m:
	Cope with daemons being installed in any domain, not just system.

2008-11-27 01:27-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSWorkspace.m: [NSWorkspace getInfoForFile:application:type:]
	appName output parameter is set to nil if no application is found.

2008-11-27 00:48-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Minor correction to previous change.

2008-11-26 21:09-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Correct bug #24780.  There was an issue
	in NSClassSwapper when decoding classes which use cells from nib files.
	* Source/NSSecureTextField.m: Encode in encodeWithCoder and
	decodeWithCoder: a key for storing the bool _echosBullets.

2008-11-26  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextView.m (-undoReplaceCharactersInRange:...,
	-shouldChangeTextInRange:replacementString:): Improve
	implementation of undo and register redo operations.

2008-11-26 16:27-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/AppKit/NSWindow.h: Declaration for attachedSheet.
	* Source/NSWindow.m: Added skeleton implementation of attachedSheet.

2008-11-25  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSAttributedString.m (-doubleClickAtIndex:): Double
	clicking on a white space character also selects the surrounding
	white space as on OS X.

2008-11-24  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Headers/AppKit/NSTextView.h: Rename and change types of
	attributes related to drag and drop.

	* Source/NSTextView.m: Improve implementation of drag and drop so
	that an ongoing drag operation no longer changes the target view's
	current selection.

	* Source/NSTextView.m (-_characterIndexForPoint:respectFraction:):
	Always return a valid index.

	* Source/NSTextView.m (-mouseDown:): Omit check for valid index
	after calling _characterIndexForPoint:...

	* Source/NSTextView.m (-initWithCoder:): Avoid code duplication.

2008-11-23 18:56-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/AppKit/NSLayoutManager.h: Declarations for new methods
	to handle temporary attributes.
	* Source/GSNibCompatibility.m: Corrections to nib loading logic.
	* Source/NSLayoutManager.m: Skeleton implementations of new
	methods to handle temporary attributes.

2008-11-23 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSControl.m (-initWithCoder:): For keyed decoding make
	sure there always is a cell.

2008-11-23  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSTextView.m (-mouseDown:): Allow click into the current
	selection to start a drag operation.

	* Source/NSTextView.m (-draggingSourceOperationMaskForLocal:):
	Implement.

	* Source/NSTextView.m (-draggingEntered:, draggingUpdated): Set
	drag operation to NSDragOperationNone while text is dragged onto
	itself.

	* Source/NSTextView.m (-performDragOperation:): When performing a
	local drag operation delete the dragged text at its original
	location unless a copy operation was forced by the user.

	* Source/NSTextView.m (-readSelectionFromPasteboard:type:): Select
	dropped text.

	* Source/NSTextView.m (-updateDragTypeRegistration): Register drag
	types for non-rich text NSTextViews, too.

2008-11-22 20:46-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Further improvements to nib loading
	logic.

2008-11-21 23:12-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Remove calls to designated initializers
	for nib files.

2008-11-21 01:12-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibTemplates.m: Remove calls to designated initializers
	for gorm files as per documentation.

2008-11-20  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSWindow.m (-miniaturize:): Revert the previous change
	correcting bug #24707. A better fix for this is now in -back.

2008-11-19 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSCachedImageRep.m(-draw): Add hack to draw on a scaled
	context.

2008-11-17 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBezierPath.m: (-windingCountAtPoint:) Return 0 when the
	path is empty.

2008-11-17 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSApplication.m (-finishLaunching): Split up final
	notification sending into method _didFinishLaunching to allow
	supclasses to go between these calls.

2008-11-17 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSImage.m (-bestRepresentationForDevice:): Get the device
	desription from the window.

2008-11-16 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-setBounds:, -setBoundsSize:): Fixed bug in
	last change not getting the _boundsMatrix correct.

2008-11-15  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSSavePanel.m (-_setupForDirectory:file:): Abort editing
	for the file name's text cell before setting the passed in file
	name.

	* Source/NSDocument.m (-runModalSavePanel:withAccessoryView:):
	When the document has been saved already pass its file name to the
	save panel like on Mac OS X.

	* Source/NSControl.m (-drawRect): Make sure the cell's control
	view is always set up.

2008-11-14 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSScrollView.m (-setContentView:): Replaced last change
	with one inside of setContentView:.
	* Source/NSView.m (-setFrame:): One more adjustment for bounds
	transformation.

2008-11-14 00:40-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSScrollView.m: Correct issue with tableviews when
	loading nib files, corrected bug #24782.

2008-11-13 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-setBounds:, -setBoundsSize:, -setFrame:,
	-setFrameSize): Some more adjustments on the bounds transformation.

2008-11-12 05:31-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Conditionally call setToolTip if it
	exists when doing establishConnection on an NSIBHelpConnector.
	* Source/NSDocumentController.m: Correction to prevent exception when
	NSDocumentClass isn't specified.   This does not cause an issue on
	Mac OS X.

2008-11-11 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-setBoundsOrigin:, -setBoundsRotation:,
	-translateOriginToPoint:, -scaleUnitSquareToSize:,
	-rotateByAngle:): Reimplemented correctly.
	* Source/NSView.m (-_computeScale): New method.
	* Source/NSView.m (-_updateBoundsMatrix:, -setBounds:,
	-setBoundsSize:): Small changes.

2008-11-09 10:24-EST Saso Kiselkov
	Committed by: Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSSecureTextField.m: Patch to make bullets output when
	setEchosBullets is set to yes in NSSecureTextField.  Corrects
	bug #19761.

2008-11-08 10:09-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSDocument.m: Correction for bug#24758, add name and
	type information to the object before reading the file so that
	it is available during the readFile:ofType: method call.

2008-11-06 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBitmapImageRep.m (-_convertToFormatBitsPerSample:...):
	Filled with some more code. The conversion within the same colour
	space and be between black/white and RGB should now be correct and
	faster.

2008-11-05 Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSWorkspace.m (-isFilePackageAtPath:): Provide a working
	implementation.

	* Source/NSApplication.m (-targetForAction:forWindow:): Make
	NSApplication's responder chain for action messages consistent
	with Apple's documentation and the Mac OS X implementation.

	* Headers/AppKit/NSAlert.h:
	* Source/NSAlert.m (-beginSheetModalForWindow:...):
	Pass correct arguments to the didEndSelector.
	* Source/NSAlert.m (-_setupPanel): Fix swapping of title and
	informative message text in NSAlerts. Also supply a default title
	"Alert" if none is set.
	* Source/NSAlert.m (-addButonWithTitle:): Determine key equivalent
	of NSAlert buttons from their localized titles.

	* Source/NSAlert.m (-_initWithoutGModel):
	* Source/NSSavePanel.m (-_initWithoutGModel): Fix key view loop so
	that all buttons become reachable with the Tab key. Make Escape
	key equivalent of the Cancel button of NSSavePanel.

	* Source/NSButton.m (-keyDown):
	* Source/NSPopUpButton.m (-keyDown): Trigger action only after
	pressing the Space key.

2008-11-01 21:35-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSWindow.m: Reverted a previous change to miniaturize.
	This should correct bug #24707.

2008-10-31 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSNibCompatibility.m: Define the needed GSIARRAY
	constants, this helps against valgrind complaining.

2008-10-31 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBitmapImageRep+ICNS.m
	(icns_get_image32_with_mask_from_family):  Protect against buffer
	overfow detected by valgrind.

2008-10-29 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBrowser.m (-drawTitle:inRect:ofColumn:, -dealloc): Set
	and unset the ownership of the shared title cell.
	Patch by Matt Rice <ratmice@gmail.com>.

2008-10-24 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMenu.m (-indexOfItemWithTarget:andAction:): Compare the
	target for identity not equality.
	* Source/NSWindowController.m (+initialize,
	-initWithCoder:,-encodeWithCoder:): Add encoding and decoding, just
	calling super.
	Patch by Wolfgang Lux <wolfgang.lux@gmail.com>.
	* Source/NSApplication.m (-targetForAction:forWindow:): New helper
	method. Don't stop at the window itself, when going up the
	responder chain.
	* Source/NSApplication.m (-targetForAction:): Use the new helper
	method.

2008-10-23 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSWindowController.h: Make a subclass of NSResponder.
	* Source/NSWindowController.m (-setWindow:): Manage the responder
	chain.
	Patch by Wolfgang Lux <wolfgang.lux@gmail.com>.

2008-10-21  Adam Fedor  <fedor@gnu.org>

	* Source/NSBitmapImageRep+JPEG.m: Fix broken boolean definition.

2008-10-20 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSWindowDecorationView.h,
	* Source/GSWindowDecorationView.m
	(-contentRectForFrameRect:styleMask:,
	-frameRectForContentRect:styleMask): New instance methods.
	* Source/NSWindow.m: Use these new methods.

2008-10-19 Riccardo Mottola <rmottola@users.sf.net>

        * Source/GSServicesManager.m: dont unreigster non existent named port

2008-10-18 19:06-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSWindow.m: Remove code in stringWithSavedFrame which
	was causing a crash due to issues in NSToolbar described
	in bug#24601.

2008-10-18 Riccardo Mottola <rmottola@users.sf.net>

	* Source/NSWorkspace.m: Removed c99-ism

2008-10-17 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow.m (+initialize, -startBackendWindow:): Move the
	initialization of windowmaps to initialize.

2008-09-17 18:15-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSInfoPanel.m: Minor correction in initWithDictionary to
	display url properly, if it is not specified in the dictionary passed
	or if the dictionary is nil.

2008-09-17 17:52-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSWorkspace.m: Exclude list of reserved mount names from
	the results returned by -mountedLocalVolumePaths.

2008-09-14 13:18-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* install.sh: Adding install script for use by compile-all.

2008-09-08 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSInfoPanel.m (-keyDown:, -copy:): Added functionality to
	copy the text content of the info panel to the pasteboard.
	Fixes #23831.

2008-09-08 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSSavePanel.m (-browser:createRowsForColumn:inMatrix:):
	Use flushWindow instead of [GSCurrentContext() flushGraphics].
	Should fix #24200.

2008-09-08 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSCell.h: Move _sizeForBorderType to GSTheme.h
	* Headers/Additions/GNUstepGUI/GSTheme.h (-sizeForBorderType:,
	-drawBorderType:frame:view:, -sizeForImageFrameStyle:,
	-drawBorderForImageFrameStyle:frame:view:),
	* Source/GSTheme.m: New methods.
	* Source/NSCell.m (-cellSize, -drawingRectForBounds:,
	-_drawBorderAndBackgroundWithFrame:inView:),
	* Source/NSImageCell.m (-cellSize, -drawingRectForBounds:,
	-_drawBorderAndBackgroundWithFrame:inView:): Use new GSTheme methods.
	* Source/NSPopUpButtonCell.m: Include GSTheme.h
	* Source/NSButtonCell.m: Moved gradient drawing method to GSTheme
	and call it from _drawBorderAndBackgroundWithFrame:inView:.
	* Source/GSTheme.m (-drawGradientBorder:inRect:withClip:): New method.

2008-09-07 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBitmapImageRep+ICNS.m: Corrected last change.

2008-09-06 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBitmapImageRep+ICNS.m: Change the incosistently named
	constants not only in the usage but also in the definition.

2008-09-03 21:13-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSBitmapImageRep+ICNS.m: Correct minor issue with constant name.

2008-09-03 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBitmapImageRep.m (+imageUnfilteredFileTypes): Always
	enable icns format.
	* Source/NSBitmapImageRep+ICNS.m: Add drop in replacement code for
	libicns and clean up loading code.

2008-08-30 13:33-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* ChangeLog
	* Images/GNUmakefile: Remove reference to Images copyright file
	reference since they images are now under the GPL.

2008-08-30 13:32-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Images/GNUmakefile
	* Source/GSNibTemplates.m

2008-08-21  Yavor Doganov  <yavor@gnu.org>  (tiny change)

	* Source/GNUmakefile.preamble (LIBRARIES_DEPEND_UPON):
	Unconditionally link against $(OBJC_LIBS) on all platforms to
	avoid undefined symbols.
	Reported by Funda Wang (bug #24109).

2008-08-21 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBezierPath.m: ([transformUsingAffineTransform:]) corrected
	code which was casting an array of items of one type to be an array
	of items of another type whose size differs on 64bit machines.

2008-08-15 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow.m (-makeKeyAndOrderFront:): Unhide the application.
	* Source/NSApplication.m (-hide:, -unhideWithoutActivation):
	Better handling for miniaturized windows.
	Patch by Hubert Chathi <hubert@uhoreg.ca>.

2008-08-13 22:20-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSApplication.m: Removed icns string addition to rely on
	NSImage code to find the image.

2008-08-13 01:17-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSInfoPanel.m
	* Source/NSWorkspace.m
	* Tools/make_services.m: Added support for CF keys so that icons and
	document associations from document oriented apps written for Mac OS X
	can be ported more easily.

2008-08-12 21:53-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSApplication.m: Add logic to load the icns if it's specified
	as the icon file for an application.
	* Source/NSBitmapImageRep+ICNS.m: Limit the size of the representation
	to the 48x48 version.

2008-08-12 00:52-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* configure: Regenerated file
	* configure.ac: Added check for libicns. (http://icns.sourceforge.net/)
	* Headers/Additions/GNUstepGUI/config.h.in
	* Source/GNUmakefile: Added new files
	* Source/NSBitmapImageRep+ICNS.h: Header for ICNS category
	* Source/NSBitmapImageRep+ICNS.m: Implementation if ICNS reading
	logic.
	* Source/NSBitmapImageRep.m: Add support for the ICNS file
	format so that GNUstep can read Mac OS X icon files.   Uses
	the libicns library available from sourceforge.

2008-08-11 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow.m (-endEditingFor:): Change the first responder
	first to avoid recusion.

2008-08-09 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSGraphics.h: Add NSSetFocusRingStyle and type
	definition.
	* Source/Functions.m (NSSetFocusRingStyle): Add dummy implementation.
	Code by Nikolaus Schaller <hns@computer.org>.

2008-08-08  Adam Fedor  <fedor@gnu.org>

	* Source/NSBitmapImageRep+JPEG.m: Handle patched jpeg library
	found on CYGWIN.

2008-08-07 18:23-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/AppKit/NSTokenFieldCell.h
	* Headers/AppKit/NSTokenField.h: Headers for new class.
	* Source/GNUmakefile
	* Source/NSDocumentController.m: Added code to handle the
	CF keys as well as the NS keys for document oriented apps.
	* Source/NSTokenFieldCell.m
	* Source/NSTokenField.m: Start of implementation for this class.

2008-08-02 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSScrollView.m (-initWithCoder:): Handle non-retained
	ivars correctly.
	* Source/NSWindowController.m (-loadWindow): Release the loaded
	window once, as it got retained by the NIB loading mechanism.

2008-07-13 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSGlyphGenerator.m (-generateGlyphsForGlyphStorage:...):
	Add fallback glyph when no glyph can be found for current character.

2008-07-13 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSLayoutManager.m: Protect all access to the glyph arrays.

2008-07-12 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSLayoutManager.m (-_glyphForCharacter:index:positions::),
	* Source/NSGlyphGenerator.m (-generateGlyphsForGlyphStorage:...):
	Add some more protection against inconsistent state.

2008-07-12 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSSavePanel.m (-ok:): Standardize path before checking
	for existance.

2008-07-08 16:15-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSMenu.m: Beginning of support for windows style menus on the
	top of the window.
	* Source/NSWindow.m: Added code in the method -setFrameFromString: to
	make certain the window doesn't go out of bounds if the screen size
	changes.

2008-07-02 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSPopUpButton.h,
	* Source/NSPopUpButton.m (-selectItemWithTag:): Add MacOS 10.4
	method.

2008-06-17 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSClipView.m (_scrollToPoint:): New method for adjusted
	scrolling.
	* Source/NSScrollView.m: Use this new method.
	Patch by Benhur Stein <benhur.stein@gmail.com>.

2008-06-14  Adam Fedor  <fedor@gnu.org>

	* Version 0.14.0

2008-06-12  Adam Fedor  <fedor@gnu.org>

	* Source/NSCachedImageRep.m, Source/NSMenuItem.m, Source/tiff.m:
	Fix incorrect commits

2008-06-08  Adam Fedor  <fedor@gnu.org>

	* Revert library license version to 2 until applications
	can be converted.

2008-06-09 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow.m (-sendEvent:): Make the implemenation of the
	method prepareForDragOperation: non mandatory.

2008-06-09 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableView.m: Indentation changes.
	* Source/NSTextFieldCell.m ([-drawInteriorWithFrame:inView:]):
	Move editing check from here to ...
	* Source/NSControl.m (-drawRect:): ... here.

2008-06-02 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSNibCompatibility.m (NSWindowTemplate-initWithCoder:):
	Use default maxSize for window if none is given in the NIB file.
	* Source/NSButtonCell.m (-drawInteriorWithFrame:inView:): Adjust
	the image position if either the image or the text doesn't exist.

2008-05-28 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMenuItem.m (-setKeyEquivalent:): Warn about
	incompatibility with MacOSX.

2008-05-27 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSTheme.m (-tilesNamed:cache:): Make sure local variable
	is initialized before using it.

2008-05-25  Nicola Pero  <nicola.pero@meta-innovation.com>

	* Documentation/GNUmakefile.postamble (after-install): Use
	GNUSTEP_DOC instead of GNUSTEP_DOCUMENTATION and GNUSTEP_DOC_MAN
	instead of GNUSTEP_DOCUMENTATION_MAN.

2008-05-24 10:54-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/AppKit/NSWindow.h: Minor cleanup and spacing.
	* Source/GSNibTemplates.m: Removed call to designated init, since
	this is handled by the initWithCoder method in NSWindow.m.
	* Source/NSWindow.m: Correction for calling the designated initializer.
	Fix for bug#23336.

2008-05-21 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSAttributedString.m (-_substituteFontFor:font:fromList:):
	Limit the amount of character sets we cache.

2008-05-20 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableColumn.m (-initWithCoder:): Handle NSIsEditable.

2008-05-19 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSButtonCell.m (-encodeWithCoder:, -initWithCoder:):
	Correctly encode and decode image position in the keyed encoding case.

2008-05-19 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSGraphicsContext.m (-alloc, -allocWithZone:) New
	methods, use them in graphicsContextWithAttributes:.
	* Source/NSWindow.m: (-_startBackendWindow): New method for shared
	backend creation. Create the NSGraphicsContext as not
	autoreleased. Use that method in initWithWindowRef: and
	_initBackendWindow.
	* Source/NSWindow.m: (-dealloc): Remove last hack and make a bit
	safer against reentry.
	* Source/NSWindow.m (-_terminateBackendWindow): Reorder statements.
	* Source/NSWindow.m (-initWithContentRect:...screen:): Warn about
	second call to this method.

2008-05-14 21:55-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSLayoutManager.m: Changed unsigned int to NSUInteger
	per Fred Kiefer's suggestion.  This corrects a crash which was
	detected on 64 bit systems.

2008-05-15 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow.m: (-dealloc): Try to better cope with the
	circular reference between the window and the context.

2008-05-14 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSDocumentController.m: Cope with bad values in NSRecentItems

2008-05-13 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSGlyphGenerator.h,
	* Source/NSGlyphGenerator.m: New file.
	* Source/GNUmakefile: Add new files.
	* Headers/Additions/GNUstepGUI/GSLayoutManager_internal.h: More
	efficient memory usage for glyph runs.
	* Headers/Additions/GNUstepGUI/GSLayoutManager.h: Add ivar for
	glyph generator and some MacOSX methods.
	* Source/GSLayoutManager.m: Use objc_malloc, objc_free and
	objc_realloc. Move glyph generation into seperate class. Add
	documentation. General cleanup. Implement some of the additional
	methods.
	* Source/NSLayoutManager.m: Adopt to changes in super class.

2008-05-13 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSOpenPanel.m:
	* Source/NSSavepanel.m:
	Add code to handle the fact of ms-windows disk drives (multiple roots)
	by creating a pseudo-root directory with all the disk drives inside it.

2008-05-08 21:04-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSWindow.m: (-(void)miniaturize: (id)sender):
	Change to prevent miniwindow from disappearing.  Apparently uneccessary
	[self orderOut: self] was causing this issue.

2008-05-08  Adam Fedor  <fedor@gnu.org>

	* Source/NSBitmapImageRep+JPEG.m: Define HAVE_BOOLEAN to avoid
	problem with jmorecfg.h header on mingw.

2008-05-07  Adam Fedor  <fedor@gnu.org>

	* Source/NSSplitView.m (-adjustSubviews): Just return if there
	are no subviews.

2008-05-07 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow.m (-_terminateBackendWindow,
	-_initBackendWindow, -initWithWindowRef:): Break the retain cycle
	of the context keeping a reference to the window.
	* Source/NSCachedImageRep.m: Better checks for super calls
	returning nil.

2008-05-03 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSControl.m (-mouseDownFlags): Add old NeXT method, no
	longer present, but needed for backward compatibility.

2008-05-03 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableView.m (-selectRow:byExtendingSelection:,
	-selectColumn:byExtendingSelection:, -rectOfColumn:, -rectOfRow:):
	Don't raise an exception for invalid indexes.

2008-05-01 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableColumn.m (-initWithIdentifier:, -initWithCoder:):
	Check for self becoming nil.
	* Source/NSTableView.m (-columnWithIdentifier:): Allow the column
	identifier to be nil.

2008-04-28 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableHeaderView.m (-mouseDown:): Use new variable
	mouse_sensitivity (value 4) to determine whether the click is on a
	column border.
	Patch by Andreas Höschler <ahoesch@smartsoft.de>.
	* Source/NSTableHeaderView.m (-initWithFrame:, -initWithCoder:):
	Check for nil return from super call.

2008-04-27 18:42-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSWindow.m: Change to correct issue with NSWindow placement
	when toolbar is present.

2008-04-25 18:16-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibTemplates.m: Correct [GSNibTemplates deferredWindows] to
	properly return the deferredWindows ivar.

2008-04-08 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSOpenGLView.m (-openGLContext): Fix memory leak
	introduced by last change.

2008-04-08 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBezierPath.m (+drawPackedGlyphs:atPoint:): Use fill
	instead of stroke to draw the glyphs.

2008-04-07 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSFont.m (NSConvertGlyphsToPackedGlyphs): Store the glyph
	count in the first byte.
	* Source/NSBezierPath.m (-appendBezierPathWithPackedGlyphs): Send
	this method on to the graphics context.
	* Headers/AppKit/NSGraphicsContext.h,
	* Source/NSGraphicsContext.m
	(-appendBezierPathWithPackedGlyphs:path:): New method.

2008-04-04 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSFontInfo.h,
	* Source/GSFontInfo.m: New method glyphForCharacter:.
	* Source/GSFontInfo.m (-glyphIsEncoded:): Code based on
	coveredCharacterSet.
	* Source/NSFont.m (_defaultGlyphForChar:): New private method that
	matches Cocoa.
	* Source/GSLayoutManager.m (-_findSafeBreakMovingBackwardFrom:,
	-_findSafeBreakMovingForwardFrom:, -_generateGlyphsForRun:at:):
	Moved code from the art backend to here. Rewrote it in the process.

2008-04-04 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSScrollView.m: Correct indentation. Small cleanups.
	* Source/NSScrollView.m (-setDrawsBackground:): Set setCopiesOnScroll:.

2008-04-02  Nicola Pero  <nicola.pero@meta-innovation.com>

	* Source/NSSplitView.m ([-adjustSubviews]): Fixed the slow drift
	of the divider when the window is resized multiple times, due to a
	historical 'floor' call, now pointless.

2008-04-01  Nicola Pero  <nicola.pero@meta-innovation.com>

	Implemented -setAutosaveName: for NSSplitView.
	* Headers/AppKit/NSSplitView.h ([-setAutosaveName:],
	[autosaveName]): New methods.  New instance variable
	_autosaveName.
	* Source/NSSplitView.m ([-_autosaveSubviewProportions]): New
	method.  ([-mouseDown:]): Invoke _autosaveSubviewProportions at
	the end of the tracking. ([-adjustSubviews]): Rewritten to support
	loading autosaved subview proportions as well as proportionally
	resizing current ones.  ([-autosaveName], [-setAutosaveName:]):
	New methods.  ([-dealloc]): Release the new
	ivar.  ([-encodeWithCoder:]): Encode autosaveName using
	NSAutosaveName key.  ([-initWithCoder:]): If the NSAutosaveName
	key is set, decode it.

2008-04-01  Nicola Pero  <nicola.pero@meta-innovation.com>

	* Source/NSSplitView.m ([-adjustSubviews]): Removed unused
	variable and a few unnecessary method calls.

2008-03-31 Xavier Glattard <xavier.glattard@online.fr>

	* Source/NSOpenGLView.m: Use _lockFocusInContext:withRect instead of
	canDraw. Some changes to be closer to the specifications.

2008-03-31 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSOpenGLView.h: Add MacOS 10.3 method.
	* Source/NSOpenGLView.m: Clean up. Use canDraw instead of
	lockFocusInRect: as the entry point for context attachment.

2008-03-29 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSApplication.m (-terminate:): Initialize termination as
	NSTerminateNow.

2008-03-28 Xavier Glattard <xavier.glattard@online.fr>

	* Source/NSKeyValueBinding.m : turns a [setValue:forKey:] into
	a	[setValue:forKeyPath:] -- needed to bind to any NSControler
	'selection.a_key'

2008-03-26 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSApplication.m: fixed termination type code and added
	comments to avoid confusion.

2008-03-20  Nicola Pero  <nicola.pero@meta-innovation.com>

	* Source/NSTextFieldCell.m ([-drawInteriorWithFrame:inView:]): If
	the control view is in an editing mode, do nothing.  This fixes
	problems with transparency or anti-aliased fonts when selecting or
	editing textfields.

2008-03-20  Nicola Pero  <nicola.pero@meta-innovation.com>

	* Source/NSButtonCell.m ([-cellSize]): Restored horizontal space
	around text in autosized bezeled/bordered buttons not containing
	only an image so that the autosizing is correct again.

2008-03-19  Adam Fedor  <fedor@gnu.org>

	* Version 0.13.2

2008-03-17 21:00-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSView.m: Changes to beginPage:... and endPage to correct
	issues with blank space at the top of the page when printing.

2008-03-16 Riccardo Mottola <rmottola@users.sf.net>

	* Source/NSApplication.m : changed terminate type to BOOL
	  since it is one and the value froma delegate got wrongly
	  casted

2008-03-11 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBitmapImageRep.m (-_premultiply, _unpremultiply):
	Optimized a bit.
	* Source/NSBitmapImageRep.m (-draw): Premultiply the image before
	drawing.

2008-03-08 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSToolbarItem.m (-_setSelected:):
	Undo last hack and add a slightly better on.

2008-03-08 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSToolbarItem.m (GSToolbarButton-sendAction:to:):
	Add a recursion break hack. Needs to be cleaned up.

2008-03-08 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSOutlineView.m (-_initOutlineDefaults): New helper
	method extracting code from initWithFrame: and initWithCoder:.
	* Source/NSOutlineView.m (-itemAtRow:): Return nil for invalid row
	numbers.
	Patch by Quentin Mathe <qmathe@club-internet.fr>.

2008-03-05 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSWindow.m: deminiaturize window in -makeKeyAndOrderFront:
	(bug #22444) as I tested and confirmed that implicit deminiaturisation
	is done here on MacOSX.

2008-03-05 Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/make_services.m: Standardise paths to avoid error reports when
	two paths point to the same app.

2008-03-04 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSCell.m (-performClickWithFrame:inView:): Call
	sendAction:to: on control even when there is no action.

2008-03-01 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSKeyValueBinding.m
	(-observeValueForKeyPath:ofObject:change:context:): Ignore calls
	with empty change information.

2008-03-01 Nicola Pero <nicola.pero@meta-innovation.com>

	* Source/NSImageCell.m (scaleProportionally): Fixed
	NSScaleProportionally to scale images down, but never up.  Bug
	reported by Herb Otto <herbo@gmac.com>.
	* Headers/AppKit/NSImageCell.h: Documented the whole class.

2008-02-26 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSToolTips.m: Fix bug #22421

2008-02-25 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBitmapImageRep.m (-_premultiply, _unpremultiply): Flag
	the format as changed. Add fast path for 8 bit images.
	* Source/NSBitmapImageRep.m
	(-_convertToFormatBitsPerSample:...bitsPerPixel:) New helper
	method for image conversion. Not fully working.

2008-02-18 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMenuView.m: Change to better respect the size of the
	popup when displaying the menu.
	Reworked patch by Matt Rice <ratmice@gmail.com>.

2008-02-18 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPopUpButtonCell.m: Change version for encoding. Set
	preferred edge and arrow position when decoding old gorm files.
	New helper method for Gorm.

2008-02-17 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMenuView.m: White space cleanup.

2008-02-16 20:43-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSCell.m: Correction for bug#22332.
	* Source/NSSegmentedCell.m:
	* Source/NSSegmentedControl.m: Set up default values in init
	methods.

2008-02-16 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableColumn.m (-initWithIdentifier:): Set _width to 100
	and _min_width to 10.
	Patch by Quentin Mathe <qmathe@club-internet.fr>.

2008-02-12  Adam Fedor  <fedor@gnu.org>

	* Source/GSFusedSilicaContext.m: Make sure to allocate a
	mutable dictionary.

2008-02-12 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSFont.m (-initWithName:matrix:fix:screenFont:role:): Add
	fallback for more missing standard fonts (LucidaGrande).

2008-02-11 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-_viewWillMoveToWindow:,
	-_viewWillMoveToSuperview:): New methods with code from
	viewWillMoveToWindow: and viewWillMoveToSuperview:. The later are
	now empty to allow subclasses not to call the super implementation.
	* Source/NSWindow.m:
	Use these new methods in place of the old ones.

2008-02-08 Fred Kiefer <FredKiefer@gmx.de>

	* Images/LogoGNUstep.tiff: New files
	* Images/GNUmakefile: Install new files.
	* Source/GSInfoPanel.m (-initWithDictionary:): Add background
	logo. Old patch by Nicolas Roard <nicolas@roard.com>
	* Source/NSBitmapImageRep.m : Flag all created bitmaps as having
	or not having pre-muliplied alpha.
	* Source/NSBitmapImageRep.m (-setColor:atX:y:, -colorAtX:y:,
	-setPixel:atX:y:, -getPixel:atX:y:): Correct to handle most
	formats correctly.
	* Source/NSBitmapImageRep.m (-_premultiply, _unpremultiply): New
	helper methods.
	* Source/NSBitmapImage+PNG.m: Mark PNG images as not using
	pre-muliplied alpha.

2008-02-07 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSMenu.h,
	* Source/NSMenu.m (-_owningPopUp): New helper method.
	* Source/NSMenuView.m
	(-setWindowFrameForAttachingToRect:...popUpSelectedItem:):
	Special case for popups that don't use an item from the list.
	* Source/NSPopUpButtonCell.m (-setUsesItemFromMenu:): Create a
	menu item for the title.
	* Source/NSPopUpButtonCell.m (-setTitel:): Use the menu item, when
	not using an item from the menu.
	Reworked patch by Matt Rice <ratmice@gmail.com>.

2008-02-04 Fred Kiefer <FredKiefer@gmx.de>

	* Images/common_3DArrowLeft.tiff,
	* Images/common_3DArrowUp.tiff: New files
	* Images/GNUmakefile: Install new files.
	* Source/NSMenuView.m
	(-setWindowFrameForAttachingToRect:...popUpSelectedItem:):
	Implement preferred edge handling.
	* Source/NSPopUpButtonCell.m: Rewrote handling of preferred edge,
	arrow possition and pull down flag.

2008-02-04 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSHorizontalTypesetter.m
	(-breakLineByWordWrappingBefore:): Treat CJK characters as words.
	Patch by Yen-Ju Chen <yjchenx@hotmail.com>.

2008-02-03 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSButtonCell.m
	(-_drawBorderAndBackgroundWithFrame:inView:): Add direct check if
	the mouse is inside the cellFrame.

2008-02-02 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableHeaderCell.m,
	* Source/NSBrowser.m (GSBrowserTitleCell): Move border drawing
	into _drawBorderAndBackgroundWithFrame:inView:.
	* Source/NSBrowser.m (-setAllowsEmptySelection,
	-setAllowsMultipleSelection): Propagate changes on to matrixes.
	* Headers/AppKit/NSBrowser.h,
	* Source/NSBrowser.m: Stronger typing of variables.
	* Source/NSBrowser.m (-drawRect:): Don't draw window background colour.
	* Source/NSMatrix.m (-drawCellAtRow:column:): Don't call
	displayRect: when there is no background drawing.
	* Source/NSMatrix.m (-_drawCellAtRow:column:): Remove this method
	and replace call to it with -drawCellAtRow:column:.

2008-02-01 Fred Kiefer <FredKiefer@gmx.de>

	* Printing/GSCUPS/GSCUPSPrintInfo.m (-defaultPrinter): Use other
	CUPS functions to determine the default printer.
	Patch by Mark Tracy <tracy454@concentric.net>.

2008-01-26 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTextView.m (-copySelection, -pasteSelection): Add new X
	secondary selection behaviour.
	See http://www.freedesktop.org/wiki/Specifications/ClipboardsWiki

2008-01-19 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSFontInfo.m:
	* Source/NSFontDescriptor.m,
	* Source/NSTextBlock.m,
	* Source/NSWindow.m:
	Add imports to avoid warnings on Windows.
	* Source/NSMenu.m (-_organizeMenu): Change type of appItem to
	avoid compiler warning on Windows.

2008-01-19 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSDisplayServer.h
	(-setWindowdevice:forContext:),
	* Source/GSDisplayServer.m (-setWindowdevice:forContext:): New
	method replacing windowdevice:.
	* Headers/AppKit/NSGraphicsContext.h,
	* Source/NSGraphicsContext.m: Add new MacOSX methods and ivars.
	* Source/NSWindow.m (-_processResizeEvent): Simplified with new
	GSDisplayServer method.
	* Source/NSWindow.m (-_initBackendWindow, -initWithWindowRef:):
	Moved device interaction into backend. Requires corresponding
	change in backend!

2008-01-18 14:39-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSTheme.h
	* Source/GSTheme.m
	* Source/NSSegmentedCell.m: Moved drawing code to GSTheme.

2008-01-16 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSDragView.m (-_updateAndMoveImageToCorrectPosition):
	Add missing "!" in mask for local call.
	Patch by Andreas Schik <andreas.schik@web.de>.

2008-01-14 09:37-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/AppKit/NSSegmentedCell.h
	* Source/NSSegmentedCell.m: Removed _previous_segment, since it was
	redundant.

2008-01-14 09:17-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/AppKit/NSSegmentedControl.h
	* Source/NSSegmentedCell.m
	* Source/NSSegmentedControl.m: Correct tabbing.

2008-01-14 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSKeyValueBinding.m (+getBinding:forObject:): Correct bug
	in last change.

2008-01-13 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSBindingHelpers.h,
	* Source/NSKeyValueBinding.m: Add reverse value change methods.
	* Source/NSControl.m (-sendAction:to:): Send value change for binding.

2008-01-08 22:35-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/AppKit/NSSegmentedCell.h: Added rect ivar to cache frame.
	* Source/NSBundleAdditions.m: Minor formatting changes.
	* Source/NSController.m: Added ivars to encodeWithCoder:.
	* Source/NSNibBindingConnector.m: Added ivars to encodeWithCoder:.
	* Source/NSSegmentedCell.m: Changes to fully implement rendering
	of the cell.
	* Source/NSSegmentedControl.m: Changes to fully implement
	control.

2008-01-08 09:42-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSSegmentedCell.m: Code to draw and render text in
	segments.

2008-01-07 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSSegmentedCell.m: Added a bit more code.

2008-01-07 09:33-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/AppKit/AppKit.h
	* Headers/AppKit/NSSegmentedCell.h
	* Headers/AppKit/NSSegmentedControl.h
	* Source/GNUmakefile
	* Source/NSSegmentedCell.m
	* Source/NSSegmentedControl.m: Added initial implementation of
	NSSegmentedCell/NSSegmentedControl.

2008-01-07 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSTextView.h,
	* Source/NSTextView_actions.m,
	* Source/NSTextView.m: Add MacOSX methods and ivars.
	* Source/externs.m: Add NSTextView notification.

2008-01-05 15:25-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/AppKit/NSDrawer.h: Added new ivars.
	* Source/NSDrawer.m: Addition implementation of NSDrawer.  Corrected
	drag problem.  Added border.

2008-01-04 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTextContainer.m: Replace tabs with spaces.
	* Source/GSHorizontalTypesetter.m
	(-_getProposedRectFor:withLineHeight:) Extract proposed rect
	generation into separate method.
	* Source/GSLayoutManager.m (-_doLayoutToGlyph:,
	_doLayoutToContainer:): Implement based on code from _doLayout.
	* Source/GSLayoutManager.m (-_doLayout): Implement via
	_doLayoutToContainer:.
	* Source/NSTextView.m (-setHorizontallyResizable:,
	-setVerticallyResizable:): Set the width/height of the text
	container to max size, when resizable.

2008-01-03 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSStringDrawing.h: Include GSVersionMacros.h
	before using these macros.

2008-01-03 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSTextList.h,
	* Headers/AppKit/NSTextTable.h: New files.
	* Headers/AppKit/AppKit.h: Add these.
	* Source/NSTextList.m,
	* Source/NSTextTable.m,
	* Source/NSTextBlock.m,
	* Source/NSTextTableBlock.m: New files
	* Source/GNUmakefile: Add new source file.

2008-01-01  Adam Fedor  <fedor@gnu.org>

	* Version 0.13.1

2007-12-30 16:31-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/AppKit/PSOperators.h: Added dummy implementations for
	PSwindowlist and PScountwindowlist.

2007-12-30 12:30-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/AppKit/PSOperators.h: Added dummy PSWait method.
	* Source/GSNibCompatibility.m: Added warning when loading nib that has
	nil in some keys.

2007-12-30 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSFont.m (-initWithCoder:): Add missing RETAIN.

2007-12-25 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSMenu.h:
	* Source/NSMenu.m: Add MacOSX methods and delegate ivar.

2007-12-23 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMenuItem.m: Add KVB for enable.
	* Source/NSPopUpButton.m: Add KVB for selectedIndex.

2007-12-22 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-visibleRect:, -setHidden:, -hitTest:): Full
	support for hidding.
	* Source/NSWindow.m (-_checkCursorRectangles:forEvent:,
	-_checkTrackingRectangles:forEvent:): Ignore hidden views.

2007-12-19 Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/gopen.m: slight tidyup, improve comments,no functional changes.
	* Documentation/gopen.1: correct the derscription of the -a option to
	say that this opens the specified application when used without a
	file to open.

2007-12-17  Adam Fedor  <fedor@gnu.org>

	* Tools/GNUmakefile, configure.ac: Don't try to run make_services if
	we are cross-compiling.

2007-12-17 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableView.m (-setDataSource:): Make the data source
	method tableView:objectValueForTableColumn:row: optional.
	* Source/externs.m: Define some arbitray values for KVB markers.

2007-12-15 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSControl.m (-bind:...options:): Correct value binding.
	* Source/NSImage.m (+imageNamed:): Don't release, autorelease the image.

2007-12-15 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTextField.m: Move some KVB to NSControl, add binding
	for text colour.
	* Source/NSControl.m: Add some bindings from NSTextField plus
	NSValueBinding.

2007-12-13 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSBindingHelpers.h,
	* Source/NSKeyValueBinding.m: Rewrote KVB to use separate binding class.
	* Source/NSTextField.m,
	* Source/NSView.m: Use it here.

2007-12-12 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSNibBindingConnector.m (-establishConnection): Swap
	destination and source.
	* Source/NSKeyValueBinding.m: Started rework.

2007-12-12 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSKeyValueBinding.m (GSBindingUnbindAll): Return if table
	doesn't exist.

2007-12-11 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSKeyValueBinding.h,
	* Source/GSBindingHelpers.h,
	* Source/NSKeyValueBinding.m: Basic key value binding implementation.
	* Source/GNUmakefile: Add new source file.
	* Source/externs.m: Variables for key binding.
	* Source/NSTextField.m,
	* Source/NSView.m: Class specific key bindings.
	Patch by Chris Farber <chris@chrisfarber.net>.

2007-12-10 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSColor.m (-numberOfComponents, -getComponents:): Raise
	exception when called on abstract class. Increase teh values
	returned by real numberOfComponents by one to count in alpha.
	* Source/NSColor.m (+colorWithColorSpace:components:count:): Basic
	implementation.
	* Source/NSColor.m (-setFill, -setStroke:): Convert to
	NSDeviceRGBColorSpace first.
	* Source/NSColor.m (GSRGBColor-setFill, GSRGBColor-setStroke:):
	Actual implementation.

2007-12-10 Fred Kiefer <FredKiefer@gmx.de>

	* ColorPickers/GSColorSliderCell.h,
	* ColorPickers/GSColorSliderCell.m: New files split off from
	GSStandardColorPicker.h and GSStandardColorPicker.m.
	* ColorPickers/GNUmakefile: Add the new files.
	* ColorPickers/GSStandardColorPicker.h,
	* ColorPickers/GSStandardColorPicker.m: Remove split off code.
	* ColorPickers/GSRGBColorPicker.m,
	* ColorPickers/GSHSBColorPicker.m,
	* ColorPickers/GSColorSliderCell.m: Add support for dynamically
	displayed colour changes.

2007-12-09 Fred Kiefer <FredKiefer@gmx.de>

	* Documentation/gclose.1,
	* Documentation/gcloseall.1,
	* Documentation/set_show_service.1: New man pages by
	Dennis Leeuw <dleeuw@made-it.com>
	* Documentation/GNUmakefile: Add the new man page files.

2007-12-08 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSControl.m (-mouseDown:): Forward event, if not enabled.
	* Source/NSTextField.m (-mouseDown:): Send event to next
	responder not to super, if not selectable or disabled.
	* ColorPickers/GSStandardColorPicker.m (GSColorSliderCell):
	Corrected to work with horizontal and vertial views and for
	flipped ones.
	* ColorPickers/GSWheelColorPicker.m: Replace
	GSWheelColorSliderCell with GSColorSliderCell.

2007-12-07 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableView.m (-initWithCoder:): Don't create a header
	view, if there is none decoded.
	* Source/NSScrollView.m (-_synchronizeHeaderAndCornerView): Don't
	show corner view if there is no header view.
	* Source/NSPopUpButtonCell.m (-setMenu:): Select an emtry from the
	new menu.

2007-12-07 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSServicesManager.m: Fixup to add/remove menu items
	when the available items have changed.

2007-12-06 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-initWithCoder:): Handle NSFrameSize.

2007-12-03 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMenuItem.m (-initWithCoder:): Set state directly,
	otherwise the items gets into changesStatus mode.

2007-12-03 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-bitmapImageRepForCachingDisplayInRect:): Don't
	cache the image here.
	* Source/NSView.m (-cacheDisplayInRect:toBitmapImageRep:): Lock
	focus on the current view.
	* Source/NSApplication.m (-finishLaunching): Make sure we have a
	designated main window.

2007-12-02 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBezierPath.m (-encodeWithCoder:, -initWithCoder:):
	Corrected some of the encoding problems reported by
	Christopher Wojno <christopher@wojno.com>.
	* Headers/AppKit/NSTableView.h: Add missing new data source method.
	* Source/NSTableView.m (-encodeWithCoder:, -initWithCoder:):
	Better decoding of header view, corner view and drag masks.
	* Source/NSTableView.m (-_indexSetToArray:) New helper method.
	* Source/NSTableView.m (-_startDragOperationWithEvent:,
	-dragImageForRowsWithIndexes:...offset:, -_isDraggingSource,
	_writeRows:toPasteboard:): Support for new dragging methods.

2007-12-01 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSTableView.h
	* Source/NSTableView.m: Add MacOSX 10.4 methods.

2007-11-30 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSImage.m (-drawInRect:fromRect:operation:fraction:):
	Tread a zero source rectangle as the full image and clip to the
	image bounds.

2007-11-30 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSClipView.m: ([scrollToPoint]) reset cursor rectangles when
	view is scrolled.

2007-11-29 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSWindowController.m:
	* Source/GSDisplayServer.m:
	* Source/NSBox.m:
	* Source/NSFontManager.m:
	* Source/GSLayoutManager.m:
	* Source/NSWindow.m:
	* Source/NSLayoutManager.m:
	* Source/NSPrinter.m:
	* Source/NSPasteboard.m:
	* Source/NSToolbar.m:
	* Source/NSFont.m:
	* Source/NSOutlineView.m:
	* Source/NSTextView.m:
	* Source/GSToolbar.m:
	* Source/tiff.m:
	* Source/NSDataLinkPanel.m:
	* Source/NSTableView.m:
	* Source/NSSpellChecker.m:
	* Printing/GSLPR/GSLPRPrinter.m:
	* Tools/gcloseall.m:
	* Tools/gclose.m:
	Update includes to add NSEnumerator where needed and remove use of
	the deprecated Foundation/NSUtilities.h header.

2007-11-29 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSToolTips.m: Fix for #20861

2007-11-29 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSView.m: Call ([resetCursorRects]) whenever view frame or
	bounds are changed.

2007-11-29 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSCursor.m: ([-initWithImage:]) changed to use a hot point
	at 0,0 rather than 0,15 for MacOS-X compatibility ... the coordinate
	system of a cursor is flipped according to the MacOS-X docs.

2007-11-27 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSApplication.m (-replyToApplicationShouldTerminate:):
	Check wheter the application is still running to prevent cycles.
	* Source/GSNibCompatibility.m (NSCustomObject-awakeFromNib): Call
	awakeFromNib on the instantiated object.
	* Source/GSNibCompatibility.m (NSCustomView-nibInstantiate): Move
	subviews to instantiated view.
	* Source/Functions.m (NSDrawBitmap): Remove compiler warning.

2007-11-24 12:38-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Call awakeFromNib later in the nib
	unarchiving process.

2007-11-22 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSNibBindingConnector.m: Completed implementation.
	* Source/NSTableView.m (-_initDefaults): New method for shared
	default settings.
	* Source/NSTableView.m (-initWithFrame:, initWithCoder:): Use this
	new method.
	* Source/NSGraphicsContext.m (-GSDrawImage::): Moved implemenation
	to back.

2007-11-22 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSGraphics.h: Make NSDrawBitmap a real function.
	* Source/Functions.m (NSDrawBitmap): Implement via
	NSBitmapImageRep and GSDrawImage::.
	* Source/NSGraphicsContext.m (-GSDrawImage::): Implement via
	NSDrawBitmap::::::. To be subclassed in  backends.
	* Source/NSBitmapImageRep.m (-draw): Use GSDrawImage:: for drawing.

2007-11-11 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSCell.m (-initWithCoder:): Correct keyed decoding of
	setSendsActionOnEndEditing.
	* Source/tiff.m: Change mode field of chandle_t to char.
	Bugs reported by gcc 4.2

2007-11-09  Adam Fedor  <fedor@gnu.org>

	* Version 0.13.0

2007-11-05 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSFont.m (-initWithName:matrix:fix:screenFont:role:): Add
	fallback for missing standard fonts.

2007-11-03 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSControl.m,
	* Source/NSMenuItem.m (-initWithCoder:, -encodeWithCoder:): Better
	support for keyed encoding (Tag, separator,...).

2007-11-01 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBrowser.m (+initialize): Create titleCell here to have
	it available for browsers loaded from Gorm files.
	* Source/NSBrowser.m (GSBrowserTitleCell): Add method
	drawingRectForBounds: and correct drawWithFrame:inView:.
	* Source/NSBrowser.m (-displayAllColumns, -displayColumn:): Mark
	for redraw.

2007-11-01 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableView.m (-draggingUpdated:): Use
	currentDropOperation instead of NSTableViewDropAbove.
	* Source/NSDocument.m (-windowForSheet): Return nil instead of
	mainWindow, when there is no associated window.
	Patches by Wolfgang Lux <wolfgang.lux@gmail.com>.

2007-10-30  Adam Fedor  <fedor@gnu.org>

        * gnustep-gui.spec.in: Change Copyright to License.

2007-10-29 Fred Kiefer <FredKiefer@gmx.de>

	* COPYING: Add GPL file.
	* Change all files to use GPL 3 and LGPL 3.
	* Prepare for next release.

2007-10-28 01:44-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSTableView.m: reverted change to validateEditing to
	correct crashes.

2007-10-27 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableHeaderView.m (-drawRect:): Switch drawing cases for
	flipping.
	* Source/NSTableView.m (GSTableCornerView): Made flipped and
	adjust drawing code.

2007-10-11 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSDocument.m (-setPrintInfo:, -runPageLayout:): Move
	updateChangeCount: call from one method to the other.
	* Source/NSPageLayout.m (-okButtonClicked:,
	-cancelButtonClicked:): Use standard button return codes.
	* Source/NSTableView.m (-validateEditing): Initialize
	newObjectValue with nil.
	Patches by Wolfgang Lux <wolfgang.lux@gmail.com>.

2007-10-06 23:03-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSNibCompatibility.h
	* Source/GNUmakefile: Added new classes.
	* Source/NSNibAXAttributeConnector.m
	* Source/NSNibAXRelationshipConnector.m
	* Source/NSNibBindingConnector.m: Implementation of special
	connectors for Key-Value binding.
	* Source/NSSplitView.m: Added code for keyed coding

2007-10-02 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow.m (-deminiaturize:, -miniaturize:): Try to
	handle the case better, where GNUstep manages the mini window and
	the window decoration itself.
	Based on patch by Stefan Bidigaray <stefanbidi@gmail.com>.

2007-10-02 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPopUpButtonCell.m (-cellSize): Don't return zero size,
	when there are no items. Based on patch by Andreas Höschler
	<ahoesch@smartsoft.de>.

2007-10-01 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSDocument.m (-setFileName:, -fileURL:, -setUndoManager:
	-writeToURL:...error:): Small fixes of previous changes.
	Patch by Wolfgang Lux <wolfgang.lux@gmail.com>.

2007-09-30 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow.m (-cascadeTopLeftFromPoint:): Adopt the
	resulting next point to visible screen. Based on patch by
	Wolfgang Lux <wolfgang.lux@gmail.com>.

2007-09-13 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableView.m (-validateEditing): Set object value to
	nil, when formatting the string failed.
	* Source/NSActionCell.m (-intValue): Check flag in_editing before
	validating the editing.

2007-09-12 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSToolbarItem.m (GSToolbarButtonCell-drawInteriorWithFrame:inView:):
	Made working for a flipped view.

2007-09-11 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSSplitView.m (-displayRectIgnoringOpacity:inContext:):
	Implement this method instead of the two old display methods.

2007-09-11 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTextView.m (-drawRect:, -rectForCharacterRange:,
	-firstRectForCharacterRange:): Protect againt layoutmanager being nil.
	* Source/NSTableView.m (-validateEditing): Use setStringValue:
	when converting the string failed.
	* Source/NSTableView.m (-mouseDown:): Don't interrupt editing
	another cell, if the current string isn't valid.
	Patches partly by Andreas Höschler <ahoesch@smartsoft.de>.

2007-09-10 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPopUpButtonCell.m (-insertItemWithTitle:atIndex:):
	Select new item when there isn't any selection.

2007-09-10 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableHeaderView.m,
	* Source/NSSlider.m,
	* Source/NSProgressIndicator.m,
	* Source/NSButton.m (-isFlipped): Add fliiping.
	* Source/NSTableHeaderView.m (-drawRect:): Adjust for flipping.
	* Source/NSTabView.m: Mark as needing an isFlipped method.

2007-09-09 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow.m (-makeKeyAndOrderFront:): Use
	orderFrontRegardless instead of orderFront:.
	Patch by Yen-Ju Chen <yjchenx@gmail.com>

2007-09-09 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSTextField.h:
	* Headers/AppKit/NSTextFieldCell.h:
	* Source/NSTextField.m,
	* Source/NSTextFieldCell.m: Add new MacOSX 10.3 methods and
	constants.

2007-09-09 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSBitmapImageRep.h,
	* Headers/AppKit/NSResponder.h: Correct conditional compilation.
	* Headers/AppKit/NSWindow.h: Add new MacOSX 10.4 methods and constants.
	* Source/NSWindow.m: Basic implementation of new methods.
	* Source/GSStandardWindowDecorationView.m
	(-initWithFrame:window:): Get buttons from NSWindow.
	* Source/NSClipView.m,
	* Source/NSColorPanel.m,
	* Source/NSColorWell.m,
	* Source/NSComboBoxCell.m,
	* Source/NSDataLinkPanel.m,
	* Source/NSMatrix.m,
	* Source/NSMenuItemCell.m,
	* Source/NSPopUpButton.m:
	* Source/NSPopUpButtonCell.m:
	* Source/NSPanel.m:
	* Source/NSSavePanel.m:
	* Source/NSScrollView.m,
	* Source/NSScroller.m,
	* Source/NSTabView.m,
	* Source/NSTextField.m,
	* Source/GSInfoPanel.m,
	* Source/GSDragView.m,
	* Source/GSTitleView.m,
	* Source/GSToolTips.m,
	* Source/NSButton.m: Clean up includes.

2007-09-07 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSFontManager.m (-convertFont:toHaveTrait:,
	-convertFont:toNotHaveTrait:): Handle NSUnboldFontMask and
	NSUnitalicFontMask correctly.
	* Source/NSFontManager.m (-fontWithFamily:traits:weight:size:) Be
	more tolerant with traits set wrongly by backends.

2007-09-06 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSCell.h: Add ivar in_editing, which gets set,
	during the editing/selection of the cell.
	* Source/NSCell.m (-_setupTextWithFrame:..., endEditing:): Set/
	clear the in_editing flag.
	* Source/NSActionCell.m (-objectValue, -attributedStringValue,
	-intValue, -floatValue, -doubleValue, -stringValue): Check flag
	in_editing before validating the editing.

2007-09-05 Nicolas Roard <nicolas@roard.com>

	* Source/NSView.m (-scrollRect:by:): reversed the coordinates
	of destPoint (substract instead of add), to match OSX behaviour.
	* Source/NSClipView.m (-setBoundsOrigin): reversed the coordinates
	of the call to scrollRect:by:, to match OSX behaviour.

2007-09-05 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow.m (-sendEvent:, -selectKeyViewFollowingView:,
	-selectKeyViewPrecedingView:, -selectNextKeyView:,
	-selectPreviousKeyView:): Handle case when makeFirstResonder:
	fails.

2007-09-05 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSLayoutManager.m
	(-glyphIndexForPoint:...fractionOfDistanceThroughGlyph:): Don't
	ignore invisible glyphs.
	* Source/NSTextView.m (-_characterIndexForPoint:respectFraction:):
	New helper method.
	* Source/NSTextView.m (-characterIndexForPoint:): Correct to use
	screen coordinates.
	* Source/NSTextView.m (-draggingEntered:, -draggingUpdated:,
	-mouseDown:): Use new helper method.
	* Source/NSAlert.m (-_setupPanel): Check count of buttons.
	* Source/NSDocument.m (-setFileName:, -setFileURL:): Set url and
	file name always together.
	* Source/NSDocument.m (-dataOfType:error:,
	-fileWrapperOfType:error:, -readFromFileWrapper:ofType:error:,
	-readFromURL:ofType:error:, -writeSafelyToURL:...error:,
	-writeToURL:ofType:error:, -writeToURL:...error:,
	-printOperationWithSettings:error:): Set error to nil.
	Patches by Wolfgang Lux <wolfgang.lux@gmail.com>.

2007-09-04 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSActionCell.m (-objectValue, -attributedStringValue):
	Add validation of editing.

2007-08-31 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow.m (-makeFirstResponder:): When parameter is nil,
	set self as first responder and return YES.
	* Source/NSCell.m (-isEntryAcceptable:): Accept empty strings.
	* Source/NSTableView.m (-validateEditing): Check if delegate
	supports method, before calling it.
	* Source/NSTextField.m (-validateEditing): Accept empty strings.
	Patches partly by Andreas Höschler <ahoesch@smartsoft.de>.

2007-08-29 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSCell.h: Export more private drawing methods.
	* Source/NSCell.m (-_drawAttributedString): New helper method to
	get the attributed string which should be drawn.
	* Source/NSCell.m (-drawInteriorWithFrame:inView:): Use this method.
	* Source/NSSecureTextFieldCell.m: Implement -_drawAttributedString
	instead of -drawInteriorWithFrame:.
	* Headers/AppKit/NSFormCell.h,
	* Headers/AppKit/NSForm.h: Add MacOSX 10.4 methods.
	* Source/NSForm.m: Implement these methods.
	* Source/NSFormCell.m: Implement these methods. Rewrote drawing
	code. Remove the color change notification handling.

2007-08-28 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSApplication.m (-_windowWillClose:): Don't call
	resignKey on the window. Reorganise the code some more and add comments.
	* Source/NSWindow.m (-_lossOfKeyOrMainWindow): Check all windows
	whether they could take key or main status.

2007-08-28 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSCell.m (+initialize): Increase version number.
	* Source/NSCell.m (-initWithCoder:): Correct values for the
	decoded action mask, as they changed on 2007-08-03.
	Fixes bug #20884.

2007-08-24 22:33-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSButtonCell.m: Added code in encodeWithCoder: to allow
	encoding previous versions of the object to the archive.

2007-08-22 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSFontPanel.h: Add MacOSX 10.3 constants.

2007-08-21 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSAttributedString.m (-fixFontAttributeInRange:): Ignore
	characters below 31.
	Patch by Yen-Ju Chen <yjchenx@gmail.com>

2007-08-20 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow.m (-sendEvent:): For the left mouse down case
	make sure that the affected view is still valid after activating
	the application and making the window key.

2007-08-20 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSInputManager.m (-handleKeyboardEvents:client:): Set the
	isFunctionKey boolean correctly. This was needed as the
	NSFunctionKeyMask value doesn't fit in the first byte.

2007-08-19 21:18-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSController.m
	* Source/NSObjectController.m: Remove calls to debug method.

2007-08-19 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSButton.m ([performKeyEquivalent:]): Only test for modal
	window when it isn't nil.

2007-08-16 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSFontManager.h,
	* Source/NSFontManager.m: Add MacOSX 10.3 methods and constants.
	* Source/NSWindow.m (-setHasShadow:): Add backend call.

2007-08-14 23:24-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSManagedObjectContext.h
	* Source/NSManagedObjectContext.m: Add managed object context.

2007-08-14 23:22-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/AppKit/NSController.h: Added new ivar.
	* Headers/AppKit/NSObjectController.h: Added new ivar.
	* Source/GNUmakefile: Added NSManagedObjectContext.[hm].
	* Source/NSController.m: Add keys for nib encoding/decoding.
	* Source/NSObjectController.m: Add keys for nib encoding/decoding.

2007-08-15 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSDisplayServer.h (-setShadow::),
	* Source/GSDisplayServer.m (-setShadow::):
	Add new method for shadow.

2007-08-12 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSAttributedString.m (-_substituteFontWithName:font:):
	Let the font manager handle the font convertion.
	* Source/NSPrintOperation.m (_print): Don't adjust page when page
	range is known.

2007-08-09 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSAttributedString.m (-fixFontAttributeInRange:):
	First attempt at font attribute fixing.

2007-08-08 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSFont.h: Add MacOSX 10.4 methods and constants.
	* Source/NSFont.m: Add MacOSX 10.4 methods. Remove
	NSFontDescriptor code.
	* Source/NSFont.m (+initialize): Read in preferred fonts from user defaults.
	* Headers/AppKit/NSFontDescriptor.h: Clean up includes.
	* Source/NSFontDescriptor.m: New file, split out from NSFont.m.
	* Source/externs.m: Moved NSFontDescriptor strings to here.
	* GNUMakefile: Add NSFontDescriptor.m

2007-08-08 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSScreen.h: Add method userSpaceScaleFactor.
	* Source/NSScreen.m: Implement userSpaceScaleFactor. Correct
	mainScreen. Listen to NSApplicationDidChangeScreenParametersNotification.
	Get default menu height from NSMenuView. General cleanup.

2007-08-07 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSButtonCell.m (-initWithCoder:),
	* Source/NSMenuItem.m (-initWithCoder:): Adopt to changed values
	for _keyEquivalentModifierMask. These have changed through the
	NSEvent.h change.

2007-08-03 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-displayIfNeededInRectIgnoringOpacity:):
	Correct spelling in comment.
	* Headers/AppKit/NSLevelIndicatorCell.h: Add ivar for cell frame.
	* Source/NSLevelIndicator.m (-rectOfTickMarkAtIndex:, -cellSize): Implement.
	Patch by Christopher Elsmore <elsmorian@gmail.com>.

2007-08-03 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSDocumentController.h,
	* Source/NSDocumentController.m (-maximumRecentDocumentCount): Add
	missing method.
	* Headers/AppKit/NSEvent.h,
	* Source/NSEvent.m: Add MacOSX 10.4 methods and constants. Resort
	event types to be binary compatible to MacOSX.
	* Source/Functions.m (NSEventMaskFromType): Remove.
	* Source/NSWindow.m (-sendEvent:): Handle new event types.

2007-08-03 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSWorkspace.m: ([-launchedApplications]) complete and tidy
	code to check existence of launched apps.
	Revert code to check for apps that are not responding ... MacOS-X
	reports hung apps, so we should do the same.

2007-08-02 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSWorkspace.m: ([-launchedApplications]) check that each app
	is still responding if it's more than 30 seconds since the last check.
	If possible, check that processes still exist.

2007-07-31 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSColorPanel.h: Add constant for
	NSCrayonModeColorPanel.
	* Headers/AppKit/NSComboBox.h,
	* Source/NSComboBox.m: Add MacOSX 10.3 methods.
	* Headers/AppKit/NSComboBoxCell.h,
	* Source/NSComboBoxCell.m: Add MacOSX 10.3 methods.

2007-07-31 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSColorSpace.h,
	* Source/NSColorSpace.m: New files.
	* GNUMakefile: Add NSColorSpace.
	* Headers/AppKit/NSColor.h,
	* Source/NSColor.m: Add MacOSX 10.4 methods.
	Code mostly by Nikolaus Schaller <hns@computer.org>.

2007-07-28 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSBrowser.h,
	* Source/NSBrowser.m: Add MacOSX 10.3 methods and constants.
	* Source/externs.m: Define new string constant.

2007-07-27 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSBox.h,
	* Source/NSBox.m: Add methods and ivar for box type and
	encode/decode it.

2007-07-26 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSBitmapImageRep.h,
	* Source/NSBitmapImageRep.m: Add MacOSX 10.4 methods and constants.
	Code mostly by Nikolaus Schaller <hns@computer.org>.
	* Source/externs.m: Enable new string constant.

2007-07-25 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSApplication.h: Correct comment.
	* Source/NSApplication.m: Add error presenting methods.

2007-07-24 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSApplication.h,
	* Source/NSApplication.m: Add MacOSX 10.4 method declarations.
	* Source/externs.m: Define new string constant.

2007-07-23 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSAnimation.h: Remove unneeded includes.
	* Headers/Additions/GNUstepGUI/GSAnimator.h: Correct line endings.
	* Source/GSAnimator.m: Correct line endings and coding style.

2007-07-23 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSCell.h,
	* Source/NSCell.m,
	* Source/NSActionCell.m (-setControlView:): Add MacOSX 10.4 method.
	* Headers/AppKit/NSAlert.h,
	* Source/NSAlert.m (+alertWithError:): Add MacOSX 10.4 method.

2007-07-18 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSPrintInfo.h,
	* Source/NSPrintInfo.m (-imageablePageBounds,
	-localizedPaperName): New MacOSX method. Plus some general clean up.
	* Source/NSPrinter.m (-stringListForKey:inTable:,
	-isKey:inTable:): Don't raise exception on missing table.
	* Source/NSPrinter.m (-statusForTable:) Add check for corrct class.

2007-07-09 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSAffineTransform.m (-rectInMatrixSpace:, -translateToPoint:,
	-makeIdentityMatrix): Use optimized primitive methods from base.
	* Source/NSAffineTransform.m (-scaleTo::): Try to handle rotation
	case better.
	* Source/NSView.m (-scaleUnitSquareToSize:): Adjust origin too and
	handle rotation case.
	* Source/NSView.m (-setBounds:, setBoundsOrigin:): Try to handle
	rotation case better.

2007-07-04 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSCell.m (-encodeWithCoder:): Try to better key encode
	the contents of the cell.

2007-07-04 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPrintOperation.m (NSView-_displayPageInRect:withInfo:),
	* Source/NSView.m (-_rebuildCoordinates, -initWithFrame:,
	-initWithCoder:, -dealloc, -_updateBoundsMatrix, -setBounds:,
	-setBoundsOrigin:, -setBoundsRotation:, -boundsRotation,
	-_lockFocusInContext:inRect:):
	Create _boundsMatrix only when needed and protect all uses of it.
	* Source/NSView.m (-initWithCoder:): Remove call to
	setFrameOrigin: on frame matrix.

2007-07-04 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTextField.m (-isFlipped): Report the text field as
	being flipped.

2007-06-29 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSSecureTextFieldCell (-drawInteriorWithFrame:): Add
	some support for bullet echoing and a comment on the missing bits.

2007-06-28 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-_lockFocusInContext:inRect:): Ignore the frame
	origin when computing the clip area.

2007-06-27 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-setBoundsRotation:): Ignore the frame origin
	when computing the bounds.
	* Source/NSView.m (-drawPageBorderWithSize:): Remove test code
	accidentally introduced in last change.

2007-06-26 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSView.h: Add new MacOSX methods.
	* Source/NSView.m: Basic implementation of new MacOSX methods.
	Rewrote all the display* methods to use the new method
	[displayRectIgnoringOpacity:inContext] and made them more
	consistent. Add some documentation for the display mechanism.
	* Source/GSPDFPrintOperation.m (-_print),
	* Source/GSEPSPrintOperation.m (-_print),
	* Source/NSPrintOperation.m (NSView-_displayPageInRect:withInfo:):
	Use new method [NSView displayRectIgnoringOpacity:inContext:].
	* Source/NSView.m (-endPage): Add DPSgrestore() call.

2007-06-23 10:43-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/AppKit/NSObjectController.h
	* Source/NSObjectController.m: Changed "class" to "aClass" to
	avoid issues with ObjC++ compilation in both the header and the
	.m file for consistency.  This change was suggested by Rob Burns
	and he provided a short patch via IRC.

2007-06-22 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSView.m: When setting frame and bounds, refrain from
	doing anything if the values set are the same as the of values.
	When setting frame size or rotation, update the bounds too (attempt
	to fix bug #20057).

2007-06-18 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSAttributedString.h: Add new MacOSX methods and
	constants.
	* Source/NSAttributedString.m: Basic implementation of new
	methods.
	* Source/externs.m: Define new string constants.
	* Headers/AppKit/NSImageView.h: Add new MacOSX methods.
	* Source/NSImageView.m: Basic implementation of new methods.
	* Headers/AppKit/NSStringDrawing.h: Add new MacOSX methods.
	* Source/NSStringDrawing.m: Basic implementation of new methods.
	* Headers/AppKit/NSParagraphStyle.h: Add new MacOSX methods.
	* Source/NSParagraphStyle.m: Implementation of new methods.
	Code by Nikolaus Schaller <hns@computer.org>.
	* Headers/AppKit/NSTextStorage.h,
	* Source/NSText.m,
	* Source/GSLayoutManager.m,
	* Source/NSLayoutManager.m,
	* Source/GSStandardWindowDecorationView.m,
	* Source/GSHorizontalTypesetter.m,
	* Source/NSMenuItemCell.m,
	* Source/GSTitleView.m,
	* Source/NSTextView_actions.m,
	* Source/NSTextView.m,
	* Source/NSToolbarItem.m: Clean up includes.

2007-06-18 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSGraphicsContext.h: Declare new printing
	methods.
	* Source/NSGraphicsContext.m: Implement Postscript printing methods.
	* Source/NSPrintOperation.m: Move _endSheet method into NSView.
	* Source/NSView.m: Use printing methods from NSGraphicsContext.

2007-06-07 Sergii Stoian <stoyan255@gmail.com>

	* Source/NSBrowser.m: ([drawWithFrame:inView:]) Pass inset rect by
	1 to drawInteriorWithFrame:.

	* Source/NSSavePanel.m: ([_initWithoutGModel]) Change propeties of
	buttons: remove setting buttons type (by default
	NSMomentaryPushInButton); refuse first responder for buttons.
	Set setImageDimsWhenDisabled:NO to image button. Cleanup.

2007-06-03 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSOpenPanel.m: In -filenames append name to directory using
	the standard method rather than by concatenating them joined by a
	slash.  Might fix bug #19929 but even if it doesn't cure that, it
	certainly fixes an error.

2007-05-28 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSView.m: ([scrollRect:by:]) restrict scrolled rectangle to
	the bounds of the view.

2007-05-23 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPrintOperation.m
	(-runOperationModalForWindow:...contextInfo:,
	-_printOperationDidRun:returnCode:contextInfo:) Only set and use
	GSModalRunDelegate and GSModalRunSelector values when not nil.

2007-05-17 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSFont.m: Revert incorrect matrix equality test change.

2007-05-16 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/AppKit/NSFontDescriptor.h: tidied indentation etc.
	* Source/NSFont.m: Tidied for coding standards.  Fixed memory leak.
	Fixed error in matrix equality test.

2007-05-16 Riccardo Mottola <rmottola@users.sf.net>

	* Headers/AppKit/NSFontDescriptor.h : added from mgstep
	* Source/NSFont.* : added font descriptor related methods and
	  NSFontDescriptor implementation
 	* GNUMakefile: added NSFontDescriptor

2007-05-16 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTextAttachment.m: For MacOS-X compatibility, don't call
	([-setAttachment:]) on the cell if the cell class doesn't implement
	it.

2007-05-10 Riccardo Mottola <rmottola@users.sf.net>

	* Source/NSAnimation.m: removed some C99-isms
	* Source/NSBitmapImageRep+GIF.m : removed some C99-isms
	* Source/NSDocument.m : removed some C99-isms

2007-05-10 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSAnimation.m: removed some C99-isms and simplified by
	removing attempt to avoid locking when in single threaded mode.
	* Headers/AppKit/NSAnimation.h: added an ivar and FIXME comments.

2007-05-08 Riccardo Mottola <rmottola@users.sf.net>

	* Source/NSAnimation.m: removed some C99-isms

2007-04-29 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSButtonCell.m
	* Source/NSMenuItemCell.m: Whitespace cleanup.

2007-04-27 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSDragging.h: Added a few MacOSX 10.2 methods
	* Source/GSDragView.m: (-_handleDrag:slidePoint:): Call new
	MacOSX method on destionation when available.
	Patch by Yen-Ju Chen <yjchenx@gmail.com>

2007-04-27 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableView.m (-editColumn::row:withEvent:select:): Set
	the background colour of the text object and make it draw its background.

2007-04-24 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableView.m (-noteNumberOfRowsChanged): Handle the case
	correctly where an empty selection is not allowed and now there
	are rows available.

2007-04-13  Adam Fedor  <fedor@gnu.org>

	* Version: Bump version

2007-04-13  Adam Fedor  <fedor@gnu.org>

	* Version 0.12.0
	* Source/NSAnimation.m: Remove unused and incorrect include.

2007-04-12 Xavier Glattard <xavier.glattard@online.fr>

	* Headers/AppKit/NSAnimation.h
	* Source/NSAnimation.m
	* Headers/Additions/GNUstepGUI/GSAnimator.h
	* Source/GSAnimator.m
	- attempt to follow GNU coding standards
	- implementation of NSAnimationBlockingMode and
	  NSAnimationNonBlockingThreaded modes
	- fix some bugs and incompatibilities with Cocoa
	- Add some more documentation

2007-04-11 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSView.m: When transforming a size ensure that the
	resulting height is positive.  Is this correct behavior?
	It should reproduce the old (incorrect ... ie differing from MacOS-X)
	behavior of NSAffineTransform.

2007-04-09 21:20-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSAnimation.m: Removed static INLINE declaration from
	nsanimation_progressMarkSorter function so that it will compile
	properly on versions of gcc prior to 4.1.2.

2007-04-10 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSClipView.m (-setBoundsOrigin:): Use NSView method
	scrollRect:by:.
	* Source/NSPrintOperation.m (NSView
	-_displayPageInRect:atPlacement:withInfo:): Release the temporary
	matrixes.
	* Source/GSEPSPrintOperation.m (_print): Call endPage on the view.

2007-04-05 Xavier Glattard <xavier.glattard@online.fr>

	* Headers/AppKit/NSAnimation.h
	* Source/NSAnimation.m
	* Headers/Additions/GNUstepGUI/GSAnimator.h
	* Source/GSAnimator.m
	Implementation of NSAnimation and NSViewAnimation classes :
	- only NSAnimationNonBlocking mode is implemented
	- runLoopModesForAnimating is not used
	GSAnimator class is in alpha stage : interface may be changed
	See gnustep-examples/GSTest for demos.

2007-04-04 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSWindow.h: Reuse one reserved ivar as the
	graphics context.
	* Source/NSWindow.m (-_terminateBackendWindow,
	-_initBackendWindow, -initWithWindowRef:, -graphicsContext,
	-flushWindow, -_processResizeEvent): Set and use context from ivar.
	* Source/NSImage.m (-drawInRect:fromRect:operation:fraction:):
	make sure to use the right graphic context.
	* Source/NSView.m (-releaseGState): Use context from window.
	* Source/NSView.m (-_lockFocusInContext:inRect:,
	-unlockFocusNeedsFlush:) Set context to current when locking focus
	and pop it when unlocking.

2007-04-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/AppKit/NSAlert.h: Tidied.
	* Source/NSAlert.m: Tidied to more standard gnustep style and added
	code to perform gui operations in the main appkit thread where someone
	tries to use alerts from another thread.

2007-03-26  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSAttributedString.m: Wrap excessively long lines
	* Source/externs.m: Add new attributed string constants
	* Headers/AppKit/NSAttributedString.h: Add constants from current
	MacOS-X

2007-03-23  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSAffineTransform.m: Simplify code slightly.

2007-03-23  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSCell.m (-drawWithFrame:inView:): Extract helper methods
	for border and focus drawing.
	* Source/NSButtonCell.m: Override the border drawing method.
	* Source/NSMenuItemCell.m: Override the border drawing method and
	set default focus ring to none.
	* Source/NSPopupButtonCell.m: Set default focus ring to default.

2007-03-23  Sergii Stoian <stoyan255@gmail.com>

	* Source/NSAlert.m: (-_initWithoutGModel): Set selected text
	background color to [NSColor controlLightHighlightColor].

2007-03-23  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m: Replace calls to the now deprecated methods on
	NSAffineTransform with correct ones.

2007-03-22  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSButtonCell.m (-drawWithFrame:inView:),
	* Source/NSCell.m (-drawWithFrame:inView:): Respect focus ring
	style when drawing first responder state.
	* Source/NSBrowserCell.m (-drawInteriorWithFrame:inView:),
	* Source/NSPopupButtonCell.m (-drawInteriorWithFrame:inView:),
	* Source/NSImageCell.m (-drawInteriorWithFrame:inView:): Don't
	draw focus ring.

2007-03-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSAffineTransform.m: Avoid accessing internals of the base
	library class directly.  Mark many methods as deprecated.
	* Headers/AppKit/NSAffineTransform.h: Mark gnustep extensions as
	deprecated.  Perhaps we don't want to deprecate all of them though
	need feedback on that.

2007-03-21  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-gState): Generate a gstate if one is needed
	and none has been set up to now.

2007-03-19  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPrintOperation.m (NSView -_endSheet, NSView
	-_displayPageInRect:atPlacement:withInfo:): Get graphics context
	from the print operation.
	* Source/NSView.m (-_lockFocusInContext:inRect:): When not set,
	get graphics context either from window or from the print operation.
	* Source/NSView.m (-lockFocusInRect, -lockFocusIfCanDraw): Don't
	set the graphics context.
	* Source/NSView.m: For all print methods get the context from
	the print operation.

2007-03-17  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-setBoundsRotation:): Adjust _bounds ivar to
	the rotation.
	* Source/NSView.m (-translateOriginToPoint:, -rotateByAngle:):
	Implemented via setBoundsOrigin: and rotateByAngle:.
	* Source/NSView.m (-_lockFocusInContext:inRect:): For rotated
	views compute the actual clip region instead of using _bounds.

2007-03-17  Nicola Pero <nicola.pero@meta-innovation.com>

	* GNUmakefile.postamble (before-uninstall): Uninstall gui.make.
	* Panels/GNUmakefile.postamble (after-uninstall): Fixed uninstall
	target.
	* Source/CompatibilityHeaders.make (after-install): Use
	ECHO_NOTHING and END_ECHO.
	(after-uninstall): New target that uninstalls the compatibility
	headers.

2007-03-12  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSAffineTransform.m: Set _isIdentity for all methods
	changing the matrix of the affine transform.

2007-03-11  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSApplication.m (-abortModal): Call stopModalWithCode: to
	make this mehtod work when not inside the modal loop.
	* Source/GSToolbarView.m (-_takeInAccountFlexibleSpaces): Don't
	call methods that return astructures on nil as this fails on Solaris.
	* Source/NSTableColumn.m (-setWidth:): Add self tothe
	notifiaction.
	* Source/NSComboBoxCell.m (-_selectCompleted): Don't change
	selection if no match is found.
	* Source/NSMenuItemCell.m (-drawImageWithFrame:inView:): Use
	[drawImage:withFrame:inView:] to do the drawing.
	Patches by Andreas Höschler <ahoesch@smartsoft.de>.

2007-03-09  Nicola Pero <nicola.pero@meta-innovation.com>

	Updated gnustep-gui to use versioned library resources.
	* Source/NSApplication.m ([+initialize]): Use
	bundleForLibrary:version: to get the correct version of the
	gnustep-gui resources.
	* Source/GNUmakefile: Install resources in versioned directory.
	* Resources/GNUmakefile: Same change.
	* Panels/GNUmakefile.postamble: Same change.

2007-03-09  Sergii Stoian <stoyan255@yahoo.com>

	* Source/GSSlideView.m: (- _slideFrom:to:): Calcuate number of
	steps wrt image size.
	* Source/GSDragView.m: (- slideDraggedImageTo:): Ditto.

2007-03-08  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSResponder.h: Move _rFlags from here ...
	* Headers/AppKit/NSView.h: ... to here.
	* Headers/AppKit/NSWindow.h: Add views_need_display
	* Source/NSWindow.m: Use _f.views_need_display instead of _rFlags.

2007-03-08  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSImage.m (-TIFFRepresentation,
	-TIFFRepresentationUsingCompression:factor:): If there is no
	bitmap representation create one and store it.
	Idea by Renaud Molla <renaud.molla@wanadoo.fr>.

2007-03-08  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSDocument.m
	(-fileNameFromRunningSavePanelForSaveOperation:): Add remaining
	change by Wolfgang Lux.  This corrects a potential mismatch
	between the document type and the type specified in the panel.

2007-03-08  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSTabView.h: Correct NSTabViewType enumerator to
	match values from Apple.
	* Source/NSTabView.m (-encodeWithCoder:, -initWithCoder:): Adopt
	to new enum values.

2007-03-07  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPrintPanel.m: The modal loop which displays the print
	panel is now left with either NSOKButton or NSCancelButton
	(cf. the documentation of NSPrintPanel's -runModal: and
	-beginSheetWithPrintInfo:modalForWindow:delegate:didEndSelector:contextInfo:).
	* Source/NSPrintOperation.m: The callback passed to the print
	panel's beginSheet... method had a wrong signature (and also was
	misspelled). In addition, the code of the callback did retrieve
	its own callback from the print dictionary in a wrong way (was
	asking for a pointer to a selector while a selector was saved).
	* Source/NSDocument.m: The callback of
	-runModalPrintOperation:delegate:didRunSelector:contextInfo:
	method has a different signature than the one passed to the print
	operation's
	-runOperationModalForWindow:delegate:didRunSelector:contextInfo:
	method. This means NSDocument needs some adapter code and also has
	to save the delegate and selector passed to runModalPrintOperation...
	in some place.
	* Headers/AppKit/NSDocument.h: Since there can be at most one print dialog for a
	document, add two private instance variables to NSDocument for that purpose.
	Patch by Wolfgang Lux <wolfgang.lux@gmail.com>.

2007-03-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPasteboard.m: Launch gpbs with --auto option so that
	it shuts down again when all connections are closed.

2007-03-06  Nicola Pero <nicola.pero@meta-innovation.com>

	* Source/GSServicesManager.m ([+newWithApplication:]): If the base
	library returns an empty User Library path, try using a default
	one.

2007-03-06  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBox.m (-initWithFrame:): Set content view via the
	method setContentView: to be independent of super class
	implementation of addSubview:
	* Headers/AppKit/NSWindow.h,
	* Source/NSWindow.m: Add method graphicsContext.
	* Headers/AppKit/NSView.h,
	* Source/NSView.m: Add MacOS 10.4 methods.
	* Source/NSView.m (addSubview:): Implement via
	addSubview:positioned:relativeTo:. Optimize the later method for
	the otherView = nil case.
	* Source/NSView.m (dragPromisedFilesOfTypes:...,
	mouseDownCanMoveWindow, scrollRect:by:, scrollClipView:toPoint:,
	getRectsBeingDrawn:count:, needsToDrawRect:): Implement.
	* Source/NSView.m (registerForDraggedTypes:) Change order of
	removeDragTypes and addDragTypes, so that overlapping drag types
	get handled correctly.
	* Source/NSView.m (_enclosingClipView): New helper method.
	* Source/NSView.m (enclosingScrollView, scrollRectToVisible:, scrollPoint:): Optimize.
	* Source/NSView.m (displayRectIgnoringOpacity:): Move
	unlockFocusNeedsFlush closer to lockFocusInRect.
	* Source/NSView.m (_lockFocusInContext:inRect:): New main focus
	locking method. Clip only when wantsDefaultClipping returns YES.
	* Source/NSView.m (releaseGState): Set _allocate_gstate to 0 to
	switch off private gState.
	* Source/NSView.m (_invalidateCoordinates): Call renewGState
	instead of releaseGState.
	* Source/NSView.m (initWithFrame:): Use value from super init call
	and don't set pre-set ivars.

2007-03-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSServicesManager.m:
	* Source/NSWorkspace.m:
	Fix usage of NSSearchPathForDirectoriesInDomains() to match new
	filesystem support changes.

2007-03-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSSpellServer.m: deleted
	* Source/GNUmakefile: remove NSSpellServer.m
	* Source/NSSpellChecker.m: include NSSpellServer.h from base
	* Headers/AppKit/NSSpellServer.h: deleted
	* Headers/AppKit/AppKit.h remove NSSpellServer.h
	Moved NSSpellServer to base for macos-x compatibility.

2007-03-03 14:51-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSDocument.m: Added change suggested by Wolfgang Lux.  This
	corrects a potential mismatch between the document type and the type
	specified in the panel.

2007-02-28  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSScrollView.m (-keyDown:, -scrollLineUp:,
	-scrollLineDown:): New methods.
	* Source/NSTextView_actions.m (-scrollLineDown:, -scrollLineUp:,
	-scrollPageDown:, -scrollPageUp:): Implement methods based on
	scroll view.
	* KeyBindings/DefaultKeyBindings.dict: Change control-up and and
	page up to be scrollPageUp: and control-down and page down to be
	scrollPageDown:. pageDown: and pageUp: can now be reached via
	control-pageup and alt-pageup resp. control-pagedown and alt-pagedown.
	Patch by Wolfgang Lux <wolfgang.lux@gmail.com>.

2007-02-28  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSScrollView.h: Add ivar
	_autohidesScrollers. Move private method to implementation file.
	* Source/NSScrollView.m (-init): Remove as this is the same as in
	the super class.
	* Source/NSScrollView.m (-autohidesScrollers,
	-setAutohidesScrollers:, -reflectScrolledClipView:): Add support
	for auto hidding of scrollers.
	* Source/NSScrollView.m (-initWithCoder:): Decode the value for
	_autohidesScrollers.

2007-02-28  Nicola Pero  <nicola.pero@meta-innovation.com>

	* configure.ac: Use gnustep-config to set GNUSTEP_MAKEFILES
	if not set.
	* GNUmakefile: Same change.
	* configure: Regenerated.

2007-02-27  Fred Kiefer <FredKiefer@gmx.de>

	* Panels/GSPrintPanel,
	* Panels/GSPageLayout: Updated to new Gorm format and made
	elements transparent. Patch by Ingolf Jandt <i.jandt@web.de>.

2007-02-27  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSClipView.m (-initWithFrame:): Replace the wrong
	initialise [init].
	* Source/NSClipView.m (-viewFrameChanged:, -documentVisibleRect,
	-dealloc): Simplified methods.
	* Source/NSClipView.m (-setDocumentView:): Remove only
	notifications that get added here.
	* Source/NSClipView.m (-setBounds:): Add method.

2007-02-27  Nicola Pero  <nicola.pero@meta-innovation.com>

	* Source/GNUmakefile.preamble (GNUSTEP_INSTALL_PREFIX): Variable
	removed as it could not work with custom filesystem layouts.
	(GNUSTEP_TOOLS_NO_DESTDIR): New variable.
	(ADDITIONAL_CPPFLAGS): Pass GNUSTEP_TOOLS_NO_DESTDIR, not
	GNUSTEP_INSTALL_PREFIX.
	* Source/NSPasteboard.m ([+_pbs]): Use GNUSTEP_TOOLS_NO_DESTDIR
	instead of GNUSTEP_INSTALL_PREFIX.
	* Source/NSSound.m ([+gsnd]): Same change.
	* Source/NSWorkspace.m ([-findApplications]): Same change.

2007-02-27  Nicola Pero  <nicola.pero@meta-innovation.com>

	* gnustep-gui-debug.spec.in: Obsolete file removed.
	* GNUmakefile (CVS_MODULE_NAME): Do not set (exports should be
	done from subversion now).
	* Documentation/GNUmakefile.postamble (after-install): Use
	MKINSTALLDIRS, not MKDIRS, to create installation directories.

2007-02-27  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTabView.m (-initWithFrame:): Set _selected_item to NSNotFound.
	* Source/NSTabView.m (-selectNextTabViewItem:,
	-selectPreviousTabViewItem:): Handle _selected_item being
	NSNotFound correctly. Patch by Wolfgang Lux <wolfgang.lux@gmail.com>.

2007-02-26  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSLayoutManager.m: ([drawGlyphsForGlyphRange:atPoint:])
	Implement selected text color ... use the value set in the textview
	or if that is not supplied, fall back to selectedTextColor.
	Fix ([drawBackgroundForGlyphRange:atPoint:]) to use
	([textViewForBeginningOfSelection]) to determine selected text color.

2007-02-22  Matt Rice  <ratmice@gmail.com>

	* Source/NSAlert.m (-_initWithoutGModel): Add missing nil
	at end of call to -dictionaryWithObjectsAndKeys:

2007-02-22  Sergii Stoian <stoyan255@gmail.com>

        * Source/NSWindow.m: (_lossOfKeyOrMainWindow): Add sanity checks.
	Optimize.
	* Source/NSLayoutManager.m: (-drawBackgroundForGlyphRange:atPoint):
	Use the text view's selected text attributes. Remove TODO.
	* Source/NSAlert.m: (-_initWithoutGModel): Set selected text
	background color to white. Now we can see selection of message text.

2007-02-21  Sergii Stoian <stoyan255@gmail.com>

        * Source/NSAlert.m: (-_initWithoutGModel):
	Make buttons refuse first responder to avoid drawing
	dashed frame and protec from selecting potentially dangerous
	buttons	by accident.
	(-_makeButtonWithRect:): Change style of button from
	NSMomentaryPushButton to NSMomentaryPushInButton.

2007-02-20  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSAlert.m: (-_initWithoutGModel): Set the message field
	to not draw its background.
	* Source/NSTabViewItem.m: Whitespace changes to conform to coding
	standards.
	* Source/NSTabViewItem.m (-drawLabel:inRect:): Moved drawing of
	background into NSTabView. Only there do we know, how to adjust
	the rectangle correcty.
	* Source/NSTabViewItem.m (-initWithCoder:): Autorelease some ivars
	that don't get retained to prevent memory leak.
	* Source/NSTabView.m (-insertTabViewItem:atIndex:,
	-removeTabViewItem:): Adjust selection, if needed.
	* Source/NSTabView.m (-minimumSize, -contentRect,
	-encodeWithCoder:, -initWithCoder:): Handle more type cases.
	* Source/NSTabView.m (-drawRect:): Rewrote to simplify and correct
	code. Moved drawing of the label background to here.

2007-02-19  Enrico Sersale <enrico@fibernet.ro>

	* Source/NSAlert.m: (-_initWithoutGModel):
	added [setImageDimsWhenDisabled: NO} to not show the application icon dimmed.

2007-02-19  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMatrix.m (cellFrameAtRow:column:, drawRect:,
	getRow:column:forPoint:): Removed special handling for non-flipped
	case. Patch by Andreas Höschler <ahoesch@smartsoft.de>.

2007-02-18  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSDocument.m (runModalSavePanel:withAccessoryView:): Only
	set accessory view when not nil. Workaround for bug #19031.

2007-02-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSMenuItemCell.m: fixup glitch with drawing of horizontal
	menu items overwriting menu border.
	* Source/NSMenuView.m: use menubar font size to calculate menubar
	height.
	* Source/GSInfoPanel.m: send theme panel action for click on theme.

2007-02-16  Sergii Stoian <stoyan255@gmail.com>

	* Headers/AppKit/NSTextView.h: Enable disabled insertion point
	blinking code.

	* Source/NSTextView.m:
	(drawRect:): Draw insertion point using _drawInsertionPointNow
	ivar. Cleanup code.
	(_blink:): Enable disabled insertion point blinking code.
	(updateInsertionPointStateAndRestartTimer:): Implement insertion
	point blinking. Remove TODO.

2007-02-15  Nicola Pero <nicola.pero@meta-innovation.com>

	* configure.ac: Source GNUstep.sh then use GNUSTEP_SYSTEM_HEADERS
	and GNUSTEP_SYSTEM_LIBRARIES if available rather than using
	hardcoded paths.
	* configure: Regenerated.

2007-02-14  Sergii Stoian <stoyan255@gmail.com>

	* Source/NSMenuView.m:
	(menuBarHeight): Fix calculation. Set minimum height to 22.
	(setFont:): Fix calculation default cell size.

	* Source/NSLayouManager.m:
	(_insertionPointRectForCharacterIndex:textContainer:): Use
	default font height for insertion point height if there is
	no characters.
	(insertionPointRectForCharacterIndex:inTextContainer:): Remove
	insertion point rectangle correction.

2007-02-14  Nicola Pero <nicola.pero@meta-innovation.com>

	* Source/GNUmakefile (libgui-resources_INSTALL_DIR): New variable
	for newer gnustep-makes.
	* Resources/GNUmakefile (gui-resources_INSTALL_DIR): Same change.

2007-02-09  Adam Fedor  <fedor@gnu.org>

	* TextConverters/RTF/GNUmakefile.preamble: Add BUNDLE_LIBS.

	* Source/NSImage.m: Move documentation from here.
	* Header/AppKit/NSImage.h: To here.
	* Headers/AppKit/NSImageRep.h, : Add documentation. (patch #5714).

2007-02-09  Fred Kiefer <FredKiefer@gmx.de>

	* Source/GNUmakefile: Install header file NSKeyValueBinding.h.

2007-02-07  Fred Kiefer <FredKiefer@gmx.de>

	* Image/NSRatingLevelIndicator.tiff,
	* Headers/AppKit/NSLevelIndicatorCell.h,
	* Headers/AppKit/NSLevelIndicator.h,
	* Source/NSLevelIndicator.m,
	* Source/NSLevelIndicatorCell.m: Add MacOS 10.4 classes.
	* Headers/AppKit/AppKit.h: Publish the MacOS 10.4 classes.
	* Source/GNUmakefile: Compile and install new classes and image.
	Code by Nikolaus Schaller <hns@computer.org>.

2007-02-06  Matt Rice  <ratmice@gmail.com>

	* Source/NSBrowser.m (-doClick:): Don't reselect the selected cells.
	Fixes bug #18881
	* Source/NSMatrix.m (-_selectPreviousSelectableCellBeforeRow:column):
	Update _selectedCells for the new selection.
	(-_selectNextSelectableCellAfterRow:column:):
	Ditto.

2007-02-05  Matt Rice  <ratmice@gmail.com>

	* Headers/AppKit/NSOutlineView.h: Update documentation.

2007-02-05  Matt Rice  <ratmice@gmail.com>

	* Source/NSTableView.m (-_numRows): New quasi private method.
	(-noteNumberOfRowsChanged:): Call _numRows instead of data source
	method.
	* Source/NSOutlineView.m (-noteNumberOfRowsChanged:): Don't override
	supers.
	(-_numRows): Implement.
	(-collapseItem:collapseChildren:): Remove use of _selectedObjects.
	(-expandItem:expandChildren:): Ditto.
	(-_removeChildren:): Ditto.
	(-initWithFrame:): Don't initialize _selectedObjects.
	(-initWithCoder:): Ditto.
	* Headers/AppKit/NSOutlineView.h: Mark _selectedObjects as unused.

2007-02-05  Matt Rice  <ratmice@gmail.com>

	* Source/NSOutlineView.m (-mouseDown:): Check item expandability before
	expanding or collapsing.

2007-02-05  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSMenuItem.h: Add MacOS 10.3 methods and
	additional ivars.
	* Source/NSMenuItem.m: Implement MacOS 10.3 methods.
	* Source/NSMenuItem.m (-dealloc, -encodeWithCoder:,
	-initWithCoder:, -copyWithZone): Handle new ivars.

2007-02-04  Matt Rice  <ratmice@gmail.com>

	* Source/NSTableView (-mouseDown:): Release oldSelectedRows.
	Mark done as yes instead of returning early, and avoid sending action
	multiple times.

2007-02-04  Matt Rice  <ratmice@gmail.com>

	* Source/NSTableView (-mouseDown:): Compute the selection immediately
	instead of at the end of the loop.

2007-02-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSImageView.m: fix minor error in dragging offset.

2007-02-04  Matt Rice  <ratmice@gmail.com>

	* Source/NSTableView.m (-mouseDown:): Return early after tracking a
	cell which prefersTrackingUntilMouseUp.
	* Source/NSPopUpButtonCell.m (+prefersTrackingUntilMouseUp:): Return
	yes.
	(-trackMouse:inRect:ofView:untilMouseUp:): Return yes or no
	depending on whether the mouse went up inside the menu or not.
	Fixes bug #18946

2007-01-31  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFontInfo.m:
	* Source/NSFont.m:
	* Headers/Additions/GNUstepGUI/GSFontInfo.h:
	Add stubs for numberOfGlyphs and coveredCharacterSet

2007-01-30  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSCell.m (-_setupTextWithFrame:inView:editor:delegate:range:,
	-endEditing:): Revert to always use a clip view, but with different size.

2007-01-29  Matt Rice  <ratmice@gmail.com>

	* Source/NSTableView.m: Revert previous patch.

2007-01-28  Matt Rice  <ratmice@gmail.com>

	* Source/NSTableView.m (-textDidEndEditing:): Handle
	NSIllegalTextMovement.

	* Source/NSTableView.m (-textDidEndEditing:): Add missing break
	to previous commit.

2007-01-27  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSMenuItemCell.h: Remove ivar
	_backgroundColor. Add ivar _needs_display.
	* Source/NSMenuItemCell.m (-drawingRectForBounds:): Move push in
	adjustment to here.
	* Source/NSMenuItemCell.m (-drawBorderAndBackgroundWithFrame:):
	Draw the background here and not in [drawInteriorWithFrame:inView:]
	* Source/NSMenuItemCell.m (-backgroundColor:, -tag,
	-setNeedsDisplay:, -needsDisplay): New methods.
	* Source/NSMenuItemCell.m (-setMenuItem:, -setHighlighted:,
	-init): Mark as needing sizing.
	* Source/NSMenuItemCell.m (-setMenuView:): Switch off border and
	move image to left side for horizontal menus.
	* Source/NSMenuItemCell.m (-titleRectForBounds:,
	-imageRectForBounds:): Add a few more calls to [calcSize].
	* Source/NSMenuItemCell.m (-drawTitleWithFrame:inView:): Remove
	setting of enable state.
	* Source/NSMenuItemCell.m (-drawInteriorWithFrame:inView:): Add
	call to separator drawing. Share more of the code between
	horizontal and vertical menus.

	* Source/NSMenuItemCell.m (-_keyEquivalentString): Determine
	string to display for key equivalent.
	Code by Nikolaus Schaller <hns@computer.org>.

2007-01-25  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSButtonCell.m (-encodeWithCoder:, -initWithCoder:):
	Corrected coding and decoding of bezel style.
	* Source/GSTheme.m (-drawCircularBezel:withColor:,
	-drawRoundBezel:withColor:) New methods to draw bezel.
	Code by Nikolaus Schaller <hns@computer.org>.
	* Source/GSTheme.m (-buttonBorderForStyle:state:,
	-drawButton:view:style:state:): Handle some of the bezel styles.

2007-01-24  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/AppKit/NSButtonCell.h: Fix documentation error.
	* Headers/AppKit/NSMenu.h: Tidy a litte, fix errors in documentation
	markup, fix some documentation cross references.

2007-01-24  Stefan Bidigaray

	* Headers/AppKit/NSMenu.h: Add documentation (patch #5705).

2007-01-23  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableView.m (-selectAll:, -deselectAll:) Call
	[setNeedsDisplay:], if something was changed.

2007-01-23  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSBox.h:
	* Headers/AppKit/NSButtonCell.h:
	Add documentation for NSTitlePosition and NSButtonType.
	Patch by <stefanbidi@gmail.com>.

	* Source/GSTheme.m (-buttonBorderForStyle:state:): Removed unused variable.

2007-01-23  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSTheme.h,
	* Source/GSTheme.m (-buttonBorderForStyle:state:): New method to
	determine the button border size.
	* Headers/Additions/GNUstepGUI/GSTheme.h (-drawButton:...state:),
	* Source/GSTheme.m (-drawButton:view:style:state:): Don't return a result.
	* Source/NSCell.m (-drawInteriorWithFrame:inView:,
	-drawWithFrame:inView:): Bring drawing of focus ring inline
	with the one in NSButtonCell.
	* Headers/AppKit/NSButtonCell.h: Add MacOS 10.4 methods and
	additional ivars and changed enumerator values.
	* Source/NSButtonCell.m: Implemented new methods.
	* Source/NSButtonCell.m (-setButtonType:): Use new enumerator values.
	* Source/NSButtonCell.m (-_init): Use method call to set button type.
	* Source/NSButtonCell.m (-drawInteriorWithFrame:inView:,
	-drawWithFrame:inView:): Use new methods for the drawing.
	* Source/NSButtonCell.m (-cellSize, -drawingRectForBounds:): Use
	new theme method to determine border size.
	* Source/NSButtonCell.m (-encodeWithCoder:, -initWithCoder:):
	Encode/decode new and previously missing ivars.
	* Source/NSMenuItemCell.m (-drawingRectForBounds:): Moved old super
	class code to here.
	* Source/NSToolbarItem.m (GSToolbarButtonCell
	-drawImage:withFrame:inView:): Renamed method to match with
	superclass change and simplified implementation.

2007-01-23  Matt Rice  <ratmice@gmail.com>

	* Source/NSWindow.m (-_lossOfKeyOrMainWindow): Use GSOrderedWindows.

2007-01-19  Sergii Stoian <stoyan255@gmail.com>

	* Source/GSTheme.m (-drawButton:view:style:state:): Call
	[drawButton:withClip:] instead of [drawGreyBezel:withClip:] if
	state is highlighted (e.g. scroller buttons).

2007-01-19  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPopUpButton.m (-keyDown:): Handle selection of first
	entry correctly. Patch by Phillipe Roussel <p.o.roussel@free.fr>

2007-01-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSDocument.m: fix include path (bug #18829)

2007-01-18  Adam Fedor  <fedor@gnu.org>

	* Source/NSBitmapImageRep+PNM.m ([NSBitmapImageRep
	-_initBitmapFromPNM:errorMessage:]): Check for invalid image size.

2007-01-18  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSCell.m (-setFloatingPointFormat:left:right:): Basic
	implementation.
	* Source/NSCell.m (-setUpFieldEditorAttributes:,
	_setupTextWithFrame:inView:editor:delegate:range:, endEditing:,
	editWithFrame:...event:, selectWithFrame:...length:): Changed to
	handle more text attributes and non-scrolling text.
	* Source/NSCell.m (-setScrollable:): If switched on, switch wraps off.
	* Headers/AppKit/NSCell.h: Corrected version number for some methods.

	* Headers/AppKit/NSControl.h: Add MacOS 10.4 methods.
	* Source/NSControl.m: Implement new MacOS 10.4 methods.
	* Source/NSControl.m (-mouseDown): Once more removed action mask
	fiddling. This time there is protection that the control itself
	does not go away.
	* Source/NSControl.m (-textDidBeginEditing:, -textDidChange:,
	-textDidEndEditing:): Extracted code to be shared between subclasses.
	* Source/NSTextField.m,
	* Source/NSTableView.m,
	* Source/NSMatrix.m (-textDidBeginEditing:, -textDidChange:,
	-textDidEndEditing:): Call shared super code.

2007-01-17  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSResponder.h: Add MacOS 10.4 methods.
	* Source/NSResponder.m: Implement new MacOS 10.4 methods.
	* Headers/AppKit/NSDocumentFrameworkPrivate.h: Remove.
	* Source/NSDocumentFrameworkPrivate.h: Add.
	* Source/GNUmakefile: Don't install NSDocumentFrameworkPrivate.h.
	* Headers/AppKit/NSDocument.h: Add MacOS 10.4 methods and
	additional ivars. Rename ivars to adopt to coding standards.
	* Source/NSDocument.m: Implement new MacOS 10.4 methods adopted
	to changes of ivar names.
	* Headers/AppKit/NSDocument.h: Add MacOS 10.4 methods and
	additional ivars. Rename ivars to adopt to coding standards.
	* Source/NSDocument.m: Adopt include of NSDocumentFrameworkPrivate.h.
	Implement new MacOS 10.4 methods and adopt to changes of ivar names.
	* Headers/AppKit/NSDocumentController.h: Add MacOS 10.4 methods and
	additional ivars. Rename ivars to adopt to coding standards. Fix includes.
	* Source/NSDocumentController.m: Adopt include of NSDocumentFrameworkPrivate.h.
	Implement new MacOS 10.4 methods and adopt to changes of ivar names.
	* Headers/AppKit/NSWindowController.h: Rename ivars to adopt to coding standards.
	* Source/NSWindowController.m: Adopt include of NSDocumentFrameworkPrivate.h.
	Adopt to changes of ivar names.

	* Headers/AppKit/NSPrintOperation.h: Add MacOS 10.4 methods and
	additional ivars. Rename ivars to adopt to coding standards.
	* Source/NSPrintOperation.m: Implement new MacOS 10.4 methods and
	adopt to changes of ivar names.
	* Source/GSPrintOperation.m,
	* Source/GSEPSPrintOperation.m,
	* Printing/GSLPR/GSLPRPrintOperation.m,
	* Printing/GSCUPS/GSCUPSPrintOperation.m: Adopt to changes in super class.

	* Headers/AppKit/NSCell.h: Add MacOS 10.4 methods and
	additional ivars. Store the state in two bits only. Rename ivar to
	adopt to coding standards. Move mnemonic_location into flags.
	* Source/NSCell.m: Implement new MacOS 10.3 and 10.4 methods and
	adopt to changes of ivar names. Add encoding and decoding of new
	ivars and improve keyed coding and decoding.

	* Headers/AppKit/NSColor.h: Adopt values of NSControlTint
	enumerator to Cocoa values.
	* Headers/AppKit/NSParagraphstyle.h: Add protection against double inclusion.
	* Source/GSServicemanager.m,
	* Source/NSAttributedString.m,
	* Source/NSView.m,
	* Source/NSApplication.m: Correct includes to avoid compiler warnings.

2007-01-14  Stefan Bidigaray

	* Source/NSWindow.m:
	* Source/NSBitmapImageRep.m:
	* Headers/AppKit/NSBitmapImageRep.h:
	* Headers/AppKit/NSApplication.h:
	* Headers/AppKit/NSView.h:
	Document various bits and pieces, mostly typedefs.

2007-01-13  Matt Rice  <ratmice@gmail.com>

	* Source/NSMatrix.m (_selectCell:atRow:column:): Call setNextState
	when in Track or Highlight mode.
	(-keyDown:): Call -selectCellAtRow:column: in Track or Highlight mode.

2006-12-28  Matt Rice  <ratmice@gmail.com>

	* Source/NSTextFieldCell.m (-drawInteriorWithFrame:): Draw disabled
	cell background with controlBackgroundColor.
	* Source/NSCell.m (-drawInteriorWithFrame:): Draw disabled cell text
	with disabledControlTextColor.
	* Source/NSSecureTextFieldCell (-drawInteriorWithFrame:): Draw
	disabled cell with controlBackgroundColor.
	* Source/NSTableView.m (rectOfColumn:): Use the height of the rows,
	not the bounds.

2006-12-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepGUI/GSTheme.h: Store images in dictionary.
	* Source/GSTheme.m: Improve handling of named images.
	* Source/NSButtonImageSource.[hm]: Partial implementation of classes
	to handle standard images in buttons (support theming etc).

2006-12-21  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSWindow.h
	Added missing delegate methods.
	* Source/NSResponder.m (-undoManager):
	Forward method to next responder.
	* Source/NSWindow.m (-undoManager):
	Try to get an undo manager from delegate or document.
	* Source/NSTextView.m
	(-shouldChangeTextInRange:replacementString:): Added basic support
	for undo.

2006-12-19  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSObjectController.h
	* Headers/AppKit/NSUserDefaultsController.h
	* Headers/AppKit/NSKeyValueBinding.h
	* Headers/AppKit/NSArrayController.h
	* Headers/AppKit/NSController.h
	* Source/NSObjectController.m
	* Source/NSUserDefaultsController.m
	* Source/NSArrayController.m
	* Source/NSController.m:
	New files added as basic support for controllers.
	Mostly not implemented.
	* Source/GNUmakefile
	* Source/externs.m:
	Add these new classes and helper variables.

2006-12-18  Saso Kiselkov

	* Source/NSAlert.m: Left align long alert messages.

2006-12-11  Adam Fedor  <fedor@gnu.org>

	* Documentation/manual/: File and node name fixes.

2006-12-09  Mark Tracy <tracy454@concentric.net>

	* Source/NSBitmapImageRep.m: Autogsdoc comments

2006-12-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSInputManager.m:
	Use help function key to enter context help mode rather than
	inserting it into the text.

2006-12-06  Matt Rice  <ratmice@gmail.com>

	* Source/NSTextView.m: Don't update the selection when dragging a
	NSColorPboardType.

2006-12-03  Adam Fedor  <fedor@gnu.org>

	* Documentation/manual/: New AppKit manual.

2006-11-28  Mark Tracy <tracy454@concentric.net>
	Belated update to change log (these went in with svn revision 24140).
	* Source/externs.m: Added definitions for NSBitmapImage properties key
	strings
	* Source/tiff.m: Added implementation of NSTiffIsCodecConfigured(codec)
	* Source/ngimage-tiff.h: Added declaration of
	NSTiffIsCodecConfigured(codec)
	* Source/NSBitmapImageRep+GIF.h: Added declaration of
	_GIFRepresentationWithProperties:errorMessage:
	* Source/NSBitmapImage+GIF.m: Added implementation of
	_GIFRepresentationWithProperties:errorMessage:
	and static int gs_gif_output(*file, *buffer, len)
	* Source/NSBitmapImage+GIF.m (_initBitmapFromGIF:errorMessage:):
	Changed loop to terminate after the first image block
	is found. Added parsing of graphic control blocks to support
	transparency. If transparency is found, adds an alpha channel.
	Saves the color table in _properties.
	* Source/NSBitmapImage+PNG.h: Added declaration of
	_PNGRepresentationWithProperties:
	* Source/NSBitmapImage+PNG.m: Added implementation of
	_PNGRepresentationWithProperties:
	and static void writer_func(png_struct, data, length)
	* Source/NSBitmapImage+PNG.m: (_initBitmapFromPNG:):
	Added experimental support for the property NSImageGamma
	* Source/NSBitmapImage+JPEG.h: Replaced declaration of
	representationUsingType:properties
	with declaration of _JPEGRepresentationWithProperties:errorMessage:
	and removed category (JPEGWriting)
	* Source/NSBitmapImage+JPEG.m: Renamed
	representationUsingType:properties as
	_JPEGRepresentationWithProperties:errorMessage:
	and reworked it significantly to support alpha stripping, error
	messages, and NSImageProgressive property. NSImageCompressionFactor
	now is 0-255 instead of 100-0 quality factor. Returns a real error
	message instead of crashing.
	* Source/NSBitmapImage+JPEG.m: (_initBitmapFromJPEG:errorMessage:)
	Added support for NSImageProgressive property.
	* Headers/AppKit/NSBitmapImageRep.h: Added extern declarations for the
	properties key strings. Added declaration for NSMutableDictionary *
	_properties. Added NSImageJPEG2000FileType to the NSImageFileType enum.
	* Source/NSBitmapImageRep.m: (canCompressUsing:): Changed to use the
	new NSTiffIsCodecConfigured(codec) instead of a static list.
	* Source/NSBitmapImageRep.m: (getTIFFCompressionTypes:count:):
	Changed to use the new NSTiffIsCodecConfigures(codec) instead of a
	static list.
	* Source/NSBitmapImageRep.m: (_localFromCompressionType:): Changed from
	an instance method to a class method.
	* Source/NSBitmapImageRep.m: (_CompressionTypeFromLocal:): Changed from
	an instance method to a class method.
	* Source/NSBitmapImageRep.m: (TIFFRepresentationUsingCompression:factor:):
	Changed to use new implementation of _localFromCompressionType:
	* Source/NSBitmapImageRep.m: (initFromTIFFImage:number:): Changed to
	use new implementation of _CompressionTypeFromLocal: and added support
	for NSImageCompressionMethod and NSImageCompressionFactor properties
	* Source/NSBitmapImageRep.m: (initWithBitmapDataPlanes:pixelsWide:
	pixelsHigh:bitsPerSample:samplesPerPixel:hasAlpha:isPlanar:
	colorSpaceName:bytesPerRow:bitsPerPixel:):
	Changed to initialize _properties dictionary
	* Source/NSBitmapImageRep.m: (dealloc:): Changed to release _properties
	* Source/NSBitmapImageRep.m: (setProperty:withValue:) Implemented
	functional code in place of TODO:
	* Source/NSBitmapImageRep.m: (valueForProperty:) Implemented functional
	code in place of TODO:
	* Source/NSBitmapImageRep.m: (representationUsingType:properties:):
	Implemented working code in place of TODO: It supports writing PNG,
	TIFF, GIF and JPEG, with stubs for BMP and JPEG-2000.
	* Source/NSBigmapImageRep.m: (representationOfImageRepsInArray:
	usingType:properties:): Incomplete implementation in place of TODO:

2006-11-24  Matt Rice  <ratmice@gmail.com>

	* Source/NSWindowController.m (_windowDidLoad:): Pass an NSZeroPoint to
	cascadeTopLeftFromPoint: on the first call.

2006-11-23  Matt Rice  <ratmice@gmail.com>

	* Source/NSTableView.m (_trackCellAtColumn:row:withEvent:):
	Remove check for column editablity.

2006-11-21  Matt Rice  <ratmice@gmail.com>

	* Source/NSWindow.m (sendEvent:): Fix dragging for views which accept
	dragging with subviews which accept dragging.

2006-11-20  Matt Rice  <ratmice@gmail.com>

	* Source/NSTextView_actions.m: Change cursor movement implementations
	when collapsing a selection.
	* Source/NSParagraphStyle.m (-setBaseWritingDirection:): Add comment.
	* Source/NSAttributedString: Add and remove characters in the word
	break character	set.
	* KeyBindings/DefaultKeyBindings.dict: Change control-f and control-b
	to moveForward: and moveBackward:


2006-11-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSAffineTransform.m:
	* Headers/AppKit/NSAffineTransform.h:
	Remove basic implementation (now in base for MacOS-X compatibility)
	retaining gui specific methods and GNUstep extensions (to deprecate?)
	* Source/NSImage.m:
	* Source/NSStringDrawing.m:
	* Source/NSView.m:
	Update to use transformStruct accessor method rather than trying to
	work with the affine transform ivars directly.

2006-11-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSScrollView.m: Adjust corner view when scroller is on right.

2006-11-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTheme.m:
	* Source/NSButtonCell.m:
	* Source/NSScrollView.m:
	* Headers/Additions/GNUstepGUI/GSTheme.h:
	Merge in theme changes for scrollviews and cleaner button drawing api.

2006-11-16  Adam Fedor  <fedor@gnu.org>

	* Model/GMAppKit.m ([NSImage +createObjectForModelUnarchiver:]):
	  Allow loading of images from the owners bundle (patch from
	  Georg Fleischmann.

2006-11-15  Nicola Pero  <nicola.pero@meta-innovation.com>

	Notice: you should now use 'make DESTDIR=/tmp/xxx install' if you
	want to relocate all the installation into /tmp/xxx/
	* Makefile.postamble: Use DESTDIR instead of INSTALL_ROOT_DIR
	everywhere.

	* ColorPickers/GNUmakefile: (GNUSTEP_INSTALLATION_DOMAIN): Use
	GNUSTEP_INSTALLATION_DOMAIN instead of GNUSTEP_INSTALLATION_DIR.
	* Documentation/GNUmakefile: Same change.
	* Documentation/General/GNUmakefile: Same change.
	* Documentation/GuiUser/GNUmakefile: Same change.
	* Images/GNUmakefile: Same change.
	* Model/GNUmakefile: Same change.
	* Panels/GNUmakefile: Same change.
	* PrinterTypes/GNUmakefile: Same change.
	* Resources/GNUmakefile: Same change.
	* Source/GNUmakefile: Same change.
	* Tools/GNUmakefile: Same change.
	* Tools/gsnd/GNUmakefile: Same change.

	* Printing/GSLPR/GNUmakefile (GNUSTEP_INSTALLATION_DOMAIN): Same change,
	plus set GNUSTEP_INSTALLATION_DOMAIN before common.make and not after.

	* Panels/GNUmakefile.postamble: Fixed all install/uninstall
	targets that were failing to create the install directories
	properly.  Also, added ECHO macros so that 'make messages=yes'
	works properly.

2006-11-12  Matt Rice  <ratmice@gmail.com>

	* Source/NSTableView.m (-noteNumberOfRowsChanged:): Post selection
	is and did change notifications if changing the selected rows.
	* Source/NSSliderCell.m (-copyWithZone:): Make a little clearer.
	* Source/NSMatrix.m (-_rebuildLayoutAfterResize): Don't change the
	intercell spacing if not autosizing cells.

2006-11-11  Matt Rice  <ratmice@gmail.com>

	* Source/NSSliderCell.m: Implement copyWithZone:.

2006-11-10  Matt Rice  <ratmice@gmail.com>

	* Source/NSOutlineView.m: Handle rowAtPoint: returning -1.
	* Source/NSTableView.m (drawRect:): Only call
	-highlightSelectionInClipRect: and -drawGridInClipRect: once.
	(-drawGridInClipRect:): Constrain the vertical grid line to the last row
	drawn in the rect.

2006-11-10  Matt Rice  <ratmice@gmail.com>

	* Source/NSTableView.m (rowAtPoint:): Return -1 if the point is under
	the last row.
	(mouseDown:): Handle rowAtPoint: returning -1.
	(rectOfRows:): Ditto.

2006-11-10  Matt Rice  <ratmice@gmail.com>

	* Source/NSTableView.m (mouseDown:): Rename some local variables
	to be less ambiguous.

2006-11-10  Matt Rice  <ratmice@gmail.com>

	* Headers/AppKit/NSTableView.h: Add ivar for
	verticalMotionCanBeginDrag.
	* Source/NSTableView.m: Implement verticalMotionCanBeginDrag
	bump class version.
	* Source/NSTextView_actions.m: Fix method name from previous changes.
	* KeyBindings/DefaultKeyBindings.dict: Add new key bindings.
	* ChangeLog: Add to description of a previous change.

2006-11-09  Matt Rice  <ratmice@gmail.com>

	* Source/NSTableView.m (selectContiguousRegion): Remove usage of
	offsets.

2006-11-08  Matt Rice  <ratmice@gmail.com>

	* Source/NSTableView.m: Implement keyboard navigation/selection.
	Fixes bug #11942.
	(-selectRow:byExtendingSelection:): Update _clickedRow.
	(-mouseDown:): Ditto.
	* Source/NSSlider.m (keyDown:): Call supers implementation if we don't
	use the key stroke.

2006-11-07  Matt Rice  <ratmice@gmail.com>

	* Source/NSTableView.m: Whitespace changes to conform to coding
	standards.

2006-11-07  Matt Rice  <ratmice@gmail.com>

	* Source/NSTableView.m (-mouseDown): Only call editWithFrame: from a
	double click. Don't track cells from a mouse dragged.
	Add comments.

2006-11-06  Matt Rice  <ratmice@yahoo.com>

	* Source/NSTextView_actions.m: Fix keyboard movement scrolling
	when selecting text off the bottom or right of the visible area.

2006-11-06  Matt Rice  <ratmice@yahoo.com>

	* Source/NSTextView_actions.m: Remove hack from previous patch.

2006-11-06 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSDisplayServer.m: Improve documentation of window ordering
	* Source/NSWindow.m: ditto
	* Source/NSApplication.m: Fix minor bug with cleanup on termination
	when the appicon was suppressed.
	* Source/NSAttributedString.m:
	* Source/NSClipView.m:
	* Source/NSApplication.m:
	* Source/NSImage.m:
	* Headers/AppKit/NSSound.h:
	* Headers/AppKit/NSTextAttachment.h:
	* Headers/AppKit/NSPopUpButtonCell.h:
	* Headers/AppKit/NSPanel.h:
	* Headers/AppKit/NSTableHeaderCell.h:
	* Headers/AppKit/NSSpellServer.h:
	* Headers/AppKit/NSAlert.h:
	* Headers/AppKit/NSColorList.h:
	* Headers/AppKit/NSWindowController.h:
	* Headers/AppKit/NSScreen.h:
	* Headers/AppKit/NSOpenPanel.h:
	* Headers/AppKit/NSSliderCell.h:
	* Headers/AppKit/NSImageCell.h:
	* Headers/AppKit/NSAffineTransform.h:
	* Headers/AppKit/NSText.h:
	* Headers/AppKit/AppKitDefines.h:
	* Headers/AppKit/NSParagraphStyle.h:
	* Headers/AppKit/NSBox.h:
	* Headers/AppKit/AppKitExceptions.h:
	* Headers/AppKit/NSTableHeaderView.h:
	* Headers/AppKit/NSAttributedString.h:
	* Headers/AppKit/NSWorkspace.h:
	* Headers/AppKit/NSPopUpButton.h:
	* Headers/AppKit/NSFontManager.h:
	* Headers/AppKit/NSFormCell.h:
	* Headers/AppKit/NSMenu.h:
	* Headers/AppKit/NSMatrix.h:
	* Headers/AppKit/NSWindow.h:
	* Headers/AppKit/NSLayoutManager.h:
	* Headers/AppKit/NSButtonCell.h:
	* Headers/AppKit/NSColorPicker.h:
	* Headers/AppKit/NSActionCell.h:
	* Headers/AppKit/NSImageView.h:
	* Headers/AppKit/NSOpenGLView.h:
	* Headers/AppKit/NSDataLinkManager.h:
	* Headers/AppKit/NSClipView.h:
	* Headers/AppKit/NSSplitView.h:
	* Headers/AppKit/NSBitmapImageRep.h:
	* Headers/AppKit/NSInputServer.h:
	* Headers/AppKit/NSTextFieldCell.h:
	* Headers/AppKit/NSImageRep.h:
	* Headers/AppKit/NSBezierPath.h:
	* Headers/AppKit/NSGraphics.h:
	* Headers/AppKit/NSResponder.h:
	* Headers/AppKit/NSColorWell.h:
	* Headers/AppKit/NSApplication.h:
	* Headers/AppKit/NSForm.h:
	* Headers/AppKit/NSWindow+Toolbar.h:
	* Headers/AppKit/NSTableColumn.h:
	* Headers/AppKit/NSNib.h:
	* Headers/AppKit/NSComboBox.h:
	* Headers/AppKit/NSMovieView.h:
	* Headers/AppKit/NSButton.h:
	* Headers/AppKit/NSSavePanel.h:
	* Headers/AppKit/NSColor.h:
	* Headers/AppKit/NSMovie.h:
	* Headers/AppKit/NSCachedImageRep.h:
	* Headers/AppKit/NSStepper.h:
	* Headers/AppKit/NSPrinter.h:
	* Headers/AppKit/NSHelpManager.h:
	* Headers/AppKit/NSMenuItemCell.h:
	* Headers/AppKit/NSPasteboard.h:
	* Headers/AppKit/DPSOperators.h:
	* Headers/AppKit/AppKit.h:
	* Headers/AppKit/NSTextContainer.h:
	* Headers/AppKit/NSNibDeclarations.h:
	* Headers/AppKit/NSToolbar.h:
	* Headers/AppKit/NSSearchFieldCell.h:
	* Headers/AppKit/NSCursor.h:
	* Headers/AppKit/NSPrintOperation.h:
	* Headers/AppKit/NSControl.h:
	* Headers/AppKit/NSInterfaceStyle.h:
	* Headers/AppKit/NSMenuItem.h:
	* Headers/AppKit/NSScroller.h:
	* Headers/AppKit/NSDocumentFrameworkPrivate.h:
	* Headers/AppKit/NSInputManager.h:
	* Headers/AppKit/NSRulerMarker.h:
	* Headers/AppKit/NSProgressIndicator.h:
	* Headers/AppKit/NSGraphicsContext.h:
	* Headers/AppKit/NSFont.h:
	* Headers/AppKit/NSTextStorage.h:
	* Headers/AppKit/NSSearchField.h:
	* Headers/AppKit/NSOutlineView.h:
	* Headers/AppKit/NSPageLayout.h:
	* Headers/AppKit/NSTextView.h:
	* Headers/AppKit/NSFileWrapper.h:
	* Headers/AppKit/NSTabViewItem.h:
	* Headers/AppKit/PSOperators.h:
	* Headers/AppKit/NSDragging.h:
	* Headers/AppKit/NSDocumentController.h:
	* Headers/AppKit/NSColorPicking.h:
	* Headers/AppKit/NSDrawer.h:
	* Headers/AppKit/NSCustomImageRep.h:
	* Headers/AppKit/NSRulerView.h:
	* Headers/AppKit/NSMenuView.h:
	* Headers/AppKit/NSSecureTextField.h:
	* Headers/AppKit/NSNibLoading.h:
	* Headers/AppKit/NSHelpPanel.h:
	* Headers/AppKit/NSComboBoxCell.h:
	* Headers/AppKit/NSToolbarItem.h:
	* Headers/AppKit/NSImage.h:
	* Headers/AppKit/NSSlider.h:
	* Headers/AppKit/NSStepperCell.h:
	* Headers/AppKit/NSStringDrawing.h:
	* Headers/AppKit/NSOpenGL.h:
	* Headers/AppKit/NSDataLink.h:
	* Headers/AppKit/NSScrollView.h:
	* Headers/AppKit/NSColorPanel.h:
	* Headers/AppKit/NSEPSImageRep.h:
	* Headers/AppKit/NSSpellProtocol.h:
	* Headers/AppKit/NSTabView.h:
	* Headers/AppKit/NSDataLinkPanel.h:
	* Headers/AppKit/NSPrintInfo.h:
	* Headers/AppKit/NSUserInterfaceValidation.h:
	* Headers/AppKit/NSPrintPanel.h:
	* Headers/AppKit/NSCell.h:
	* Headers/AppKit/NSEvent.h:
	* Headers/AppKit/NSTableView.h:
	* Headers/AppKit/NSBrowserCell.h:
	* Headers/AppKit/NSNibConnector.h:
	* Headers/AppKit/NSSelection.h:
	* Headers/AppKit/NSTextField.h:
	* Headers/AppKit/NSSpellChecker.h:
	* Headers/AppKit/NSView.h:
	* Headers/AppKit/NSDocument.h:
	* Headers/AppKit/NSBrowser.h:
	* Headers/AppKit/NSFontPanel.h:
	* Headers/Additions/GNUstepGUI/GSTable.h:
	Update to use current version macros and fix a few documentation
	errors.

2006-11-06  Matt Rice  <ratmice@yahoo.com>

	* Source/NSTextView_actions.m: Implement some undocumented key binding
	actions.

2006-11-06  Matt Rice  <ratmice@yahoo.com>

	* Source/NSTextView_actions.m:
	* Source/NSOpenPanel.m:
	* Source/GSLayoutManager.m:
	* Source/NSLayoutManager.m:
	* Source/NSSavePanel.m:
	* Source/NSTextView.m:
	* Source/NSStringDrawing.m:
	* Headers/Additions/GNUstepGUI/GSLayoutManager_internal.h:
	* Headers/AppKit/NSTextView.h: Remove underscores from category names
	as they can confuse the debugger.

2006-11-05  Matt Rice  <ratmice@yahoo.com>

	* Source/NSSlider.m (-keyDown:): Implement, Fixes bug #14000.
	* Source/NSSliderCell.m (-trackMouse:...): Fix allows tick marks
	only mouse tracking.

2006-11-05  Matt Rice  <ratmice@yahoo.com>

	* Source/NSColorPanel.m: Implement -worksWhenModal:. Fixes bug #9417.

2006-11-02  Matt Rice  <ratmice@yahoo.com>

	* Source/NSTableView (_editNextCellAfterRow:inColumn:):
	Wrap around when number of rows is exceeded.

2006-11-02 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTheme.m:
	* Source/GSInfoPanel.m:
	Merge in changes from theme branch...
	Support tiling when drawing button cells.
	Make theme panel link visible, as someone suggested that having
	it totally hidden was not so good. Perhaps make it more explicit
	in future?

2006-11-01  Matt Rice  <ratmice@yahoo.com>

	* Source/NSTableView.m:
	(-editColumn:row:withEvent:select:): Raise when passed an unselected
	row.
	(-textDidEndEditing:): Handle NSReturnTextMovement.
	(_editNextCellAfterRow:inColumn:): New private method.


2006-11-01  Matt Rice  <ratmice@yahoo.com>

	* Source/NSTableView.m: Add new private methods.
	(-mouseDown:): Reorganize and don't track cells until dragging
	has been ruled out.
	* Source/NSCell.m (trackMouse:inRect:ofView:untilMouseUp:):
	Handle events no longer in the queue.
	* Source/GSDragView.m: Change NSLog to NSDebugLLog.

2006-10-31  Matt Rice  <ratmice@yahoo.com>

	*  Tools/gopen.m
	*  Source/NSView.m
	*  Source/GSPDFPrintOperation.m
	*  Source/NSHelpManager.m
	*  Source/GSHelpManagerPanel.m: Add missing includes.

2006-10-31 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSWorkspace.m: add missing include

2006-10-30  Matt Rice  <ratmice@yahoo.com>

	* Source/NSComboBoxCell.m (validateSelection): Test for invalid row.

2006-10-28  Adam Fedor  <fedor@gnu.org>

	* Source/NSApplication.m (initialize_gnustep_backend): Use
	GSBackend class directly when backend is compiled as a library.
	(Partial fix for Bug #16453, see also gnustep-back).

2006-10-27  Matt Rice  <ratmice@yahoo.com>

	* Source/NSAlert.m: Add GSRunExceptionPanel function
	and GSExceptionPanel class.
	* Headers/AppKit/NSPanel.h: Declare GSRunExceptionPanel.
	* Source/NSApplication.m (_NSAppKitUncaughtExceptionHandler):
	Use GSRunExceptionPanel.

2006-10-27  Matt Rice  <ratmice@yahoo.com>

	* Source/NSTableView.m (-setFrame:,-setFrameSize:): Use
	documentVisibleRect. Shrink if table is larger than needed height.
	fixes bug #18117.
	(-drawBackgroundInClipRect:): Draw the background.
	* Source/NSClipView.m (-documentVisibleRect:): Return the clip views
	visible rect converted to the document views coordinate system.

2006-10-24  Matt Rice  <ratmice@yahoo.com>

	* Source/NSApplication.m (NSAppIcon -mouseDown:): Call unhide:
	regardless of whether we're hidden or not.

2006-10-22  Matt Rice  <ratmice@yahoo.com>

	* Source/NSTableView.m (-mouseDown:): Check for empty selection.
	when adding to the current selection. Fixes bug #15261.

2006-10-21  Matt Rice  <ratmice@yahoo.com>

	* Headers/AppKit/NSGraphics.h: Add GSOrderedWindows function.
	* Source/NSApplication.m (NSAppIconView -mouseDown:): Use
	GSOrderedWindows.
	(NSApplication -deactivate): Ditto.
	(-hide:): Ditto.
	(-unhideWithoutActivation:): Ditto.
	(-makeWindowsPerform:inOrder): Ditto.
	(-orderedWindows:): Ditto.
	(-windowWillClose:): Ditto.
	* Source/GSDisplayServer.m: Implement -windowlist.
	* Source/NSWindow.m (NSCountWindowList,NSWindowList): Use -windowlist.
	(GSOrderedWindows): Initial implementation.

2006-10-21 11:30-EDT Matt Rice <ratmice@yahoo.com>

	* Source/NSTableView.m: If the tableview is smaller than
	it's clipview, then resize it so that it fits.
	Corrects bug#9608 and bug#18073.
	Patch committed by: Gregory Casamento <greg_casamento@yahoo.com>

2006-10-19 21:17-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSMenuItemCell.m: Correct menu highlighting issue
	found by applying changes suggested by Jeff Teunissen.   This
	change causes the menu to use the correct text color when
	highlighted. (minor change)

2006-10-19 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepGUI/GSTheme.h:
	* Source/GSTheme.m:
	Have tile filling method return rect of central tile area.
	* Source/NSView.m: Fixup indentation problems.

2006-10-19 01:45-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSView.m: Applied patch from Banlu Kemiyatorn.  Corrects
	issue with detection of events in a rotated view.

2006-10-16 20:53-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSFont.m: Apply slightly modified version of patch
	from Jeff Teunissen deek@d2dc.net to setNSFont().  Setting
	a font should set its size. (minor change)
	* Source/NSImage.m: Set the alpha on the background when printing.

2006-10-15 11:23-EDT Mark Tracy <tracy454 at concentric dot net>

	* Source/NSPageLayout.m: NSPageLayout was setting a default page
	scale of 100 cause: pageScale factor is displayed as percentage fix:
	pageScale*100 sent to textfield and textfield/100 stored in pageScale.
	NSPageLayout had different limits on scaling than NSPrintPanel fix:
	adjust formatter max.
	* Source/NSPrintOperation.m: NSPrintOperation would loop randomly
	if a custom view replies YES to -knowsPageRange cause:
	-_printPaginateWithInfo did not initialize info->pageScale,
	info->xpages, info->ypages fix: in -_printPaginateWithInfo
	set default pageScale=1.0 outside conditional fix: in -_print
	set xpages and ypages from viewPageRange as reported by custom view.
	* Source/NSView.m: -beginDocument was misplacing subviews when
	generating PostScript for printing fix: force regeneration of
	coordinates.
	Patch Applied by Gregory Casamento

2006-10-15 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBrowser.m:
	* Source/NSSound.m:
	* Source/NSTextAttachment.m:
	* Source/NSPopUpButtonCell.m:
	* Source/NSPanel.m:
	* Source/NSImageCell.m:
	* Source/NSSliderCell.m:
	* Source/GSGormLoader.m:
	* Source/NSParagraphStyle.m:
	* Source/NSFormCell.m:
	* Source/NSMenu.m:
	* Source/NSWindow.m:
	* Source/NSButtonCell.m:
	* Source/NSImageView.m:
	* Source/NSActionCell.m:
	* Source/NSDataLinkManager.m:
	* Source/NSClipView.m:
	* Source/NSBitmapImageRep.m:
	* Source/NSTextFieldCell.m:
	* Source/NSColorWell.m:
	* Source/GSTextStorage.m:
	* Source/NSApplication.m:
	* Source/NSTableColumn.m:
	* Source/GSVbox.m:
	* Source/NSNib.m:
	* Source/NSCachedImageRep.m:
	* Source/NSPrinter.m:
	* Source/NSTextContainer.m:
	* Source/GSNibLoader.m:
	* Source/GSNibCompatibility.m:
	* Source/GSTrackingRect.m:
	* Source/NSSearchFieldCell.m:
	* Source/NSControl.m:
	* Source/GSHbox.m:
	* Source/NSProgressIndicator.m:
	* Source/GSModelLoaderFactory.m:
	* Source/NSTextStorage.m:
	* Source/NSTextView.m:
	* Source/NSDocumentController.m:
	* Source/NSMenuView.m:
	* Source/NSSecureTextField.m:
	* Source/NSComboBoxCell.m:
	* Source/NSImage.m:
	* Source/NSStepperCell.m:
	* Source/NSDataLink.m:
	* Source/NSScrollView.m:
	* Source/NSBundleAdditions.m:
	* Source/NSCell.m:
	* Source/GSTable.m:
	* Source/NSTableView.m:
	* Source/NSBrowserCell.m:
	* Source/NSSelection.m:
	* Source/NSTextField.m:
	* Source/NSView.m:
	* Source/NSDocument.m:
	Fixup some minor coding standard violations ... add white space.
	* Headers/Additions/GNUstepGUI/GSTheme.h:
	* Source/GSTheme.m:
	Add control for caching of tiles.  Add another fill style for tiling.
	Make fill style names avoid possible name clashes by using GS prefix.

2006-10-12 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSImageView.m: Fix error in initial drag position.
	* Source/GSTheme.m: Improve display of current theme information.

2006-10-11 Nicola Pero <nicola.pero@meta-innovation.com>

	* GNUmakefile (GNUSTEP_INSTALLATION_DOMAIN):
	Use GNUSTEP_INSTALLATION_DOMAIN
	instead of GNUSTEP_INSTALLATION_DIR.

2006-10-09 Richard Frith-Macdonald <rfm@gnu.org>

	* Documentation/GuiAdditions.gsdoc:
	* Documentation/Gui.gsdoc:
	* Documentation/GuiUser/KeyboardSetup.gsdoc:
	* Documentation/GuiUser/LanguageSetup.gsdoc:
	* Documentation/GuiUser/DefaultsSummary.gsdoc:
	* Documentation/ReleaseNotes.gsdoc:
	* Documentation/General/OpenStepCompliance.gsdoc:
	Update dtd version

2006-10-08 23:47-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Images/GNUmakefile: Copy GSStop.tiff and GSSearch.tiff to the
	installation directory.  They were previously missing.

2006-10-07 10:20-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Implement init in NSIBHelpConnector.

2006-10-07 10:13-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Implement establishConnection in
	NSIBHelpConnector.

2006-10-07 10:02-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSNibCompatibility.h: Declaration
	for NSIBHelpConnector ivars and methods.
	* Source/GSNibCompatibility.m: Implemented NSIBHelpConnector.
	* Source/NSBundleAdditions.m: Added check to initWithCoder so that
	values aren't decoded, if there's no value in the coder.

2006-10-06 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTrackingRect.m: Allow reset rect to another value.
	* Source/GSToolTips.m: Improve handling of tips in rects other than
	the main one.

2006-10-06 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSToolTips.h: Remove some ivars
	* Source/GSToolTips.m: Move ivars to be static variables for common
	use by all tool tips.  Cancel an in-progress tooltip when a new one
	starts.

2006-10-04 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSToolTips.h: create tool tip wondow fully on screen
	* Source/GSToolTips.m: ditto
	* Source/NSView.m: very minor tooltip efficiency tweak.
	* Version: Bump to 0.12 for next

2006-10-04 Enrico Sersale <enrico@fibernet.ro>

	* Source/NSView.m: In -setToolTip: sets the has_tooltips flag.

2006-10-04 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSWindow.m: Add help key support for context help.
	* NSToolbarItem.m: Implement tool tips.
	* GSToolTips.m: Use correct font.

2006-10-02 20:41-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Resources/Esperanto.lproj/Localizable.strings
	* Resources/German.lproj/Localizable.strings
	* Resources/Italian.lproj/Localizable.strings
	* Resources/Lojban.lproj/Localizable.strings: Correct grammar
	in localization bundles as well.

2006-10-02 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GNUmakefile: Add GSToolTips.[hm]
	* Source/NSWindow.m: Add private tooltip functionality.
	* Source/GSToolTips.h: Interface to let views and windows handle tips.
	* Source/GSToolTips.m: ToolTip implementation ... main part.
	* Source/NSView.m: Use GSToolTips to implement tool tips.
	* Headers/AppKit/NSResponder.h: Add a flag for views with tool tips.
	Basic implementation of tool tip help.

2006-10-02  Nicola Pero <nicola.pero@meta-innovation.com>

	* configure.ac: Check the new variable GNUSTEP_IS_FLATTENED,
	and default to yes.
	* configure: Regenerated.

	* Source/GSTheme.m: Worked arond a compiler bug that would abort
	compilation on GCC 3.3.3 20040412 (Red Hat Linux 3.3.3-7).  Avoid
	[NSMutableSet set] as the compiler is confusing +(id)set with
	-(void)set.

2006-10-02 08:19-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSDocumentController.m: Correct grammar in
	reviewUnsavedDocumentsWithAlertTitle:...  "Quit Anyways" should
	be "Quit Anyway".

2006-10-01 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTrackingRect.m:
	* Source/NSView.m:
	* Headers/AppKit/NSView.h:
	Fix tracking rect bug ... the owner of the rectangle should not
	be retained by a tracking rect (but should be retained by a cursor
	rect).  Updated documentation to clearly state what mis retained.

2006-10-01 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTheme.m: Add rudimentary inspector.
	Make themes in panel be in alphabetical order except for the
	default theme (always first in the list).
	Allow setting of default theme for application.
	* Source/NSHelpManager.m: Implement context help cursor.
	* Source/NSHelpPanel.m: Implement simple fallback help panel display
	for systems where no rtf/rtfd viewing application is installed.
	* Source/NSResponder.m: Tweak context help
	* Source/NSCursor.m: tidied a little
	* Images/GNUmakefile: Install context help cursor
	* Images/common_HelpCursor.tiff: add context help cursor

2006-09-30 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSColor.m: Remove debug log message.
	* Source/GSInfoPanel.m: Open theme handling panel.
	* Source/GSTheme.m: Rudimentary theme handling panel.
	* Headers/Additions/GNUstepGUI/GSTheme.h: A few more methods.
	Start adding a panel to allow selection of themes in a running app.

2006-09-29 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSWindow.m: If ordering out a deferred window which was
	never ordered in, there is nothing to do.
	* Source/NSMenu.m: (_organize) when switching from horizontal to
	vertical menu, attempt to restore contents fo the app menu to the
	main menu in a reasonable manner.
	* Source/NSHelpManager.m: Use the help file specified in Info.plist
	* Headers/Additions/GNUstepGUI/GSTheme.h:
	* Source/GSTheme.m: Add -authors and -icon methods. Support loading
	from an absolute path.

2006-09-28 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTheme.m: Update main menu on theme activation.
	* Source/NSMenu.m: ([setMain:]) handle change of interface style.
	* Source/NSInterfaceStyle.m: Observe/handle theme activation.
	* Headers/AppKit/NSMenu.h: remove internal method from public header
	* Headers/Additions/GNUstepGUI/GSTheme.h: add -infoDictionary method
	and documentation.

2006-09-26 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSWorkspace.m: Use png in preference to tiff.
	* Source/NSMenu.m: Remove unused extension from icon names.
	* Source/NSSplitView.m: ditto
	* Source/NSOutlineView.m: ditto
	* Source/NSTabView.m: ditto

2006-09-25  Matt Rice <ratmice@yahoo.com>

	* Source/NSTableView.m (_shouldEditTableColumn:row:):
	Dont invert delegate return value.

2006-09-24 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepGUI/GSDisplayServer.h:
	* Source/GSDisplayServer.m: Revert unnecessary addition to api
	* Source/NSWindow.m: Use ([flushwindowrect::]) for expose events.
	* Source/GSDragView.m: Don't drop expose events.

2006-09-23  Matt Rice <ratmice@yahoo.com>

	* Source/NSTableView.m (_isCellEditableColumn:row:): Allow
	delegate to limit editablility of editable columns.

2006-09-23 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSWindowDecorationView.m: comment out dubious change.
	* Source/GSDisplayServer.m: Add method for expose events
	* Source/NSWindow.m: Handle expose events.
	* Headers/AppKit/NSEvent.h: Add expose event type.
	* Headers/Additions/GNUstepGUI/GSDisplayServer.h: Add method for
	expose events.

2006-09-22 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/AppKit/NSColorList.h: Add documentation.
	* Source/NSColorList.m: Fix ([-writeToFile:]) to work as specified
	by Apple's documentation.

2006-09-22 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepGUI/GSDrawFunctions.h:
	* Headers/Additions/GNUstepGUI/GSTheme.h:
	* Source/GSDrawFunctions.m:
	* Source/GSTheme.m:
	Renamed file.
	* Source/NSBrowser.m:
	* Source/NSTableHeaderCell.m:
	* Source/GSWindowDecorationView.m:
	* Source/NSImageCell.m:
	* Source/NSBox.m:
	* Source/GNUmakefile:
	* Source/NSFormCell.m:
	* Source/NSButtonCell.m:
	* Source/NSColorWell.m:
	* Source/NSColor.m:
	* Source/NSMenuItemCell.m:
	* Source/GSTitleView.m:
	* Source/NSProgressIndicator.m:
	* Source/DocMakefile:
	* Source/NSComboBoxCell.m:
	* Source/NSStepperCell.m:
	* Source/NSScrollView.m:
	* Source/NSTabView.m:
	* Source/NSCell.m:
	* Source/NSTableView.m:
	* Documentation/GuiAdditions.gsdoc:
	Update for rename of 'GSDrawFunctions to GSTheme.
	Change all class based access to drawing methods to go via current
	instance.
	Remove all class based versions of drawing methods.

2006-09-22 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSWindowDecorationView.m: Merge in theme branch changes.
	* Source/NSColorList.m: Cooperate with NSColor to change system
	color list when a new theme is activated.
	* Source/GSDrawFunctions.m: Merge in theme branch changes.
	Reorganize, add theme loading functionality, add image tiling
	methods.
	* Source/NSButtonCell.m: Merge in theme branch changes.
	* Source/NSColor.m: Take notice of themes changing the system
	color list and interface with NSColorList to make the chanes and
	then send out the notification to tell all observers.
	* Source/GSTitleView.m: call instance method rather than class method
	* Source/DocMakefile: Document theme changes
	* Source/NSTabView.m: call instance method rather than class method
	* Documentation/GuiAdditions.gsdoc: link to theme documentation
	* Documentation/General/GNUmakefile: make theme documentation
	* Headers/AppKit/NSWindow.h: improve comments
	* Headers/Additions/GNUstepGUI/GSDrawFunctions.h: reorganize

2006-09-21  Matt Rice <ratmice@yahoo.com>

	* Source/NSTextFieldCell.m (-setEnabled:): Revert previous patch.

2006-09-20  Matt Rice <ratmice@yahoo.com>

	* Source/NSTextField.m (-mouseDown:): Check if the control is
	disabled. (bug #13916)
	(-acceptFirstResponder:): Return no if disabled.
	(-acceptFirstMouse:): Ditto.
	* Source/NSTextFieldCell.m (-setEnabled:): Reset the string value
	to an empty string if disabling.

2006-09-20 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSWindowDecorationView.m: ([removeSubview:]) override to
	check for removal of the window's content view and handle that
	case so that the window knows the content view has gone.

2006-09-17  Matt Rice <ratmice@yahoo.com>

	* Source/NSDocument.m (-initWithContentsOfFile:ofType:): Set the
	file name and type before attempting to read the document.

2006-09-17  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableView.m (-_isCellEditableColumn:row:): Correced
	error in last patch, pointed out by David Ayers <ayers@fsfe.org>.

2006-09-17  Fred Kiefer <FredKiefer@gmx.de>

	* Images/GSSearch.tiff,
	* Images/GSStop.tiff: New icons for the NSSearchButtonCell by
	Nikolaus Schaller <hns@computer.org>.

2006-09-17  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableView.m: Changed _isCellEditable into a method
	[_isCellEditableColumn:row:] and use this everywhere. Have this new
	method check, if the table column is editable and only when not ask
	the delegate wether the cell should be editable. The matches the Cocoa
	behaviour as reported by Quentin Mathe <qmathe@club-internet.fr>.
	* Source/NSTableView.m (-editColumn:row:withEvent:select:): Allow
	selection of cell, even when the data source is not editable.
	* Source/NSTableView.m (-mouseDown:): Abort editing.
	* Source/NSOutlineView.m (-editColumn:row:withEvent:select:):
	Similar changes to super class, plus some code reordering and correction.

2006-09-16 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSColor.m: Fix memory leak (bug #17769)

2006-09-13 00:28-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/AppKit/NSDrawer.h: Added ivars to support implementation.
	* Source/GSNibCompatibility.m: Moved comments to top, for gcc < 3.0
	compilation.
	* Source/NSDrawer.m: Added GSDrawerWindow implementation and
	implementation of some methods in NSDrawer to interact with the
	window.

2006-09-12 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSWindowDecorationView.m: Simplify/rewrite to have the view
	always match the window frame so that the window base coordinate
	system has its origin at the bottom left corner of the window frame.
	* Headers/AppKit/NSWindow.h: Improve documentation
	* Headers/Additions/GNUstepGUI/GSDisplayServer.h: ditto

2006-09-06 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/AppKit/NSWindow.h: Add some documentation about what
	frame management methods should do.  Remove some bogus additional
	methods for messing with frames.
	* Source/NSWindow.m: ([cascadeTopLeftFromPoint:]) implement to match
	MacOS-X specification.  Remove unused additional frame methods.
	* Source/GSWindowDecorationView.h:
	* Source/GSWindowDecorationView.m:
	* Source/GSStandardWindowDecorationView.m:
	Remove unused/unnecessary methods and simplify.
	NB. These fixups require corresponding fixups in the backend.

2006-09-05 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBitmapImageRep+JPEG.m: Fix declaration position causing
	compile failure on older compilers.  Make more consistent with coding
	(indentation and white space usage) standards.

2006-09-04 00:23 Nicolas Roard <nicolas@roard.com>

	* Source/NSBitmapImageRep+JPEG.m: Added JPEG writing support to
	NSBitmapImageRep. Only handles RGB images (NS*RGBColorSpace).
	You can specify the compression ratio by using the
	NSImageCompressionFactor key in the properties dictionary.

2006-09-03 12:12-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSStandardWindowDecorationView.m: Put back RELEASE to
	prevent memory leak.
	* Source/NSControl.m: Reverted last change.
	* Source/NSWindow.m: Added autogsdoc comments to methods.

2006-08-31 00:21-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSStandardWindowDecorationView.m: Correct issue in
	initWithFrame:window: that was causing a crash when the window
	was closed.
	* Source/NSControl.m: Reinstated fix from Fred Kiefer for
	mouseDown: simplification and refactoring.

2006-08-29  Adam Fedor  <fedor@gnu.org>

	* Documentation/ReleaseNotes.gsdoc: Updates.

2006-08-28 00:00-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Version 0.11.0

2006-08-26 22:30-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibLoader.m: loadModelData:... Remove TEST_RELEASE
	from handler block.
	* Source/NSColor.m: initWithCoder: retain autoreleased instances
	of NSColor to prevent double release when the pool is cleared.
	* Source/NSControl.m: initWithCoder: retain cell to prevent
	double release when the pool is cleared.
	* Source/NSFont.m: initWithCoder: retain autoreleased instances
	of NSFont to prevent double release when the pool is cleared.

2006-08-26 18:25-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSTableView.m: initWithCoder: minor cleanup.
	* Source/NSTextFieldCell.m: Retain text/background colors to
	prevent crash.

2006-08-26 10:01-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: In [NSIBObjectData initWithCoder:]
	clean up the buildMap calls.  In NSCustomResource retain the resource
	that is returned to prevent a crash.  Add dealloc method to
	NSCustomObject.
	* Source/NSClipView.m: In initWithCoder: retain and release
	documentView before removing it from the view and resetting
	it as the document view.   This ensures that the view will
	not be deallocated.
	* Source/NSScrollView.m: Retain the contentView before exchanging
	it and then release to prevent the view from being deallocated in
	initWithCoder:
	* Source/NSTableView.m: Replace call to "new" with alloc/init for
	NSTableHeaderView in initWithCoder:
	* Source/NSView.m: in initWithCoder: keyed coding don't release
	the subs array since it's already autoreleased.  This was causing
	a crash.

2006-08-21  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBrowser.m (-encodeWithCoder:): Moved variable
	declaration to the beginning of the block to not break old
	compilers deliberately.

2006-08-20 12:14-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSApplication.m: Remove keys from initWithCoder: and
	encodeWithCoder:.
	* Source/NSCell.m: Initialize the cell based on content in
	initWithCoder:.
	* Source/NSFormCell.m: Removed unnecessary decoding of NSContents key
	in initWithCoder: since it is already done in NSCell.m.
	* Source/NSMatrix.m: initWithCoder:/encodeWithCoder: added
	autosizesCells flag and clear flags which are not used
	prior to encoding.
	* Source/NSPopUpButtonCell.m: Implemented encoding in
	encodeWithCoder:.

2006-08-19 15:56-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSBrowser.m: Added comment in encodeWithCoder:.

2006-08-19 10:33-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSBrowserCell.m: Improved encoding and decoding in
	encodeWithCoder: and initWithCoder:
	* Source/NSBrowser.m: Improved encoding and decoding in
	encodeWithCoder: and initWithCoder:
	* Source/NSScrollView.m: Improved encoding and decoding in
	encodeWithCoder: and initWithCoder:

2006-08-17 00:54-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSButtonCell.m: Improvements in both initWithCoder: and
	encodeWithCoder: utilize the setCellAttribute:to: method and
	the cellAttribute: method to determine settings when saving
	to a keyed archive.

2006-08-16 00:53-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSTabView.m: Corrections in initWithCoder: and
	encodeWithCoder: to properly encode items and tabview orientation.

2006-08-15 01:02-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSNibCompatibility.h: Added oids method.
	* Images/common_Printer.tiff: Replaced old printer icon with one
	created from the PrefsIcon_SelectSpooler_Tile.jpg image on the website.
	* Source/GSNibCompatibility.m: Added oids method to get the map.

2006-08-13 16:18-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSCell.m: Conditionally encode the formatter in
	encodeWithCoder:.
	* Source/NSMenu.m: Change in encodeWithCoder: to add NSName to the
	menu with "_NSMainMenu" as the value so that IB will display the menu
	properly when loading.
	* Source/NSTableView.m: Conditionally encode datasource, delegate,
	target and action in encodeWithCoder:

2006-08-13 13:05-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSControl.m: Rolling back previous change to mouseDown:
	until it can be determined why it is causing some apps to crash.

2006-08-12 18:37-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSNibCompatibility.h: Added
	NSPSMatrix placeholder class.
	* Source/GSNibCompatibility.m: Added dummy implementation of
	NSPSMatrix placeholder class.
	* Source/NSOutlineView.m: Eliminated empty if conditional
	in encodeWithCoder:.
	* Source/NSProgressIndicator.m: Added code to initWithCoder:
	to properly unarchive.  Also implemented encodeWithCoder: and added
	GNUstep specific keys for information that GNUstep uses, but IB
	doesn't.   All GNUstep specific keys should be prefixed with
	GS*.
	* Source/NSTableColumn.m: Implemented encodeWithCoder:.
	* Source/NSTableView.m: Fixes in encodeWithCoder: to correct issues
	during load in InterfaceBuilder.

2006-08-11  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (displayIfNeededInRect:): Check for
	needs_display == YES, instead of NO.
	* Headers/AppKit/AppKit.h: Added missing header files and moved
	the non-OpenStep ones inside the #ifdef.
	* Source/NSTableView.m (-sizeLastColumnToFit): Don't clamp the
	value of the new column width, as the column those this by
	itself, and rely on the automatic tiling

2006-08-11  Fred Kiefer <FredKiefer@gmx.de>
	* Source/NSSlider.m (mouseDown:, trackKnob:knobRect:,
	_floatValueForMousePoint()): Moved all track related code to
	cell class.
	* Source/NSSliderCell.m (_floatValueForMousePoint(),
	trackMouse:...untilMouseUp:): Code previously in the NSSlider class.
	Reworked slightly to be more similar to [NSCell trackMouse:...
	untilMouseUp:].

2006-08-11 01:50-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Assign copies of the parameters to
	setClassName: and setExtension:.
	* Source/NSActionCell.m: Encode contro view, since it may be needed
	by IB in encodeWithCoder:
	* Source/NSButtonCell.m: Unarchive controlview for debugging purposes
	in initWithCoder:
	* Source/NSCell.m: Addecomment.

2006-08-10  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSControl.m (mouseDown:): Simplified code to no longer
	fiddle with the cells action mask nor to capture the mouse.

2006-08-09 02:28-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSButtonCell.m: Correct encoding of repeat and delay in
	encodeWithCoder: since they are encoded as integers.

2006-08-09 01:44-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSFont.m: Correct issue with size encoding in encodeWithCoder:
	and initWithCoder:.  Properly encode/decode as a float.
	* Source/NSImageCell.m: Implement encodeWithCoder:.
	* Source/NSImage.m: Comment out code in encodeWithCoder: which
	encodes reps until can determine how to properly encode images.
	* Source/NSImageView.m: implement encoding in encodeWithCoder:
	* Source/NSScrollView.m: Don't encode headerClipView if it's
	nil.
	* Source/NSTextView.m: Properly encode background color in
	NSTextViewSharedData.
	* Source/NSView.m: Encoding corrections in initWithCoder: and
	encodeWithCoder:.

2006-08-08 21:33-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSNibCompatibility.h
	* Source/GSNibCompatibility.m: Fix for window size issue caused
	by previous change.
	* Source/NSBitmapImageRep.m
	* Source/NSBox.m
	* Source/NSButtonCell.m
	* Source/NSCachedImageRep.m
	* Source/NSImage.m
	* Source/NSTabViewItem.m
	* Source/NSTabView.m
	* Source/NSTextFieldCell.m: Added encoding in encodeWithCoder:

2006-08-09  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSStepper.h
	* Headers/AppKit/NSStepperCell.h: Removed private method declarations.
	* Source/NSStepper.m: Moved code from mouseDown: method to the cell
	method trackMouse:...untilMouseUp:. Also moved the _increment and
	_decrement methods to the cell class.
	* Source/NSStepperCell.m: Rewrote mouse tracking to be more
	similar to NSCell's implementation and not use any direct
	drawing. Do not use hard coded colour values in the drawing
	methods, implemented keyed encoding and cleaned up the rest of the
	class.
	* Source/NSCell.m (trackMouse:...untilMouseUp:): Moved
	initialisation of periodCount out of the loop. In the old version
	the value stayed always 0.

2006-08-07  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSCell.m (-setBezeled:, -setBordered:): Switch border off,
	if setBezeled: is called and visa versa, independent of the actual
	parameter setting. This matches documented Cocoa behaviour.

2006-08-06 00:30-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Correction in nibInstantiate for
	window frame.
	* Source/NSActionCell.m
	* Source/NSButtonCell.m
	* Source/NSCell.m
	* Source/NSComboBoxCell.m
	* Source/NSControl.m
	* Source/NSMatrix.m
	* Source/NSTableView.m
	* Source/NSTextContainer.m
	* Source/NSTextStorage.m
	* Source/NSTextView.m: Encoding in encodeWithCoder:.

2006-08-05 09:08-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSMenu.m: encodeWithCoder: encode items and title of
	menu.

2006-08-05 08:43-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSNibCompatibility.h
	* Source/GSNibCompatibility.m: Changed visibleWindows to an Array, as
	it should be.
	* Source/NSView.m: Avoid encoding of super_view in encodeWithCoder: if
	it is the contentView of the window.

2006-07-21  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTextView.m (-setTypingAttributes:): Make sure to keep
	the main parts of the old attributes, if they are not provided by
	the new ones.

2006-07-18 23:11-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Added category on NSView and
	_fixSubviews method to correct window and superview after
	loading the nib file. The _fixSubviews method is called in
	nibInstantiate.
	* Source/GSNibTemplates.m: More helpful error message for when
	decoding fails due to the user attempting to load a version of
	GSNibContainer that the container doesn't know about in initWithCoder:

2006-07-17 Enrico Sersale <enrico@fibernet.ro>

	* Headers/AppKit/NSHelpManager.h:
	* Source/NSHelpManager.m:
	added -setContextHelp:forObject: as specified in Apple docs;
	-setContextHelp:withObject: deprecated.

2006-07-16 Enrico Sersale <enrico@fibernet.ro>

	* Headers/Additions/GNUstepGUI/GSHelpManagerPanel.h: added -buttonAction:
	method.
	* Source/GSHelpManagerPanel.m: implemented -buttonAction:.
	added a button to close the panel and changed the style mask of the window
	to NSTitledWindowMask | NSResizableWindowMask.

2006-07-15 Enrico Sersale <enrico@fibernet.ro>

	* Headers/AppKit/AppKit.h: added NSHelpManager.h.
	* Headers/AppKit/NSHelpManager.h: declaration for new method -pathForHelpResource:
	* Source/NSHelpManager.m: implemented -pathForHelpResource: in the NSBundle
	category. -pathForHelpResource: looks for help files giving the priority
	to localized resources.
	-showHelp: looks for rtfd files too.
	* Source/GSHelpManagerPanel.m: various fixes to avoid a crash when quitting
	and to resize correctly the NSTextView.

2006-07-14 01:17 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSNibCompatibility.h:
	* Source/GSNibCompatibility.m: Added method initWithWindow:.. to
	initialize the template from an actual window instance.

2006-07-10 00:12 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSSplitView.m: Keyed encoding changes in initWithCoder:

2006-07-09 10:50 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSNibTemplates.h: Declaration for
	new methods: visibleWindows, deferredWindows, & customClasses.
	* Source/GSNibTemplates.m: Simplification of awakeFromContext: code
	due to new gorm format changes.   Also, changes to init to initialize
	the new ivars, dealloc to release them and modifications to
	initWithCoder: and encodeWithCoder: to decode and encode the new
	data.  Added new methods: visibleWindows, deferredWindows, &
	customClasses.
	* Source/NSView.m: Minor cleanup.

2006-07-06 21:35 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSBrowser.m:
	* Source/NSClipView.m:
	* Source/NSScrollView.m:
	* Source/NSTableView.m: Copy some initialization code from
	initWithFrame: to initWithCoder.
	* Source/NSView.m: Remove from initWithCoder: a call to initWithFrame:
	according to the documentation normal objects in a nib should not have
	thier initWithFrame: method called at the time they are unarchived.
	Also, copy some initialization code here.

2006-07-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSSpellServer.m:
	* Source/NSAlert.m:
	* Source/NSWindowController.m:
	* Source/GSDisplayServer.m:
	* Source/NSWorkspace.m:
	* Source/GSLayoutManager.m:
	* Source/NSWindow.m:
	* Source/NSLayoutManager.m:
	* Source/GSStandardWindowDecorationView.m:
	* Source/GSTextStorage.m:
	* Source/GSHorizontalTypesetter.m:
	* Source/NSColor.m:
	* Source/NSPasteboard.m:
	* Source/NSMenuItem.m:
	* Source/NSPageLayout.m:
	* Source/NSOutlineView.m:
	* Source/NSTextView.m:
	* Source/NSBitmapImageRep+JPEG.m:
	* Source/NSComboBoxCell.m:
	* Source/NSToolbarItem.m:
	* Source/NSImage.m:
	* Source/NSDataLink.m:
	* Source/GSServicesManager.m:
	* Source/NSPrintPanel.m:
	* Source/NSEvent.m:
	* Source/GSDragView.m:
	* Model/GMArchiver.m:
	* Model/IMConnectors.m:
	* Tools/GSspell.m:
	Tweaks to avoid spurious warnings in recent gcc-4.1 and a few casts
	etc to deal with a few real issues when working on 64bit cpus.

2006-07-02  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTextView.m (-rulerView:didMoveMarker:,
	-rulerView:didRemoveMarker:, -rulerView:didAddMarker:): Removed a
	compiler warning by adding a type cast.
	* Source/NSTextView.m (-initWithCoder:) Removed unused variables.
	* Source/NSTextView.m (NSTextViewSharedData -dealloc) Call super dealloc.
	* Source/NSApplication.m (-initWithCoder:) Set delegate only when
	the keyed decoder contains it.
	* Source/NSSlider.m (-trackKnob:knobRect:, mouseDown:) Don't draw
	explicitly, as this gets handled automatically by the cell.
	* Source/NSOutlineView.m (-editColumn:row:withEvent:select:) Moved
	the lockFocus call right around the image cell drawing, as it is
	only needed here.

2006-06-25 12:40 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Added NSDecimalNumberPlaceholder
	class implementation to decode NSDecimalNumber instances in
	nib files.

2006-06-25 00:26 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: in -[NSIBObjectData
	instantiateWithOwner:topLevelObjects:] properly initialize
	the NSWindowTemplate and fill in the topLevelObjects array.

2006-06-20 20:58 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSNibCompatibility.h: Added
	declarations for classes and names methods and change return
	type for objects method.
	* Source/GSNibCompatibility.m: Properly return the pointer in
	objects method and also add methods for names, and classes
	maps in the nib file.
	* Source/NSDocument.m: Refuse to write a file for a type which isn't
	native.  If the class method isNativeType: returns YES, then write the
	file in writeToFile:ofType:saveOperation:.
	* Source/NSSliderCell.m: Make the cell non-bordered in initWithCoder:

2006-06-18 14:38 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSNibCompatibility.h: Added
	NSIBHelpConnector declaration.
	* Source/GSNibCompatibility.m: Added skeleton implementation of
	NSIBHelpConnector.

2006-06-17 20:39 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Resize window to window rect
	size in nibInstantiate.

2006-06-17 10:52 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSNibCompatibility.h: Removed
	unecessary ivar.
	* Source/GSNibCompatibility.m: Remove some uneeded code. Added
	code to translate a class properly NSClassSwapper when the class has
	a replacement registered with the current NSKeyedUnarchiver.

2006-06-15 00:51 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSNibCompatibility.h: Added
	new method declarations.
	* Source/GSNibCompatibility.m: Added isInterfaceBuilder method
	here.
	* Source/NSDocument.m: Added code to prevent the popup from
	showing blank when the fileType is set to a non-Editor type.

2006-06-11  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTextView_actions.m (-deleteToEndOfLine:): New method
	based on patch by Andreas Höschler <ahoesch@smartsoft.de>.
	* KeyBindings/DefaultKeyBindings.dict: Enable Control-k.

2006-06-09  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-discardCursorRects)
	* Source/NSWindow.m (-invalidateCursorRectsForView:): Updated
	version of patch for improved handling of cursor rects to fix bug #5871.
	Patch by Mircea Trache <aer@shaw.ca>.

2006-06-08 00:00 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSNibContainer.h: Minor cleanup.
	* Source/GSNibCompatibility.m: Added exception similar to the
	one for NSWindow to classes here, which don't implement non-keyed
	coding.
	* Source/GSNibTemplates.m: Added initial objects for GSCustomClass,
	NSDeferred, NSVisible names in name table.
	* Source/NSWindow.m: Added corrected exception text.

2006-06-04 13:30 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/AppKit/NSDrawer.h: Added ivar _contentSize to header.
	* Source/NSDrawer.m: Implemented keyed and non-keyed encoding.

2006-06-04 12:28 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSTrackingRect.m: Encode, if not a keyed archiver.
	* Source/NSApplication.m: Added coding
	* Source/NSDataLink.m: Added coding
	* Source/NSDataLinkManager.m: Added coding
	* Source/NSNib.m: Made comment use "TODO_NIB" instead of TODO, so that
	it can be pulled later.
	* Source/NSParagraphStyle.m: Added TODO_NIB.
	* Source/NSSelection.m: Added coding.
	* Source/NSSound.m: Added TODO_NIB
	* Source/NSTextAttachment.m: Added TODO_NIB.

2006-06-04 01:09 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSHbox.m: Implemented keyed coding.
	* Source/GSNibCompatibility.m: Added private method to help
	better decode keys/values in the nib data structures.
	* Source/GSTable.m: Implemented keyed coding.
	* Source/GSTextStorage.m: Added code to skip existing
	coding method contents, if the coder is a keyed coder.
	* Source/GSVbox.m: Implemented keyed coding.
	* Source/NSMenuView.m: Added code to skip coding, if
	it is a keyed coder.
	* Source/NSPanel.m: Added comment indicating that the
	call to the superclass initWithCoder method should throw
	an exception per documentation.
	* Source/NSPrinter.m: Added if to skip the coder logic,
	if using a keyed coder.
	* Source/NSStepper.m: Removed dummy initWithCoder:/encodeWithCoder:
	methods since they only called the superclass.
	* Source/NSWindow.m: Added exception called for in the
	documentation if NSWindow initWithCoder:/encodeWithCoder:
	is called with a keyed archiver.

2006-06-03  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPrinter.m (-interpretQuotedValue:, -gethex:): Better
	error reporting on non-hexadecimal substring. Ignore "<<" sequence
	as this is valid as part of a PS command string.

2006-06-01 00:13 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/AppKit/NSDocumentFrameworkPrivate.h: Addition of new
	private methods to manage file types.
	* Headers/AppKit/NSDocument.h: New ivar _saveType.
	* Source/NSDocumentController.m: Implementation of new private
	methods.
	* Source/NSDocument.m: Changed writeWithBackupToFile:ofType:
	saveOperation: to use new methods to get the human readable
	filetypes to be listed in the dropdown in the savepanel and to
	properly retrieve the extension for the specified filetype
	and apply it to the backup filename and filename being saved.
	Also modified changeSaveType: to update the save panel's
	requiredFileType when the type is changed.

2006-05-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSApplication.m: Implement MacOS-X behavior (as determined
	by experimentation) of sending ([performKeyEquivalent:]) to main menu
	and to the key window.  This differs from the old behavior of sending
	to all windows and means that popup/pulldown menus on windows other
	than the key window now cannot be activated using key equivalents.

2006-05-30 00:53 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSDocument.m: Implemented accessory view logic when
	the document can save more than one filetype.

2006-05-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSApplication.m: Revert last change which broke menu
	key equivalents for off-screen windows.
	* Source/NSOpenPanel.m: Fix handling CR key equivalent (bug #16688)
	so that panel only takes action when it is active.
	* Source/NSSavePanel.m: ditto
	Fix done by disabling the ok button when the panel is not active,
	but what about if other panels have similar bugs ... shouldn't there
	be some automatic mechanism to stop buttons (but not menu items) from
	responding to key equivalents when a window is not the key window?
	* Source/NSButton.m: ([performKeyEquivalent:]) return NO if blocked
	by a modal window as per macos-x documentation.

2006-05-29 00:58 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSApplication.m: Correction for bug#16688.
	* Source/NSDocumentController.m: Changed comment for currentDirectory.
	* Source/NSDocument.m: Removed "FIXME" since it is inaccurate.
	The signature of the method is the same as in the documentation.

2006-05-27  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-discardCursorRects, -removeCursorRect:cursor:)
	* Source/NSWindow.m (-invalidateCursorRectsForView:,
	-resetCursorRects): Improved handling of cursor rects to fix bug #5871.
	* Source/NSCursor.m (-mouseExited:):
	Set the default cursor, when the cursor was set on enter.
	Patch by Mircea Trache <aer@shaw.ca>.

2006-05-23  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTabView.m (-tabViewItemAtPoint:, -mouseDown:): Moved
	conversion of point with view transformation into the mouseDown:
	method to be compatible with Cocoa.
	Patch by Andreas Höschler <ahoesch@smartsoft.de>.

2006-05-20 18:25 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m
	* Source/NSButtonCell.m: Merged additional changes from
	NibCompatibility.
	NOTE: All changes which were merged from the NibCompatilibility
	branch are tagged at the end with [NibCompatibility].

2006-05-20 18:11 Gregory John Casamento <greg_casamento@yahoo.com>

	* ChangeLog
	* Documentation/ReleaseNotes.gsdoc
	* Headers/Additions/GNUstepGUI/GSNibCompatibility.h
	* Headers/Additions/GNUstepGUI/GSNibTemplates.h
	* Headers/AppKit/NSNib.h
	* Source/GNUmakefile
	* Source/GSNibCompatibility.m
	* Source/NSActionCell.m
	* Source/NSBundleAdditions.m
	* Source/NSButtonCell.m
	* Source/NSCell.m
	* Source/NSClipView.m
	* Source/NSColorWell.m
	* Source/NSLayoutManager.m
	* Source/NSMatrix.m
	* Source/NSMenuItem.m
	* Source/NSNib.m
	* Source/NSOutlineView.m
	* Source/NSPopUpButtonCell.m
	* Source/NSScroller.m
	* Source/NSScrollView.m
	* Source/NSSecureTextField.m
	* Source/NSSliderCell.m
	* Source/NSStepperCell.m
	* Source/NSTableView.m
	* Source/NSTextContainer.m
	* Source/NSTextField.m
	* Source/NSTextView.m
	* Source/NSView.m: Merged nib loading code from NibCompatibility.

2006-05-15 21:55 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Streamlined previous change.
	[NibCompatibility]

2006-05-15 00:54 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Add title mask if window has
	a title in the archive.
	* Source/NSPopUpButtonCell.m: Clear and reset the menu
	in the popup button cell initWithCoder: method.
	[NibCompatibility]

2006-05-14 20:58 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Added autosaveName.
	[NibCompatibility]

2006-05-10 23:55 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSButtonCell.m
	* Source/NSCell.m
	* Source/NSMatrix.m: Improved initWithCoder: nib support.
	[NibCompatibility]

2006-05-09 22:48 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSStepperCell.m: Implemented keyed coding.
	[NibCompatibility]

2006-05-07 22:36 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSNibCompatibility.h: Added
	_originalClassName member.
	* Source/GSNibCompatibility.m: use new member in
	instantiateRealObject:withClassName: to allow auto-substitution
	of cell classes.
	* Source/NSSecureTextField.m: Remove code to copy properties.
	[NibCompatibility]

2006-05-07 20:29 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSNibCompatibility.h: Addition of
	flags fields for the window.
	* Source/GSNibCompatibility.m: Improvments to NSWindowTemplate.
	* Source/NSScrollView.m: Changed unsigned int to unsigned long in
	initWithCoder:
	* Source/NSSecureTextField.m: code to copy the text field cell.
	* Source/NSTextField.m: Changed if and added a comment in
	initWithCoder:
	[NibCompatibility]

2006-05-07 11:07 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Removed kludge in nibInstantiate:owner:
	method and added a category for NSNibControlConnector to reformat
	the method name.
	[NibCompatibility]

2006-05-07 10:52 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m
	* Source/NSActionCell.m
	* Source/NSCell.m
	* Source/NSSliderCell.m: Changes and improvements to handling of
	cells for nib decoding.
	[NibCompatibility]

2006-05-06 13:09 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSBundleAdditions.m: Unarchive destination before source.
	* Source/NSOutlineView.m: Proper initialization of outline view in
	initWithCoder:
	* Source/NSTableView.m: Rearrangement of keys in initWithCoder:
	[NibCompatibility]

2006-05-05 00:41 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSTextView.m: Completion of code in initWithCoder: for
	keyed unarchiving.
	[NibCompatibility]

2006-05-03 22:43 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSNibCompatibility.h: Make
	NSIBObjectData conform to GSNibContainer protocol.
	* Headers/Additions/GNUstepGUI/GSNibContainer.h: New protocol.
	* Headers/Additions/GNUstepGUI/GSNibTemplates.h: Use new protocol
	as protocol for the GSNibContainer object.
	* Source/GNUmakefile: Add GSNibContainer.h to makefile.
	* Source/GSNibCompatibility.m: Implement GSNibContainer methods,
	skeleton implementation for some.
	* Source/NSScrollView.m: Correct issue with horiz/vert scroller.
	* Source/NSTextView.m: More keyed archiving changes.
	[NibCompatibility]

2006-05-03 01:00 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSLayoutManager.m
	* Source/NSTextContainer.m
	* Source/NSTextView.m: Improved keyed unarchiving for these classes.
	[NibCompatibility]

2006-04-30 17:12 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Addition of keyMap to NSKeyedUnarchiver
	in a category.
	* Source/NSScrollView.m: Change to re-align view only if scroller is
	present.
	* Source/NSTextView.m: Changed initWithCoder:
	* Source/NSView.m: Changed the order of initialization so that the
	view has it's frame prior to the unarchiving of subviews.
	[NibCompatibility]

2006-04-26 22:34 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSTableView.m: Correction for header view.
	[NibCompatibility]

2006-04-24 22:02 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Implementation of
	NSButtonImageSource.
	* Source/NSButtonCell.m: Code to compensate for image
	encoding anomalies in nibs.
	* Source/NSScrollView.m: Changes to properly decode scrollview
	attributes and border settings.
	* Source/NSTableView.m: Changes to properly set height of
	cornerview.
	[NibCompatibility]

2006-04-18 19:54 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSTableView.m: Corrected code in setHeaderView: to
	properly set the table view into the header view if it has
	a "setTableView:" method.
	[NibCompatibility]

2006-04-18 00:55 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSScrollView.m: Corrections for keyed decoding of
	border style and other settings.
	* Source/NSTableView.m: Some cleanup of keyed coding.
	[NibCompatibility]

2006-04-15 23:07 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Changed order of decoding.
	* Source/NSScroller.m: Properly set the horiz/vert flags
	* Source/NSScrollView.m: Corrections to keyed decoding and
	contentView handing.
	* Source/NSTableView.m: Corrections to keyed decoding.  Use of a
	struct to decode.
	[NibCompatibility]

2006-04-15 02:41 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSScrollView.m: initWithCoder: modify position of
	clipView due to differences in OSX vs. GNUstep.
	[NibCompatibility]

2006-04-15 02:26 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Comment on _NSHeaderView.
	* Source/NSScrollView.m: Corrected issue with content view and
	keyed coding.
	* Source/NSTableView.m: Added additional initialization logic in
	keyed coder.
	[NibCompatibility]

2006-04-14 00:02 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Changed ordering to allow views
	to be properly initialized.
	[NibCompatibility]

2006-04-11 23:45 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/AppKit/NSNib.h
	* Source/NSNib.m: Added keyed coding.
	[NibCompatibility]

2006-04-09 23:14 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSModelLoaderFactory.m: Fixed a problem with
	pathForNibResource:
	[NibCompatibility]

2006-04-09 20:37 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSModelLoaderFactory.h
	* Source/GSGormLoader.m
	* Source/GSModelLoaderFactory.m
	* Source/GSNibLoader.m
	* Source/NSNib.m: Refactoring to make NSNib use the new
	model loading framework.
	[NibCompatibility]

2006-02-18 08:36 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Changed aDecoder to coder in
	NSIBObjectData encoderWithCoder: also added code to throw an
	exception if a coder does not support keyed coding.
	[NibCompatibility]

2006-01-25 22:31 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSNibCompatibility.h
	* Source/GSModelLoaderFactory.m: Fixes to work with gcc 3.x
	[NibCompatibility]

2006-01-16 00:58 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Minor changes in initWithCoder:
	* Source/NSClipView.m: Added logic to check flags in initWithCoder:
	* Source/NSOutlineView.m: Added initial changes for keyed coding.
	* Source/NSScrollView.m: Added logic to check flags.
	* Source/NSTableView.m: Added logic to check for old grid flag in
	initWithCoder:
	[NibCompatibility]

2006-01-14 09:28 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSTableView.m: Corrected bits used for columnResizing
	flag in initWithCoder: and encodeWithCoder:
	[NibCompatibility]

2006-01-14 08:58 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSTableView.m: Implemented encodeWithCoder: for NSTableView.
	[NibCompatibility]

2006-01-14 08:29 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: [NSIBObjectData objectForName:] return
	nil, if the object is not in the array.
	* Source/NSTableView.m: implement decoding of flags in initWithCoder:
	[NibCompatibility]

2006-01-13 00:29 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSColorWell.m: Added keyed coding support in initWithCoder:
	and encodeWithCoder:
	[NibCompatibility]

2006-01-11 01:26 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSSliderCell.m: Encode NSValue for compatibility with
	Cocoa.
	[NibCompatibility]

2006-01-11 01:02 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Changes to NSViewTemplate.
	* Source/NSSliderCell.m: Addition of code to handle slider to both
	initWithCoder: and encodeWithCoder:
	* Source/NSTextField.m: Removed unecessary empty
	if conditional.
	[NibCompatibility]

2006-01-10 00:12 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Rearranged order of unarchiving in
	[NSIBObjectData initWithCoder:].
	* Source/NSView.m: Added "NSSuperview" to encodeWithCoder:
	[NibCompatibility]

2006-01-09 19:38 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Rearrange order of unarchiving
	in [NSIBObjectData initWithCoder:] so that NSClassSwapper unarchives
	and replaces itself correctly.
	* Source/NSView.m: Move subview initialization to after
	the decoding section for both keyed/serial archiving in initWithCoder:
	[NibCompatibility]

2006-01-08 14:01 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSMenuItem.m: initWithCoder: added code to decode
	NSSubmenu key so that menus are properly constructed.
	[NibCompatibility]

2006-01-08 13:53 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Removed forwardInvocation from
	NSClassSwapper.
	* Source/NSMenuItem.m: Added implementation of keyed coding
	to NSMenu initWithCoder:
	[NibCompatibility]

2006-01-07 10:38 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Encoding for NSIBObjectData, and
	for NSWindowTemplate.  Implementation of NSClassSwapper.
	[NibCompatibility]

2006-01-01 21:02 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSInstantiator.h: Protocol and
	private method for instantiation.
	* Headers/Additions/GNUstepGUI/GSNibCompatibility.h: Added new header
	* Source/GNUmakefile: Added new header to makefile.
	* Source/GSNibCompatibility.m: Added nibInstantiation support.
	* Source/NSBundleAdditions.m: Addition of instantiateWithInstantiator:
	[NibCompatibility]

2006-01-01 14:36 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSNibCompatibility.h: Added
	NSCustomResource.
	* Source/GSNibCompatibility.m: Added NSCustomResource.
	* Source/GSNibLoader.m: Calls keyed archiver with "IB.objectdata"
	key.
	[NibCompatibility]

2006-01-01 09:27 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSModelLoaderFactory.h: Added
	declaration for priority method.
	* Headers/Additions/GNUstepGUI/GSNibCompatibility.h: Added
	awakeWithContext method.
	* Source/GSGModelLoader.m: Added priority method.
	* Source/GSGormLoader.m: Added priority method
	* Source/GSModelLoaderFactory.m: Implemented sorting by priority
	* Source/GSNibCompatibility.m: use ASSIGN in initWithCoder:
	* Source/GSNibLoader.m: Added priority method
	* Source/NSBundleAdditions.m: Removed AUTORELEASE, since the
	loader itself is autoreleased by the factory.
	[NibCompatibility]

2005-12-31 17:25 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibCompatibility.m: Added code to properly initialize the
	maptables.
	[NibCompatibility]

2005-12-31 16:10 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSNibCompatibility.h:
	Added awakeWithContext:
	* Source/GNUmakefile: Added GSNibLoader.m
	* Source/GSGormLoader.m: Changed some log output
	* Source/GSNibCompatibility.m: Added awakeWithContext:
	* Source/GSNibLoader.m: Loader for .nib files.
	[NibCompatibility]

2005-12-31 11:49 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSModelLoaderFactory.h: Removed
	protocol.
	* Source/GSGModelLoader.m:
	* Source/GSGormLoader.m: Removed initialize method
	* Source/GSModelLoaderFactory.m: Renamed
	abstract class to GSModelLoader.  Added code
	in initialize to register all subclasses of GSModelLoader.
	* Source/NSBundleAdditions.m: Make changes to use new abstract
	class name.
	[NibCompatibility]

2005-12-31 01:31 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GNUmakefile: Added new classes.
	* Source/NSBundleAdditions.m: Changes to use new model loader
	factory and loaders.
	* Source/GSModelLoaderFactory.h
	* Source/GSModelLoaderFactory.m: Handles model loading in
	dynamic way.  Allows registration of additional classes to
	handle loading of guis.
	* Source/GSGormLoader.m: Loader for .gorm files.
	* Source/GSGModelLoader.m: Loader for .gmodel files.
	[NibCompatibility]

2005-12-31  Matt Rice  <ratmice@yahoo.com>

	* Source/NSTableView.m (-mouseDown:): Copy the selected cell before
	tracking mouse, add comment. (patch previously reverted 2005-05-30)
	(-mouseDown:): Check for pointer equality in addition to isEqual:
	which doesn't work with nil. (fix for bug #15316)

2005-12-30 00:49 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSNibCompatibility.h
	* Source/GSNibCompatibility.m: NSCustomView changes.
	[NibCompatibility]

2005-12-29 00:39 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSNibCompatibility.h
	* Source/GSNibCompatibility.m: NSClassSwapper, NSCustomView, and
	NSCustomObject.
	[NibCompatibility]

2005-12-27 20:51 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSNibCompatibility.h:
	* Source/GSNibCompatibility.m: Addition of classes for true OSX nib
	compatibility.
	[NibCompatibility]

2006-05-12  Nicolas Roard <nicolas@roard.com>

	* TextConverters/RTF/RTFProducer.h:
	* TextConverters/RTF/RTFProducer.m: Fixed the RTFD generation
	when the attachments do not have filenames. It is now possible
	to write RTFD documents with pasted images.

2006-05-12  Fred Kiefer <FredKiefer@gmx.de>

	* Documentation/GuiUser/DefaultsSuppary.gsdoc,
	* Source/NSApplication.m (-finishLaunching): Changed
	GSDontShowAppIcon to GSSuppressAppIcon.

2006-05-12  Nicolas Roard <nicolas@roard.com>

	* TextConverters/RTF/RTFConsumer.m: reorganized -appendImage: in
	the RTFDConsumer class to compile with gcc 2.95 and declared the
	method in a private category.

2006-05-12  Nicolas Roard <nicolas@roard.com>

	* TextConverters/RTF/RTFProducer.m: fixed the saving of the embedded
	files by using -lastPathComponent
	* TextConverters/RTF/rtfGrammer.tab.c:
	* TextConverters/RTF/rtfGrammer.y: modified the parser to be more
	flexible (and thus it can now read rtfd produced by gnustep)

2006-05-11  Nicolas Roard <nicolas@roard.com>

	* TextConverters/RTF: added support for reading RTFD documents
	* TextConverters/RTF/rtfScanner.c:
	* TextConverters/RTF/rtfGrammer.y:
	* TextConverters/RTF/rtfGrammer.tab.h:
	* TextConverters/RTF/rtfGrammer.tab.c: modified the parser and
	the grammar to parse \NeXTGraphic and the associated \width and \height
	although \width and \height are not used to set the image size.
	* TextConverters/RTF/RTFConsumerFunctions.h:
	* TextConverters/RTF/RTFConsumer.h:
	* TextConverters/RTF/RTFConsumer.m: modified the RTFDConsumer class so
	that it holds a list of the files in the rtfd, added an appendImage:
	method which wrap the files and set an attachment cell with the image.
	Also added the RTFNeXTGraphic() function called by the parser.

2006-05-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundleAdditions.m: ([loadNibNamed:owner:]) add comments

2006-05-11  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSDragging.h,
	* Source/NSColorWell.m,
	* Source/NSImageView.m,
	* Source/NSOutlineView.m,
	* Source/NSSavePanel.m,
	* Source/NSTableView.m,
	* Source/NSTextView.m,
	* Source/NSApplication.m (-draggingEntered:, -draggingUpdated:):
	Changed return value to NSDragOperation.

2006-05-10  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSApplication.m (-finishLaunching): Don't display the
	application icon window if the GSDontShowAppIcon is set to YES.
	Patch by  Saso Kiselkov <diablos@manga.sk>.
	* Documentation/GuiUser/DefaultsSuppary.gsdoc:
	Document GSDontShowAppIcon.
	* Source/GSDragView.m: Resorted method definitions to remove
	compiler warnings.

2006-05-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundleAdditions.m: ([loadNibNamed:owner:]) if the NIB can't
	be found in the owners bundle, try the main bundle of the application.
	Fixes loading where the files owner is in a library, framework or
	bundle, but the Gorm/NIB file is in the application resources.
	I'm not sure this is the correct order, perhaps we should try the
	main bundle first and the library/framework only if the rersource
	is not in the main bundle.

2006-05-06  Fred Kiefer <FredKiefer@gmx.de>

	* Resources/Esperanto.lproj/Localizable.string,
	* Resources/German.lproj/Localizable.string: New string
	translations. Patch by Ingolf Jandt <i.jandt@web.de>.
	* Resources/GNUmakefile: Added new languages.

2006-05-06  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableView.m (-_editNextEditableCellAfterRow:column:,
	_editPreviousEditableCellBeforeRow:column:) Select the new row
	before editing a cell.
	* Source/NSComboBoxCell.m (GSComboWindow -validateSelection):
	Removed the didChangeText call on the textObject.
	Patches by Andreas Höschler <ahoesch@smartsoft.de>.

2006-05-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSWindow.m: ([-makeFirstResponder:]) fixed for nil argument.
	* Headers/AppKit/NSWindow.h: documented method.

2006-05-03  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSDisplayServer.h (-nativeWindow:::::):
	Added new method.
	* Source/GSDisplayServer.m (-nativeWindow:::::):
	Implemented this method as subclassResponsibility.
	* Source/NSWindow.m (-initWithWindowRef:], -windowRef):
	Implemented these methods to wrap native window into GNUstep windows.

2006-05-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSMatrix..m: ([performKeyEquivalent:]) Check modifier flags
	of cells when determining whether to perform their key equivalents.
	* Source/NSMenu.m: ([performKeyEquivalent:]) Use key equivalent
	modifier mask as suggested by Fred, rather than original hard-coded
	command modifier.

2006-04-30  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSMenu.m: ([performKeyEquivalent:]) Ignore key eqivalents other
	than carriage return if the command key is not pressed.

2006-04-30  David Ayers  <d.ayers@inode.at>

	* ColorPickers/GSNamedColorPicker.m ([-browser:selectRow:inColumn:]):
	Return NO as default value.

2006-04-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSWindow.m: ([-performKeyEquivalent:]) revert last change as
	it broke things because I accidentally faileds to commit corresponding
	NSMenu fix, and because I'm not sure it should be doing it anyway.

2006-04-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSApplication.m: ([-sendEvent:]) try key equivalents for
	every key down, not just command modifiers ... consistent with
	MacOS-X and allows carriage return as a button/menu key.
	* Source/NSWindow.m: ([-performKeyEquivalent:]) only pass on to
	our views if this is the key window (NSMenu overrides this).

2006-04-27  Sergii Stoian <stoyan255@yahoo.com>

	* Source/NSMenuView.m (-rectOfItemAtIndex:): Delete origin.x fiddling
	code because it's not correct. The code wich draws heavy line have to
	update _leftBorderOffset instead.
	(-drawRect:): Always draw dark gray upper and left border.

2006-04-24  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSDocumentController.m (-makeUntitledDocumentOfType:):
	Set the type of the new document. Patch by Saso Kiselkov
	<diablos@manga.sk>.

2006-04-09 12:25 Gregory John Casamento <greg_casamento@yahoo.com>

	* Tools/gopen.m: Streamline gopen code.

2006-04-09 12:28 Gregory John Casamento <greg_casamento@yahoo.com>

	* Tools/gopen.m: Streamline gopen code.

2006-04-06  Adam Fedor  <fedor@gnu.org>

	* Tools/gcloseall.m: Include NSProcessInfo.h. Fixes bug #16212.

2006-03-31  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSMenuView.m: ([-rectOfItemAtIndex:]) fixup origin of
	rectangle to avoid overwriting dark line at left of menu.
	* Source/NSMenu.m: make transient main menu shitf on screen.
	fix bug #15935

2006-03-30  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSMemoryPanel.m: Extend to allow snapshots of the memory
	to be taken so we can compare memory at different points in time.
	Simplify code and fix bug where re-ordering sort in table would
	also change table contents.

2006-03-26  Maurizio Boriani  <baux@gnu.org>

	* Resources/Italian.lproj/Localizable.string: Add missing translations.
	* Resources/Lojban.lproj/Localizable.string: New, lojban strings
	translation.

2006-03-28 20:21 Gregory John Casamento <greg_casamento@yahoo.com>

	* Tools/gopen.m: Added back code in to launch the application properly
	with the -a option.

2006-03-26 12:52 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/AppKit/NSPopUpButtonCell.h: Refactored header,
	added documentation
	* Source/NSNib.m: Added documentation.
	* Source/NSPopUpButtonCell.m: Improved documentation.

2006-03-26  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSSearchFieldCell.h:
	* Headers/AppKit/NSSearchField.h:
	* Source/NSSearchField.m:
	* Source/NSSearchFieldCell.m: Added headers and basic
	implementation for these classes based on code by
	Nikolaus Schaller <hns@computer.org>.
	* Source/GNUmakefile: Handle these new classes.

2006-03-24  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSStepperCell.m: Rewrote all button drawing functions to
	use new helper function DrawLightButton to honour colour settings.
	Based on patch idea by Ingolf Jandt <i.jandt@web.de>.
	* Source/NSStepperCell.m (-highlight:upButton:withFrame:inView:):
	Simplified to use [drawWithFrame:inView:].
	* Source/NSColorPanel.m (-_initWithoutGModel): Enable colour wells
	in bottom list.

2006-03-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSMenuView.m: ([-rectOfItemAtIndex:]) remove unused code and
	tidy a bit (problem pointed out by Matt Rice).

2006-03-19  Nicolas Roard <nicolas@roard.com>

	* Source/NSSliderCell.m:
	* Source/NSTabView.m:
	* Images/common_SliderHoriz.tiff:
	* Images/common_SliderVert.tiff:
	* Images/common_SwitchOff.tiff:
	* Images/common_SwitchOn.tiff:
	* Images/common_TabDownSelectedLeft.tiff:
	* Images/common_TabDownSelectedRight.tiff:
	* Images/common_TabDownSelectedToUnSelectedJunction.tiff:
	* Images/common_TabDownUnSelectedJunction.tiff:
	* Images/common_TabDownUnSelectedLeft.tiff:
	* Images/common_TabDownUnSelectedRight.tiff:
	* Images/common_TabDownUnSelectedToSelectedJunction.tiff:
	* Images/common_TabSelectedLeft.tiff:
	* Images/common_TabSelectedRight.tiff:
	* Images/common_TabSelectedToUnSelectedJunction.tiff:
	* Images/common_TabUnSelectedJunction.tiff:
	* Images/common_TabUnSelectedLeft.tiff:
	* Images/common_TabUnSelectedRight.tiff:
	* Images/common_TabUnSelectToSelectedJunction.tiff:
	Updated images for the sliders, tabviews and switch buttons. They are
	now transparent; the background is thus filled in the code using [NSColor controlBackgroundColor].
	That way the current color scheme is followed.
	Thanks to Ingolf Jandt <i.jandt@web.de> for the images.

2006-03-13  Adam Fedor  <fedor@gnu.org>

	* Version 0.10.3

2006-03-12  Fred Kiefer <FredKiefer@gmx.de>

	* Source/GNUmakefile:
	* Source/GNUmakefile.preamble:
	* Source/GNUmakefile.postamble:
	Install header file Cocoa.h.

2006-03-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSServicesManager.m: avoid use of deprecated method.

2006-03-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSScreen.m: ([-visibleFrame]) fix to work when using
	mac style horizontal menu.

2006-03-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSMenuView.m: ([-rectOfItemAtIndex:]) Fix bug #15934 by
	removing some bogus code left over from incorporating horizontal
	menu.

2006-02-24  Quentin Mathe <qmathe@club-internet.fr>

	* Source/GSToolbar.m: Fixed mismatched method return type between
	header and implementation.
	* Source/GSToolbarView.m: Updated code to reference some external
	classes lazily with NSClassFromString.
	These fixes avoids some compiler warnings.

2006-02-22 23:03 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSScreen.m: Correction for visibleFrame, spelling of
	NSInterfaceStyle was incorrect.

2006-02-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSPrintOperation.m: trap exceptions launching previwer
	* Documentation/GuiUser/DefaultsSuppary.gsdoc: mention GSLPRPrinters
	* Printing/GSLPR/GSLPRPrinter.m: If we set up default printer
	config because there was nothing in the user defaults system, save the
	new config so we don't have to do it again next time.

2006-02-06  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMatrix.m (-deselectAllCells): Allow empty selection,
	when there are no cells. Patch by Georg Fleischmann <georg@vhf.de>.
	* Source/NSPopupButtonCell.m (-synchronizeTitleAndSelectedItem):
	Don't set selection index to 0, if apopup button doesn't have a
	selection. Patch by Andreas Höschler <ahoesch@smartsoft.de>.

2006-02-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSMenuView.m: ([-sizeToFit]) Fix bug #15631
	([-locationForSubmenu:]) for horizontal root menus, make successive
	submenus be positioned with top left corner next to item in parent.
	* Source/NSApplication.m: Pass info in hide/unhide notifications.

2006-02-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSMenu.m:
	* Source/NSApplication.m:
	* Source/NSMenuItemCell.m:
	* Headers/AppKit/NSMenuItemCell.h:
	Tidyups suggested by Fred. More ideas welcome.
	* Source/NSMenuView.m: When tracking mouse for horizontal MacOS-X
	style menu, ignore an immediate mouse up and continue tracking until
	something is clicked on.  This is the behavior of MacOS-X and windows.

2006-02-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSMenu.m:
	* Source/NSApplication.m:
	* Source/NSMenuItemCell.m:
	* Source/NSMenuView.m:
	* Headers/AppKit/NSMenuView.h:
	* Headers/AppKit/NSMenu.h:
	* Headers/AppKit/NSMenuItemCell.h:
	Add support for horizontal main menu (as in MacOS-X) very heavily
	based on the WildMenus bundle by Michael Hanni, but any errors in
	the integration are entirely mine.
	Horizontal menus are activated by setting the 'NSMenuInterfaceStyle'
	user default to 'NSMacintoshInterfaceStyle'.

2006-02-03  Quentin Mathe <qmathe@club-internet.fr>

    * Source/NSToolbarItem.m (-[GSToolbarButtonCell setImagePosition:]):
    New method to override NSButtonCell behavior. It should be the last commit
    needed to correct bug #15112 (reported by Wolfgang Sourdeau). Precisely it
    eliminates the default title set with separator or space toolbar
    items and the image release with toolbar items which include one (both
    issues occurs when NSToolbarDisplayModeLabelnOnly is set).

2006-02-03  Quentin Mathe <qmathe@club-internet.fr>

    * Source/NSButtonCell.m (-setImagePosition:): Fixed the title lost (reset to
    the default one) which was wrongly occuring when the image position is
    switched to 'NSNoImage' (partial fix for bug #15112, based on an NSCell
    patch by Wolfgang Sourdeau).

2006-02-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSWorkspace.m: In GSLaunched() be more defensive and don't
	assume that the values which should be present in the notification
	userinfo dictionry really are there.
	* Source/NSApplication.m: Code more defensively setting up
	notification info.
	Honor the NSWindow -canHide method when hiding the application.
	* Source/GSServicesManager.m: Improve handling of incoming messages,
	prohibit remote processes from calling private methods.
	* Source/NSWindow.m:
	* Source/NSWindowController.m:
	* Source/NSDataLinkManager.m:
	* Source/NSTextView.m:
	* Source/NSDocumentController.m:
	* Source/NSDataLink.m:
	* Source/NSView.m:
	* Source/NSDocument.m:
	Revert harmless but stupid changes made last night when I was too
	tired.

2006-02-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSWorkspace.m: remove an app from list of launched apps if
	we can't contact it.
	* Source/NSApplication.m: ([hideOtherApplications:]) implemented.
	([unhideAllApplications:]) implemented.
	Send did hide and did unhide notifications to the workspace center
	so the workspace manager knows about them.
	Honor the NSWindow-canHide method when deactivating apps.
	* Source/NSWindow.m: Fix accessor methods which return a BOOL to
	do the right thing when they are accessing a bit in a bitfield.
	* Source/NSWindowController.m: ditto
	* Source/NSDataLinkManager.m: ditto
	* Source/NSTextView.m: ditto
	* Source/NSDocumentController.m: ditto
	* Source/NSDataLink.m: ditto
	* Source/NSView.m: ditto
	* Source/NSDocument.m: ditto
	Are these changes nneded?  The compiler seemed to be casting bitfield
	values to char as  things other than 1 or 0 ... but I was tired when
	looking at this and it seems unlikely.

2006-02-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSApplication.m: Send activation/deactivation notifications
	to workspace center too ... so workspace manager will know about it.
	* Source/NSWorkspace.m: Change internal method to launch applications
	so that it never asks the workspace manager to do it ... that should
	be handled by the public methods instead.  Simplify a little to take
	advantage of change to NSApplication.

2006-01-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSApplication.m: pass more informative user info in
	notifications.
	* Source/NSWorkspace.m: Implement filesystem based fallback mechanisms
	for tracking launched and active appplications when there is no
	workspace manager process to do it.
	Try to be consistent about asking workspace manager application to
	perform tasks for us if it exists.
	* Tools/gscloseall.m: Test tool to iterate through launched apps and
	terminate them all.
	* Tools/GNUmakefile:
	* Tools/GNUmakefile.preamble:
	Build new utility.

2006-01-26 00:01 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSScrollView.m: Temporary fix to scrollview.

2006-01-22  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPopupButtonCell.m (-synchronizeTitleAndSelectedItem):
	Only select an item if one is highlighted.
	* Source/Functions.m: NSFrameRectWithWidthUsingOperation() new
	function from Cocoa. NSFrameRectWithWidth() different
	implementation, no longer using stroke.

2006-01-20  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableHeaderCell.m: Simplified code by letting
	the super classes do their job.

2006-01-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSWindow.m: minor fixups for 64bit cpu support.

2006-01-09 06:25 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSNib.m: Correction for bug#15348.  Removed uneeded
	append in initWithNibNamed:


2006-01-08  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableView.m (-initWithFrame:) Use different intercell
	spacing. Patch by Andreas Höschler <ahoesch@smartsoft.de>.

2006-01-04  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSSliderCell.m (-knobRectFlipped,-knobThickness
	-drawInteriorWithFrame:inView:, -setKnobThickness:): Protect against knob
	image being nil. Fixes Solaris problem reported by <ubossx@gmail.com>.

2005-12-22  Adam Fedor  <fedor@gnu.org>

	* Version 0.10.2

2005-12-15  Quentin Mathe <qmathe@club-internet.fr>

    * Source/NSToolbarItem.m:
    (-[GSToolbarButton layout]): Don't set button based items width to their
    label width when NSToolbarDisplayModeIconOnly is active (based on patch
    by Wolfgang Sourdeau, partial fix for bug #15112). Removed superfuous code
    which substracted label height to button width in
    NSToolbarDisplayModeIconOnly case.
    (-initWithItemIdentifier:): Removed logical operator 'not' wrongly used
    with GSToolbarSeparatorItemIdentifier class identity test, it
    prevented any separator items to be inited therefore used (patch by
    Wolfgang Sourdeau, partial fix for bug #15112).

2005-12-05  fabien  <fabien@sonappart.net>

	* Source/NSCursor.m: Improved documentation
	* Source/NSFontManager.m: Improved documentation
	* Source/NSFontPanel.m: Improved documentation
	* Source/NSMatrix.m: Improved documentation
	* Source/NSPanel.m: Improved documentation

2005-12-04  Fabien VALLON  <fabien@sonappart.net>

	* Source/NSColorPanel.m: Improved documentation, various cleanups
	* Source/NSColor.m: Improved documentation
	* Source/NSClipView.m: Improved documentation
	* Source/NSColorWell.m: Improved documentation
	* Source/NSControl.m: Improved documentation

2005-12-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSServicesManager.m: Implement use of NSUseRunningCopy

2005-11-29  Fabien VALLON  <fabien@sonappart.net>

	* Source/NSCachedImageRep.m : Improved documentation
	* Source/NSCell.m : Improved documentation

2005-11-29  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTabView.m (-minimumSize): Filled in some code.
	* Source/NSTextField.m (-validateEditing, -textDidChange:): Check
	is delegate responds to selector before calling it.
	Patch by Andreas Höschler <ahoesch@smartsoft.de>

2005-11-25  fabien  <fabien@sonappart.net>

	* Source/NSBox.m: Improved documentation
	* Source/NSCell.m: Documentation : closed the ref tag for -setType:
	* Source/NSBrowser.m: Improved documentation, various cleanups.
	* Source/NSBrowserCell.m: Improved documentation.
	* Source/NSButton.m: Improved documentation.
	* Source/NSButtonCell.m: Improved documentation.

2005-11-24 12:33 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSCell.m: Added documentation for setType:.

2005-11-24  fabien  <fabien@sonappart.net>

	* Source/NSMatrix.m: Improved documentation, various cleanups
	* Source/NSOpenPanel.m: Improved documentation
	* Source/NSPageLayout.m: Improved documentation
	* Source/NSPopUpButton.m: Improved documentation
	* Source/NSSavePanel.m: Improved documentation
	* Source/NSScrollView.m: Improved documentation
	* Source/NSTexField.m: Improved documentation
	* Source/NSFont.m: Improved documentation, various cleanups
	* Source/NSImage.m: Improved documentation, various cleanups
	* Source/NSScroller.m: Improved documentation, various cleanups

2005-11-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepGUI/GSDrawFunctions.h:
	* Source/GSDrawFunctions.h:
	Make drawing methods go via theme engine.

2005-11-22  fabien  <fabien@sonappart.net>

	* Source/NSCell.m : Improved documentation
	* Source/NSControl.m : Improved documentation
	* Source/NSCustomImageRep.m : Improved documentation
	* Source/NSFontPanel.m : Improved documentation
	* Source/NSForm.m : Improved documentation
	* Source/NSFormCell.m : Improved documentation
	* Source/NSImage.m : Improved documentation
	* Source/NSMatrix.m : Improved documentation

2005-11-21  fabien  <fabien@sonappart.net>

	* Source/NSButton.m : Improved documentation
	* Source/NSButtonCell.m : Improved documentation
	* Source/NSCachedImageRep.m : Improved documentation
	* Source/NSCell.m : Improved documentation
	* Source/NSClipView.m : Improved documentation
	* Source/NSColor.m : Improved documentation
	* Source/NSColorPanel.m : Improved documentation
	* Source/NSColorWell.m : Improved documentation

2005-11-21  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSSliderCell.m (-drawInteriorWithFrame:inView:): Allow
	the knob image to resize. Patch by Georg Fleischmann <georg@vhf.de>
	* Source/NSTextField: (textView:doCommandBySelector:) new method
	to pass on the request to the delegate, if possible.

2005-11-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPasteboard.m: Turn off warning message about launching
	gpbs ... now that we use host-local connections and expect the
	pastebaord server to be private to the user, there is no real reason
	why it shouldn't be routinely launched on demand.

2005-11-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSServicesManager.m: GSContactApplication()
	Fix bug launching application ... if it's not available in the
	services bundle, locate application by name (from the port).

2005-11-18  fabien  <fabien@sonappart.net>

	* Source/NSSliderCell.m: Improved documentation
	* Source/NSTextField.m: Improved documentation
	* Source/NSTextFieldCell.m: Improved documentation
	* Source/NSSavePanel.m: Improved documentation
	* Source/NSOpenPanel.m: Improved documentation
	* Source/NSApplication.m: Improved documentation
	* Source/NSBitmapImageRep.m: Improved documentation
	* Source/NSBox.m: Improved documentation
	* Source/NSBrowserCell.m: Improved documentation


2005-11-17  fabien  <fabien@sonappart.net>

	* Source/NSControl.m : Improved documentation
	* Source/NSCustomImageRep.m : Improved documentation
	* Source/NSFontPanel.m : Improved documentation
	* Source/NSForm.m : Improved documentation
	* Source/NSFormCell.m : Improved documentation
	* Source/NSSlider.m : Improved documentation

2005-11-16  fabien  <fabien@sonappart.net>

	* Source/NSColorPanel.m : Improved documentation
	* Source/NSColorWell.m : Improved documentation

2005-11-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSEPSPrintOperation.m:
	* Source/GSHelpManagerPanel.m:
	* Source/GSHorizontalTypesetter.m:
	* Source/GSLayoutManager.m:
	* Source/GSNibCompatibility.m:
	* Source/GSNibTemplates.m:
	* Source/GSPDFPrintOperation.m:
	* Source/GSPrintOperation.m:
	* Source/GSPrinting.m:
	* Source/GSSlideView.m:
	* Source/GSTable.m:
	* Source/GSToolbar.m:
	* Source/NSAlert.m:
	* Source/NSApplication.m:
	* Source/NSBezierPath.m:
	* Source/NSBitmapImageRep+PNM.m:
	* Source/NSBox.m:
	* Source/NSBrowser.m:
	* Source/NSBrowserCell.m:
	* Source/NSBundleAdditions.m:
	* Source/NSCell.m:
	* Source/NSColor.m:
	* Source/NSColorList.m:
	* Source/NSColorWell.m:
	* Source/NSCustomImageRep.m:
	* Source/NSDataLink.m:
	* Source/NSDataLinkManager.m:
	* Source/NSDataLinkPanel.m:
	* Source/NSDocument.m:
	* Source/NSForm.m:
	* Source/NSGraphicsContext.m:
	* Source/NSHelpManager.m:
	* Source/NSImage.m:
	* Source/NSLayoutManager.m:
	* Source/NSMatrix.m:
	* Source/NSNib.m:
	* Source/NSOpenGLPixelFormat.m:
	* Source/NSOpenGLView.m:
	* Source/NSOutlineView.m:
	* Source/NSPageLayout.m:
	* Source/NSPrintInfo.m:
	* Source/NSPrintOperation.m:
	* Source/NSPrintPanel.m:
	* Source/NSPrinter.m:
	* Source/NSResponder.m:
	* Source/NSRulerView.m:
	* Source/NSSelection.m:
	* Source/NSSpellChecker.m:
	* Source/NSSpellServer.m:
	* Source/NSSplitView.m:
	* Source/NSStepper.m:
	* Source/NSTabView.m:
	* Source/NSTableView.m:
	* Source/NSTextView.m:
	* Source/NSTextView_actions.m:
	* Source/NSToolbarItem.m:
	* Source/NSView.m:
	* Source/NSWindow.m:
	* Source/NSWorkspace.m:
	Fix some common coding style violations ... should have no effect
	other than improving readability.

2005-11-15  fabien  <fabien@sonappart.net>

	* Source/NSColor.m : Improved documentation, various cleanups.

2005-11-09  fabien  <fabien@sonappart.net>

	* Source/NSCell.m : Improved documentation

2005-11-08  fabien  <fabien@sonappart.net>

	* Source/NSBox.m : Improved documentation
	* Source/NSBrowser.m :  Ditto
	* Source/NSBrowserCell.m : Ditto
	* Source/NSButton.m : Ditto

2005-11-06  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSImage.m (-bestRepresentationForDevice:): Get the device
	description from the current context, not via NSScreen, as we
	cannot be sure about the screen order.
	* Source/NSApplication.m (-_init): Make sure the default context
	has properly set attributes.

2005-11-03  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBrowser.m (-setPath:): Corrected memory management bug 14901.

2005-11-02  Nicolas Roard  <nicolas.roard@gmail.com>

	* Headers/Additions/GNUstepGUI/GSDrawFunctions.h,
	* Source/GSDrawFunctions.m (+[theme],+[setTheme:]): New accessor
	methods.

2005-10-30  Adam Fedor  <fedor@gnu.org>

	* Documentation/General/OpenStepCompliance.gsdoc: Updates.

2005-10-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSColorList.m: ([writeTofile:]) return NO if there is no
	known directory to write to.

2005-10-23  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSWindow.m: ([setExcludedFromWindowsMenu:]) when a window
	is excluded, remove it from the windows menu.  Fixes bug #14008

2005-10-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/make_services.m: Update to use
	NSSearchPathForDirectoriesInDomains() more extensively so that we
	get all the directories we should using the new configuration
	information, rather than the default set.

2005-10-20  Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSTitleView.m: Corrected last change the signature of
	[rightMouseDown:] had been changed instead of [menuForEvent:].

2005-10-20  Fred Kiefer <FredKiefer@gmx.de>

	* Header/NSInputManager.h
	* Source/GSTitleView.m
	* Source/NSColor.m
	* Source/NSImageCell.m
	* Source/NSResponder.m
	* Source/NSSavePanel.m
	* Source/NSTabView.m
	* Source/NSTableHeaderView.m
	* Source/NSMenuView.m
	Removed compiler warnings from gcc 4.0.2.

2005-10-18  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSApplication.m (-terminate:): Call NSDocumentControllers
	review unsaved code only when this is a document based application.

2005-10-17  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSSavePanel.m (-performDragOperation:): Set file name and
	directory to allow dragging of files, not just directories.

2005-10-14  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSRulerView.m (-drawHashMarksAndLabelsInRect:): For
	vertical rulers use ruler thickness to position labels. Patch by Saso
	Kiselkov <diablos@manga.sk>.

2005-10-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSServicesManager.m: Improve handling of port registration
	to ensure each application listens on a well known port and the port
	name is readable.  If multiple copies of an app are running, name
	the extra copies AppCopy1 AppCoppy2 etc.
	* Source/NSWorkspace.m: Use advertised port name for the app name so
	that other apps can contact it.
	Implement ([-extendPowerOffBy:]) to ask workspace application.
	* Tools/gclose.m: Triavial utility ... counterpart for gopen ...
	close doen an application.Saso
	Kiselkov <diablos@manga.sk>
	* Tools/GNUmakefile: build gclose

2005-10-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSWorkspace.m: Provide private method to post a notification
	to the local workspace center, using the shared workspace app as the
	notification object.  Fix handling of incoming notifications so that
	they use the new method and are therefore posted locally with the
	correct notification object.
	* Source/GSServicesManager.m: Make applications respond to the
	terminate: method sent from another app, but send a power off
	notification first, on the assumption that a terminate sent by
	a remote process is a power off or session manager shutdown or
	some similar event indicating that the process is likely to be
	forcably killed if it doesn't close down gracefully.

2005-10-05  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSCell.m (-setObjectValue:, -setStringValue:): When no
	formatter is present, the object value is always valid. Also allow
	attributed strings to be passed through. Based on patches by Saso
	Kiselkov <diablos@manga.sk> and Andreas Hoeschler <ahoesch@smartsoft.de>.

2005-09-19  Adam Fedor  <fedor@gnu.org>

	* Version 0.10.1

2005-09-10 17:02 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/externs.m: Added constants for data link.
	* Source/NSDataLink.m: Removed NSDataLinkFilenameExtension constant.
	* Source/NSDataLinkManager.m: Added implementation for
	addLinkAsMarker:at:, addLinkPreviouslyAt:fromPasteboard:at:.

2005-09-10  Adam Fedor  <fedor@gnu.org>

	* configure.ac: Check for libgib if libungif is not found.
	Fixes Bug #14454.

2005-08-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSView.m: ([_viewDidMoveToWindow]) Implemented and used to
	send notification to subviews as we should.

2005-08-22 14:36 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSInterfaceStyle.m: -[GSInterfaceStyle
	defaultsDidChange:] correction for val variable.  Previously
	this was the enumerated type NSInterfaceStyle.  This caused
	some alighnment issues on 64bit platforms.  I have also tested
	this change on i386/Linux.

2005-08-17  Adam Fedor  <fedor@gnu.org>

	* configure.ac: Check for v19 of portaudio.

2005-08-17  Enrico Sersale  <enrico@dtedu.net>

	* Tools/gsnd/gsnd.m: updated to use libportaudio v19.

	* Tools/gsnd/gsnd.m: in main(): uses NSTask to create a daemon.

2005-08-17  Serg Stoyan  <stoyan255@ukr.net>

	* Source/NSBrowser.m: (tile): Fix calculating columns width for
	unseparated columns.

	* Source/NSSplitView.m: (mouseDown:): Don't try to resize subviews
	if divider positon wasn't changed.

	* Source/NSPopUpButtonCell.m: (trackMouse:inRect:ofView:untilMouseUp:):
	Dismiss the popup after mouse tracking done. This is for the cases when
	mouse up event occurs outside of popup.

2005-07-27  Adam Fedor  <fedor@gnu.org>

	* Source/GNUmakefile.postamble (Info-gnustep.plist): Depend on
	../Version.

	* Source/NSOutlineView.m ([NSOutlineView -rowForItem:]): Declare var
	at beginning of block for gcc2 (Fixes Bug #13936).

2005-07-25 22:28 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSOutlineView.m: Make [NSOutlineView rowForItem:] return
	-1 as per specs, instead of NSNotFound.

2005-07-22  Adam Fedor  <fedor@gnu.org>

	* Version 0.10.0

2005-07-21 08:33 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibTemplates.m: in GSWindowTemplate initWithCoder:,
	temporarily retain, then release (after setting back into the window)
	the content view to prevent it from being inadvertantly deallocated.

2005-07-17  Adam Fedor  <fedor@gnu.org>

	* Source/NSApplication.m (gnustep_backend_path,
	gnustep_backend_framework, gnustep_backend_bundle): New functions.
	(initialize_gnustep_backend): Support versioning of backend bundle.

2005-07-17  Adam Fedor  <fedor@gnu.org>

	* Documentation/Gui.gsdoc, Documentation/GuiAdditions.gsdoc
	Documentation/ReleaseNotes.gsdoc, Documentation/readme.texi
	Documentation/GuiUser/DefaultsSummary.gsdoc
	Documentation/GuiUser/KeyboardSetup.gsdoc
	Documentation/GuiUser/LanguageSetup.gsdoc, Source/NSView.m:
	Fix some documentation errors.

2005-07-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSApplication.m: (_NSAppKitUncaughtExceptionHandler)
	As there was no other feedback to the recent email thread on this,
	I've removed the option to try to 'ignore' the exception ... since
	it would most likely result in a random crash (possibly with loss
	of data etc) at a later point.

2005-07-09 Adrian Robert <arobert@cogsci.ucsd.edu>

	* Source/NSSavePanel.m (-ok:): Set _fullFileName before invoking
	delegate -panel:userEnteredFilename:confirmed: so it is given the
	current filename to process.

2005-07-09  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSGraphicsContext.h,
	* Source/NSGraphicsContext.m: Added new methods
	[-GScomposite:toPoint:fromRect:operation:fraction:] and
	[-GSSetPatterColor:].
	* Source/NSImage.m (-compositeToPoint:...fraction:): Implemented.
	* Source/NSColor.m (GSPatternColor -set): Implemented.

2005-07-04  Adam Fedor  <fedor@gnu.org>

	* Documentation/ReleaseNotes.gsdoc: Update.

2005-07-01  Adam Fedor  <fedor@gnu.org>

	* Documentation/Gui.gsdoc,
	Documentation/GuiAdditions.gsdoc,
	Documentation/ReleaseNotes.gsdoc,
	Documentation/gopen.1, Documentation/make_services.1,
	Documentation/General/OpenStepCompliance.gsdoc,
	Documentation/GuiUser/DefaultsSummary.gsdoc,
	Documentation/GuiUser/KeyboardSetup.gsdoc,
	Documentation/GuiUser/LanguageSetup.gsdoc,
	Model/Controller.h, Model/Controller.m, Model/test.m,
	PrinterTypes/GSProlog.ps,
	Printing/GSCUPS/GNUmakefile.postamble,
	Printing/GSCUPS/GNUmakefile.preamble,
	Printing/GSLPR/GNUmakefile.postamble,
	Printing/GSLPR/GNUmakefile.preamble,
	Tools/GNUmakefile.postamble,
	Tools/GNUmakefile.preamble, Tools/wgetopt.h,
	Tools/gsnd/GNUmakefile.postamble,
	Tools/gsnd/GNUmakefile.preamble: Add/fix copyright/licenses.

2005-07-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSApplication.m: (_NSAppKitUncaughtExceptionHandler)
	Call [NSApp run] to re-enter runloop if we are told to ignore
	the exception.  Not sure this is right though ... probably
	the option to ign ore should be removed.

2005-06-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSScrollView.m: ([-initWithFrame:) create a hidden horizontal
	ruler for MacOS-X and OPENSTEP compatibility.  Fix bug #13310
	* Source/NSRulerView.m: ([-dealloc]) Don't release _clientView as we
	don't own it.  Fixes bug #13382

2005-06-22  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMenu.m (-setGeometry): Use [NSWindow
	setFrameFromString:] when possible to position the menu windows
	relative to the screen size.
	(-isPartlyOffScreen_OFFSCREEN, -setGeometry, -shiftOnScreen) Use
	current screen and visibleFrame of screen instead of frame.

2005-06-18  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSColor.m (+colorFromString:): Make sure the scanner is
	always released. Fixes bug reported by Benhur Stein
	<benhur.stein@gmail.com>.

2005-06-17  Adam Fedor  <fedor@gnu.org>

	* Source/NSPopUpButtonCell.m (-setObjectValue:): Use
	respondsToSelector.

2005-06-16  Fabien Vallon  <fabien@sonappart.net>

	* Source/NSProgressIndicator.m: setAnimationDelay: fix typo
	* Headers/AppKit/NSProgressIndicator: ditto

2005-06-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSWorkspace.m: ([-mountedLocalVovumePaths]) implemented
	for mingw as a listing of all device names.
	Implement for unix using getmntent.
	* configure.ac: add checks for getmntent variations.
	Tested on debian, may need tweaks for others.

2005-06-06 Adrian Robert <arobert@cogsci.ucsd.edu>

	* Headers/AppKit/NSApplication.h
	* Headers/AppKit/NSEvent.h
	* Source/GSServicesManager.m
	* Source/NSApplication.m
	* Source/NSFont.m: Filled in various GSdoc.

2005-06-04 08:11 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSNibTemplates.h: Minor update to
	constant name.
	* Source/GSNibTemplates.m: Use new constant name, and move call
	to autoPositionWindow: outside of class name check.

2005-06-04 07:36 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepGUI/GSNibTemplates.h: Constants for new
	autoposition scheme, declaration for setAutoPositionMask:,
	autoPositionMask and autoPositionWindow: methods.
	* Source/GSNibTemplates.m: Code in [GSWindowTemplate initWithCoder:]
	to handle new version.  Also new method autoPositionWindow: to
	handle window placement.

2005-05-30  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPopupButtonCell.m (-dealloc) Corrected previous fix to only
	dismiss the popup, when it is actualy visible. This caused a
	problem with the window deallocation mechanism, when the window
	containing the popup button was closed.

2005-05-30  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableView.m (-mouseDown): No longer copy the cell, as
	this was causing trouble in GNUmail and Gworkspace.
	* Source/NSComboBox.m (-trackMouse:inRect:ofView:untilMouseUp:):
	Only mark the cellframe as needing redraw.
	Patch by Matt Rice <ratmice@yahoo.com>.

2005-05-27  Adam Fedor  <fedor@gnu.org>

	* Source/NSAffineTransform.m (matrix_multiply): New function.
	(appendTransform:, prependTransform:, rotateByRadians:,
	scaleBy:, scaleXBy:yBy:, translateXBy:yBy:,
	concatenateWithMatrix:): Use it.
	(rotateByDegrees:) Use rotateByRadians:.  Fixes bug #13181.

2005-05-27  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPopupButtonCell.m (-dealloc) Dismiss the popup. This is to
	make sure the removed popup no longer gets notifications. may
	happen when the cell gets deallocated without closing the popup.

2005-05-26  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableView.m (-mouseDown): Replaced use of
	_sendsActionOn: with a check if the value did change
	after the cell did track the mouse. Also use a copy of the cell,
	that way other cells are not affected by changes in the tracked
	cell. Patch based on code by Matt Rice <ratmice@yahoo.com>.

2005-05-25  Adam Fedor  <fedor@gnu.org>

	* Update FSF Address.

2005-05-23  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSAlert.m (-_setupPanel): New method.
	(-runModal, -beginSheetModalForWindow:...contextInfo:) Use this
	new method.

2005-05-22  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-display)
	* Source/NSCell.m (-drawWithFrame:inView:)
	* Source/NSBrowserCell.m (-drawWithFrame:inView:)
	* Source/NSImageCell.m (-drawWithFrame:inView:)
	* Source/NSMenuItemCell.m (-drawWithFrame:inView:)
	* Source/NSTableHeaderCell.m (-drawWithFrame:inView:):
	Removed check for window existence. This should already have been
	checked by a surrounding canDraw call. Fixes bug #13140.

2005-05-22  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSComboBox.m (-cellSize) Added simple implementation of
	this method to get sizeToFit working.
	(GSComboWindow -layoutWithComboBoxCell:) Don't subtract the width
	of the scroller from the popup item size, increase the popup width instead.

2005-05-20  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSWindow.m (-center, -constrainFrameRect:toScreen:) Use
	screen visibleFrame instead of frame.
	* Source/NSWindow.m (-animationResizeTime:,
	-setFrame:display:animate:) Implemented this methods.

2005-05-20  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/AppKit/NSResponder.h: Added new MacOSX methods.
	* Source/NSResponder.m (-encodeWithCoder:, initWithCoder:) Handle
	NSNextResponder for keyed encoding.
	* Source/NSResponder.m
	* Source/NSApplication.m
	* Source/NSWindow.m
	* Source/NSView.m
	* Source/NSControl.m:
	Implemented shouldBeTreatedAsInkEvent:.

2005-05-19  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSImageCell.m (-setObjectValue:) Nil parameter now unsets
	image. This resolves bug #13046.

2005-05-02 23:45 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibTemplates.m: added condition to all of the templates
	so that the designated init is not called when the className and
	the superClass are equivalent.

2005-05-01 17:09 Adrian Robert <arobert@cogsci.ucsd.edu>

	* Source/GSNibTemplates.m: [GSWindowTemplate initWithCoder:]
	changed so designated initializer is called with content frame.

2005-04-30 Adrian Robert <arobert@cogsci.ucsd.edu>

	* Headers/AppKit/NSFont.h: Add 'cachedFlippedFont' ivar.
	* Source/NSFont.m: Cache font for drawing in flipped views in
	manner analogous to font for screen drawing.

2005-04-28  Adam Fedor  <fedor@gnu.org>

	* configure.ac: More complete check for portaudio
	* Tools/gsnd/gsnd.m: Fix portaudio include

2005-04-27 Adrian Robert <arobert@cogsci.ucsd.edu>

	* Headers/AppKit/NSApplication.h: Add app_is_launched ivar.
	* Source/NSApplication.m (-run): Only go through launch process
	and call -finishLaunching on first call.
	(-replyToApplicationShouldTerminate:) Unhide mouse on app exit.

2005-04-25  Adam Fedor  <fedor@gnu.org>

	* configure.ac: Check for lib portaudio
	* Tools/gsnd/GNUmakefile: Use lib portaudo.
	* Tools/gsnd/portaudio: Remove portaudio files.
	* Documentation/install.texi: Updates.

2005-04-25 00:02 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibTemplates.m: [GSClassSwapper initWithObject:
	className:superClassName:] removed assertion which prevents
	using the same class name for both arguments.  Also cleaned
	up some commented out code.

2006-04-19  Adam Fedor  <fedor@gnu.org>

	* configure: Add arg to disable aspell (for use on Mac OS X).

	* Source/NSBitmapImageRep+JPEG.m: Add workaround so that INT32
	is not redefined on MingW by jmorecfg.h (Suggestion from Issac
	Trotts).

2005-04-17  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPopupButton.m (-keyDown:) Removed unneeded code.
	(-_handleNotification:): Moved method from here ...
	* Source/NSPopupButtonCell.m: ... to here.
	(-dismissPopUp, -attachPopUpWithFrame:inView:): Dis-/Connect self,
	not the control view, with notification centre. Fixes bug #12680.
	(-synchronizeTitleAndSelectedItem): Update the control view.
	(-trackMouse:inRect:ofView:untilMouseUp:): Removed unneeded code.
	(-attachPopUpWithFrame:inView:): Set the selected item to highlighted.

2005-04-17  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSColor.m: Implemented the missing keyed encoding methods.

2005-04-11 10:24 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSNibTemplates.m: Correction for minor leak in
	GSClassSwapper dealloc method.

2005-04-09  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSColor.m: Implemented most keyed encoding methods.
	* Source/NSFont.m: Implemented simple keyed encoding.

2005-04-08  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSView.m (-addSubview:positioned:relativeTo:): Don't
	increase index for subview added at the end. Based on patch by
	Matthias Hengartner <hengartner@ivt.baug.ethz.ch>.

2005-04-03 14:53 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSCustomImageRep.m: Allow drawing if the delegate is
	set since the size may not have been set as of yet.  This behavior
	is consistent with that observed on OPENSTEP4.2/Mach.  This fix
	corrects bug #12412.

2005-04-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/AppKit/NSTextView.h: Keep track of whether we are acting
	as a target for a DnD operation, and what the selected range was
	before the operation began.
	* Source/NSTextView.m: Display insertion point during DnD operation
	Fixes bug #9788

2005-04-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTableView.m: ([-mouseDown:]) tweak vertical image
	offset because view is flipped.  Still not sure this code is
	correct  ... which coordinate system is the image offset supplied
	by ([-dragImageForRows:event:dragImageOffset:]) supposed to be in?

2005-04-01  Adam Fedor  <fedor@gnu.org>

	* Headers/AppKit/NSDataLinkManager.h, Source/NSDataLinkManager.m:
	Re-add the changes from 2005-03-05.

2005-04-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSDragView.m: when dragging, use the mouse offset to adjust
	the initial position of the dragged image.
	Modified internally to pass the original position of the image so
	that slideback can slide to that position rather than the position
	the mouse started from.  This makes no difference if the initial
	mouse offset was zero, but does have an effect if the drag was
	initiated by a mouse move at a location offset from the original
	mouse down.
	Exposed a couple of methods for subclasses.
	* Source/NSColorPanel.m: Set image position for DnD so that color
	swatch is centered on the mouse position.
	* Source/NSImageView.m: ditto
	* Source/NSTableView.m: ([-mouseDown:]) after calling the
	([-dragImageForRows:event:dragImageOffset:]) method, use the
	returned offset to position the center of the image relative
	to the mouse pointer .. I *think* that's what the apple documentation
	of the method means.

2005-03-30  Adam Fedor  <fedor@gnu.org>

	* Version 0.9.5

	* Headers/AppKit/NSDataLinkManager.h, Source/NSDataLinkManager.m:
	Partially revert 2005-03-05 patch for this release.

2005-03-29 Adrian Robert <arobert@cogsci.ucsd.edu>

	* Source/NSWorkspace.m (-_extIconForApp:info:): Check filename is
	not empty string before passing to [NSBunder -pathForImageResource:].

2005-03-29 Adrian Robert <arobert@cogsci.ucsd.edu>

	* Source/NSGraphicsContext.m: Undeprecate DPSxshow, DPSyshow,
	DPSxyshow, DPSashow, DPSwidthshow, and DPSawidthshow.

2005-03-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSDragView.m:
	* Headers/Additions/GNUstepGUI/GSDragView.h: Minor tweaks to ease
	subclassing.

2005-03-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSDragView.m: Fix a few bugs exposed by windows port and
	tidy/add comments to clarify operation.  When initiating DnD session,
	take offset argument into account rather than ignoring it.
	* Headers/Additions/GNUstepGUI/GSDragView.h: Improve comments and
	change offset to be NSSize rather thgan NSPoint.

2005-03-21  Adam Fedor  <fedor@gnu.org>

	* Tools/gsnd/portaudio/pa_unix_oss/pa_unix_oss.c: Fix for FreeBSD
	FTBFS (Fixes Bug #12316). Strip DOS CRs.

2005-03-21  Adam Fedor  <fedor@gnu.org>

	* configure.ac: Check for libgif
	* Source/NSBitmapImageRep+GIF.m: Support libgif
	* Source/NSBitmapImageRem.m: Idem. (Fixes Bug #12362).

2005-03-19  Adam Fedor  <fedor@gnu.org>

	* Headers/AppKit/DPSOperators.h, Headers/AppKit/NSGraphics.h:
	Modify selectors to play nice with C++ compiler.
	* Headers/AppKit/NSAffineTransform.h, Headers/AppKit/NSFontManager.h,
	Headers/AppKit/NSPageLayout.h: Modify arg name for same purpose.
	* Source/NSAffineTransform.m, Source/NSFontManager.m,
	Source/NSPageLayout.m: Modify to match header. (Patch from
	Francis Franklin, with some modifications).

2005-03-14  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSMatrix.m:
	([_renewRows:columns:rowSpace:colSpace:]) Corrected last patch so
	that the open panel works again. Initialize all new cells, not
	just the requested ones.

2005-03-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSMatrix.m:
	([removeRow:]) set column counts to zero if all rows are removed
	([removeColumn:]) set row counts to zero if all columns are removed
	([_renewRows:columns:rowSpace:colSpace:]) initialise all columns of
	any newly created rows (up to _maxCols) rather than just the number
	specified by the method argument.  Otherwise we get uninitialised
	columns in the matrix which will cause a crash when they are used.
	Fixes bug #12299

2005-03-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/AppKit/NSGraphics.h: Fix prototype for stricter compiler.
	* Source/Functions.m: ditto
	Deal with bug #12296

2005-03-10  Nicola Pero <n.pero@mi.flashnet.it>

	* Headers/AppKit/AppKitDefines.h (GS_EXPORT): Use extern, not
	__declspec(dllexport), on mingw

2005-03-10  Nicola Pero <n.pero@mi.flashnet.it>

	* configure.ac: Fixed setting variable when libjpeg can't be found.
	* configure: Regenereated.

2005-03-07  Fred Kiefer <FredKiefer@gmx.de>

	* Header/AppKit/NSCell.h: Moved NSControlSize definition to ...
	* Header/AppKit/NSColor.h: ... here and added
	NSMiniControlSize. For NSControlTint added NSBlueControlTint and
	NSGraphiteControlTint.
	* Header/AppKit/NSFont.h (+menuBarFontOfSize:,
	+systemFontSizeForControlSize:, -numberOfGlyphs,
	-coveredCharacterSet, -fontDescriptor): New MacOSX 10.3 methods.
	* Source/NSFont.m: Added dummy implementations for the new methods.

2005-03-05 Adrian Robert <arobert@cogsci.ucsd.edu>

	* Source/NSApplication.m (-_windowDidResignKey:) Unhide mouse.

2005-03-05 Adrian Robert <arobert@cogsci.ucsd.edu>

	* Source/NSScroller.m (-checkSpaceForParts, -rectForPart:) Calculate
	buttonsWidth variable dynamically based on +scrollerWidth (supports
	width override by subclass).

2005-03-05 10:53 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/AppKit/NSDataLink.h
	* Headers/AppKit/NSDataLinkManager.h: Added some ivars
	* Source/Functions.m: Changed the NSLinkFrameThickness() function to
	return 1 instead of 1.5.
	* Source/NSDataLink.m: Implemented several methods.
	* Source/NSDataLinkManager.m: Implemented several methods.
	* Source/NSDataLinkPanel.m: Change version from 1 to 0.
	* Source/NSSelection.m: Change version from 1 to 0, corrected
	but in initWithCoder:.

2005-03-03  Adam Fedor  <fedor@gnu.org>

	* configure.ac: Disable gsnd on darwin

	* Tools/GNUmakefile.preamble (GSspell_TOOL_LIBS): Add lib depends.

2005-02-27 Adrian Robert <arobert@cogsci.ucsd.edu>

	* Source/NSApplication.m (-runModalForWindow:) Clarify gsdoc
	explaining why we don't follow Apple docs here.  (Corrects gsdoc
	from change on 2005-01-26, which itself documented a code change on
	2005-01-18.)

2005-02-26 18:04  Alexander Malmberg  <alexander@malmberg.org>

	* Headers/Additions/GNUstepGUI/GSServicesManager.h: Include the
	NSMenuItem.h header instead of forward declaring the NSMenuItem
	protocol.

2005-02-23  Fred Kiefer <FredKiefer@gmx.de>

	* Header/AppKit/NSColor.h (-alternateSelectedControlColor,
	-alternateSelectedControlTextColor,
	-secondarySelectedControlColor,
	controlAlternatingRowBackgroundColors): New MacOSX system colour methods.
	* Source/NSColor.m (-alternateSelectedControlColor,
	-alternateSelectedControlTextColor,
	-secondarySelectedControlColor,
	controlAlternatingRowBackgroundColors): Implemented the new
	methods.
	(initSystemColors): Added default values for new system coloure methods

2005-02-21  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSCell.m (-initWithCoder):
	* Source/NSButtonCell.m (-initWithCoder):
	* Source/NSBrowser.m (-initWithCoder):
	Small improvements on keyed decoding of flags.

2005-02-19  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSSavePanel.m (-_setDefaultDirectory): New method to get
	default directory from user defaults (NSDefaultOpenDirectory).
	(-_resetDefaults): Use it for setting of default directory.
	(-_setupForDirectory:file:): Use the new method here as well if no
	path is provided. Cleaned up this method.
	(-cancel:) Don't clean up filename and set directory to current.
	(-ok:) Don't set _OKButtonPressed.
	* Source/NSOpenPanel.m (-ok:): Don't set _OKButtonPressed.
	(-_setupForDirectory:file:): Removed code duplicating super class
	implementation.
	This fixes most of bug #7900.

2005-02-14  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPopupButton.m (-mouseDown:): Moved code from here ...
	* Source/NSPopupButtonCell.m
	(-trackMouse:inRect:ofView:untilMouseUp:): ... to here. This fixes
	bug #9824.

2005-02-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTitleView.m (-mouseDown:): Post an
	NSWindowDidMoveNotification at end of method if window was dragged.
	Fixes bug #11906

2005-02-12  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Additions/GNUstepGUI/GSDisplayServer.h (-setalpha::): Declare.
	* Source/GSDisplayServer.m (-setalpha::): New method for window
	alpha setting, with empty default implementation.
	* Source/NSWindow.m (-setAlphaValue:): Implemented alpha setting
	via display server.
	(-_initDefaults): Set _alphaValue to 1.0.

2005-02-12  Fred Kiefer <FredKiefer@gmx.de>

	* Model/GMAppKit.m (NSButtonCell-initWithModelUnarchiver:):
	Resorted code to work around AppKit change on button type
	handling. Patch by Georg Fleischmann <georg@vhf.de>

2005-02-12  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSAffineTransform.m (-boundingRectFor:result:): Further
	corrections on last change.

2005-02-11  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSAffineTransform.m (-boundingRectFor:result:):
	Corrected algorithm to compute bounding box for transformed
	rectangle (Code based on Cairo). This fixes bug #11562.

2005-02-08  Matt Rice  <ratmice@yahoo.com>

	* Source/NSApplication.m (-changeWindowsItem:title:filename:): If the
	window can become key, use makeKeyAndOrderFront: as the action.
	(-updateWindowsItem:, -setWindowsMenu): Compare the title to what it
	would be if there was a represented filename, not the filename.
	* Source/NSApplication.m (-orderWindow:relativeTo:): Ditto.
	(-setExcludedFromWindowsMenu): Ditto.

2005-02-08  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSSecureTextField.m (-drawInteriorWithFrame:inView:):
	Draw the background colour of the cell.

2005-02-07  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableView.m (-expandItem:expandChildren:,
	collapseItem:collapseChildren:): Added a call to setNeedsDisplay:,
	so the new status will be shown correctly.
	(_openItem:): Removed setNeedsDisplay: call as all callers do it already.

2005-02-05 15:42 Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/AppKit/NSDataLinkManager.h: Moved NSDataLinkManager delegate
	methods to an informal protocol NSDataLinkManagerDelegate.
	* Source/Functions.m: Implemented NSFrameLinkRect() to draw the frames
	around source and destination links.
	* Source/NSBundleAdditions.m: Modified -description method in
	NSNibConnector to display the source, destination and label for the
	connection.  This makes it easier to debug.
	* Source/NSDataLink.m: Implemented a few private methods.
	* Source/NSDataLinkManager.m: Implemented -breakAllLinks.

2005-02-03 10:54  Alexander Malmberg  <alexander@malmberg.org>

	* Source/NSImage.m (min, max): Rename to ...
	(gs_min, gs_max): ... this. Update callers.

2005-01-28 21:58 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSColorWell.m: [NSColorWell mouseDown:] prevent use
	of the colorwell when it's disabled.

2005-01-28 17:57  Alexander Malmberg  <alexander@malmberg.org>

	* Source/NSImageCell.m (-drawInteriorWithFrame:inView:): If our
	view is flipped, flip the image.

2005-01-26 Adrian Robert <arobert@cogsci.ucsd.edu>

	* Source/NSApplication.m (-beginModalSessionforWindow:): Center
	panels only if they are not already up, matching OS X Panther;
	document.
	(-runModalForWindow:, -runModalSession:): Clarify documentation.

2005-01-25 01:05  Alexander Malmberg  <alexander@malmberg.org>

	* Source/NSImageCell.m (-drawInteriorWithFrame:inView:): Use
	-drawInRect:fromRect:operation:fraction: to draw the image.

2005-01-25 00:29  Alexander Malmberg  <alexander@malmberg.org>

	* Headers/AppKit/NSImage.h (-drawAtPoint:fromRect:fraction:)
	(-drawInRect:fromRect:operation:fraction:): Document.
	* Source/NSImage.m -drawAtPoint:fromRect:fraction:)
	(-drawInRect:fromRect:operation:fraction:): Implement.
	(min, max): New functions.
	(-drawRepresentation:inRect:): Save the gstate before drawing
	and restore it afterwards.

	Fixes bug #11712.

2005-01-24 16:57  Alexander Malmberg  <alexander@malmberg.org>

	* Source/NSPopUpButtonCell.m (-synchronizeTitleAndSelectedItem): For
	non-pulldowns, make sure the selected item and the highlighted item
	are the same.

2005-01-24  Quentin Mathe  <qmathe@club-internet.fr>

	* Source/GSToolbarView.m (initSystemExtensionsColors()): Removed
	spurious 'else' (introduced with revision 1.11) which prevented toolbar
	colors loading code to be executed (Fix the white toolbar background bug
	reported by Riccardo Mottola).

2005-01-24 Adrian Robert <arobert@cogsci.ucsd.edu>

	* Source/NSSavePanel.m (-_shouldShowExtension:isDir:,
	-setRequiredFileType:, -requiredFileType, -filename): For filename
	display filtering, handle case where _requiredFileType is unset or
	set to nil or "" by allowing any extension (including none), as
	specified in Apple docs, instead of allowing no extensions, as it
	was.  Document.

2005-01-24 00:48  Alexander Malmberg  <alexander@malmberg.org>

	* Source/NSImageCell.m (-drawInteriorWithFrame:inView:): Draw
	the image using the right size, but don't scale it. Work around
	bug #11712.

2005-01-22 Adrian Robert <arobert@cogsci.ucsd.edu>

	* Source/NSFontManager.m (-fontWithFamily:traits:weight:size:)
	Corrected logic in fallback approximate trait search for weight 5 or 6
	(regular) fonts. Font w/approximate traits but originally-requested
	weight will now be found.

2005-01-21 21:43  Alexander Malmberg  <alexander@malmberg.org>

	Various whitespace cleanups, comment type fixes, and changes
	to avoid warnings from recent versions of gcc.

	* Headers/Additions/GNUstepGUI/GSToolbar.h (-_toolbars): Declare.
	* Source/NSWindow+Toolbar.m: Remove conflicting declaration of
	[NSToolbar -_toolbars].

	* Headers/Additions/GNUstepGUI/GSServicesManager.h,
 	Source/GSServicesMananger.m (-item2title:, -validateMenuItem:):
	Adjust argument types.
	* Headers/AppKit/NSMenu.h (-validateMenuItem:): Adjust argument
	type.

	* Source/NSTextView.m (-sizeToFit): Don't use size uninitialized
	if neither resizable flags is set.
	(-insertText:): Adjust argument type.
	* Headers/AppKit/NSResponder.h, Source/NSResponder.m (-insertText:):
	Adjust argument type. Document.

	* Headers/AppKit/NSView.h: Change type of ivar _window to NSWindow *.

	* Source/GSTitleView.m (-mouseDown:): Always initialize
	startWindowOrigin.
	* Source/NSApplication.m (-setApplicationIconImage:): Add casts
	to avoid warnings.
	* Source/NSCell.m (-cellSize): Add default: case.
	* Source/NSPasteboard.m
	([GSFiltered -pasteboard:provideDataForType:]): Detect and warn if we
	can't find a filter that will get us the desired type.
	* Source/NSProgressIndicator.m: Comment out unused variable 'images'.
	* Source/NSBezierPath.m: Declare GSBezierPath fully before using it.
	(-bezierPathByFlatteningPath, -bezierPathByReversingPath): Make sure
	variables are always initialized.

	* Source/NSMenuView.m,
	* Source/NSPrintOperation.m,
	* Source/NSSplitView.m,
	* Source/NSTableHeaderView.m: Make sure variables are always
	initialized.

	* Source/NSBox.m,
	* Source/NSImageview.m,
	* Source/NSText.m,
	* Source/NSTextStorage.m: Add missing includes.

	* Source/GSKeyBindingTable.m,
	* Source/GSLayoutManager.m,
	* Source/NSBitmapImageRep+PNM.m,
	* Source/NSBundleAdditions.m,
	* Source/NSLayoutManager.m,
	* Source/nsimage-tiff.h,
	* Source/tiff.m,
	* Headers/Additions/GNUstepGUI/GSDisplayServer.h,
	* Source/GSDisplayServer.m: Change signedness of various variables.

	* Source/NSPanel.m (-sendEvent:): Remove.
	* Source/NSWindow.m (-becomesKeyOnlyIfNeeded): New method.
	(-_sendEvent:becomesKeyOnlyIfNeeded:): Remove. Move code ...
	(-sendEvent:): ... here. Use -becomesKeyOnlyIfNeeded instead
	of the argument.

2005-01-21  Quentin Mathe  <qmathe@club-internet.fr>

	* Source/GSToolbarView.m:
	* Headers/Additions/GNUstepGUI/GSToolbarView.h:
	Renamed the NSColor(Extensions) category with the more descriptive name
	NSColor(GSToolbarViewAdditions). This modification permits GNUMail
	compilation with recent Darwin linker versions which prevented it
	because GNUMail has a NSColor category identically named "Extensions".

2005-01-20  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTableView.m (-rowAtPoint:): If the heigh of the table
	is incorrect and because of this the row would be greater than the
	number of rows, return a usable number.

2005-01-18 17:06  Alexander Malmberg  <alexander@malmberg.org>

	* Source/NSWindow.m
	(-initWithContentRect:styleMask:backing:defer:screen:): Assert that
	the shared application instance has been created instead of just
	calling NSLog. Make the message clearer.

2005-01-18 16:53  Alexander Malmberg  <alexander@malmberg.org>

	* Source/NSCell.m (-setUpFieldEditorAttributes:): Clear the
	text object's string.
	* Source/NSControl.m (-setDoubleValue:, -setFloatValue:)
	(-setIntValue:, -setStringValue:, -setObjectValue:): If the receiver
	was being edited when the method was called, make it the first
	responder after changing the value.
	(-abortEditing): Don't clear the text object's string.
	* Source/NSMatrix.m (-abortEditing): Don't clear the text object's
	string.
	* Source/NSTableView.m (-abortEditing): Ditto.
	* Source/NSTextField.m (-abortEditing): Ditto.

2005-01-18 16:39  Alexander Malmberg  <alexander@malmberg.org>

	* Source/NSBitmapImageRep.m
	(-TIFFRepresentationUsingCompression:factor:): Don't use pointer
	comparisons to compare strings. Handle both device and calibrated
	colorspaces. Warn if the colorspace isn't recognized.

2005-01-18 15:50  Alexander Malmberg  <alexander@malmberg.org>

	* Source/NSApplication.m (-runModalSession:): Don't order the window
	to the front or make it the key/main window.

2005-01-18 15:46  Alexander Malmberg  <alexander@malmberg.org>

	* Source/NSApplication.m (-finishLaunching): Don't attempt to open
	an untitled file if we were autolaunched.

2005-01-18 14:16  Alexander Malmberg  <alexander@malmberg.org>

	* Source/NSAffineTransform.m (pi): Correct the rounding.

2005-01-18  Matt Rice <ratmice@yahoo.com>

        * Source/NSTextView.m (setSelectedRange:): Do not make the selected
	text visible.
        (-didChangeText,-checkSpelling:): Make the selected text visible.
        * Source/NSTextView_actions.m (_moveTo:select:): Ditto.
        * Source/NSCell.m (-setUpFieldEditorAttributes:): Ditto.
        (-selectWithFrame:inView:editor:delegate:start:length:): Ditto.
        * Source/NSComboBoxCell (-validateSelection:,-textDidChange:): Ditto.

2005-01-18 14:09  Alexander Malmberg  <alexander@malmberg.org>

	* Source/Functions.m (NSDottedFrameRect, NSFrameRectWithWidth): Draw
	the frame inside the given rectangle.
	(NSDrawTiledRects): Remove documentation.
	* Headers/AppKit/NSGraphics.h (NSDottedFrameRect, NSFrameRect)
	(NSFrameRectWithWidth, NSDrawTiledRects): Add new documentation.

2005-01-17 Adrian Robert <arobert@cogsci.ucsd.edu>

	* Source/NSWindow.m (-sendEvent:becomesKeyOnlyIfNeeded:): Give
	mouseDragged events to _lastView rather than view (if exists)
	underneath mouse.

2005-01-17 Adrian Robert <arobert@cogsci.ucsd.edu>

	* Source/NSApplication.m
	(-nextEventMatchingMask:untilDate:inMode:dequeue:): Check that
	event is not 'null_event' before using it to unhide mouse.

2005-01-17  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBrowserCell.m (-setType:): New method, does nothing to
	allow image and text at once (MacOSX 10.2 behaviour).
	(-drawInteriorWithFrame:inView:): Draw an image or alternate image,
	if provided and draw the text as well.

2005-01-16  Fred Kiefer <FredKiefer@gmx.de>

	* Images/common_ClosedHandCursor.tiff: Replaced by new image files by
	Fabien Vallon <fabien@sonappart.net>.

2005-01-16  Fred Kiefer <FredKiefer@gmx.de>

	* TextConverters/RTF/RTFProducer.m (-_stringWithRTFCharacters:):
	Output "\uc0" so that other applications know we don't write ANSI
	representations of Unicode characters.

2005-01-16  Fred Kiefer <FredKiefer@gmx.de>

	* Printing/GSCUPS/GSCUPSPrinter.m (+printerNames): Add dummy
	printer to list, if no printers are found.

2005-01-16 06:39 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSDocument.m: In validateMenuItem: added code to
	properly set the undo/redo title and disable the menus when
	appropriate.

2005-01-15 05:59 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSDocument.m: Added undo:/redo: here.  Smarter use
	of the responder chain.
	* Source/NSWindow.m: Removed undo:/redo: here.

2005-01-14 16:11  Alexander Malmberg <alexander@malmberg.org>

	* Headers/AppKit/NSSavePanel.h (-panel:shouldShowFilename:):
	Document.
	* Source/NSSavePanel.m (-setDelegate:): Call -validateVisibleColumns.
	Whitespace cleanups.
	(-browser:isColumnValid:): Give the delegate the complete path to
	each file.

	Fixes bug #10553.

2005-01-14 09:25 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSDocument.m: Minor change.  The init method now sets the
	flag to YES so that when a undoManager is needed, it's instantiated.

2005-01-14 05:50 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSDocument.m: corrected undoManager call in NSDocument.

2005-01-13  Adam Fedor  <fedor@gnu.org>

	* Source/GNUmakefile.preamble: Extend FILTER_OUT flag to
	all sparc architectures.

2005-01-12 16:40  Alexander Malmberg <alexander@malmberg.org>

	* Headers/AppKit/NSBezierPath.h (-windingCountAtPoint:): Mark as
	a GNUstep extension.

2005-01-12 00:47  Alexander Malmberg <alexander@malmberg.org>

	* Source/GSStandardWindowDecorationView.m (-initWithFrame:window:):
	Create a paragraph style with line-breaking-by-clipping and use it
	for window titles.

2005-01-12 00:41  Alexander Malmberg <alexander@malmberg.org>

	* Printing/GSCUPS/GSCUPSPrinter.h (GSCUPSDummyPrinterName): New
	variable.
	* Printing/GSCUPS/GSCUPSPrinter.m (GSCUPSDummyPrinterName): New
	variable.
	(+printerWithName:): Warn and return a dummy printer when requested.
	* Printing/GSCUPS/GSCUPSPrintInfo.m (defaultPrinter): If there's
	no default CUPS printer set, return a dummy printer.

	Fixes bug #10916.

2005-01-11 23:50  Alexander Malmberg <alexander@malmberg.org>

	* Headers/AppKit/NSBezierPath.h (NSWindingRule)
 	(-containsPoint): Document.
	(-windingCountAtPoint:): New method.
	* Source/NSBezierPath.m: Remove some trailing whitespace.
	(PI): Correct rounding.
	(contribution, -contributionToContains:): Remove.
	(winding_line, winding_curve): New functions.
	(-windingCountAtPoint:): New method.
	(-containsPoint:): Use -windingCountAtPoint: instead of
	-contributionToContains:. Don't flatten the path.

2005-01-09  Matt Rice  <ratmice@yahoo.com>

	* Source/NSTableHeaderCell.m (-drawInteriorWithFrame:inView:): Use
	the correct background/highlight colors and NSCompositeSourceOver for
	image cells.
	(-setHighlighted): Use controlHighlightColor instead of controlColor.

